(function(e,t,n){if(e.hiSlider2)return;e.hiSlider2=e.hiSlider2f={TIMEOUT:3e4};var r=e.define;if(!r||!r.amd)r=function(){};var i=function(){function t(e,t){return e-t}function n(n,r){r=r||t;var i=1,s=n.length,o=n.head,u,a,f,l,c,h,p,d,v,m,g;while(i<s){l=0,u=n.head.next;while(l<s){c=0,a=u.next;while(++c<i&&a.next!==o)a=a.next;f=a.next,c=0;while(++c<i&&f.next!==o)f=f.next;h=v=l,d=m=e(l+i,s),p=e(l+2*i,s);while(v<d&&m<p)r(u.value,a.value)<=0?(v++,u=u.next):u!==a&&(g=a.next,a.prev.next=a.next,a.next.prev=a.prev,a.next=u,a.prev=u.prev,u.prev.next=a,u.prev=a,a=g,m++);u=f,l+=2*i}i*=2}}function r(e,t,n,r,i){var s=e,o;while(s!==t){i&&r&&r.remove(s),o=n(s.value,s,r),s=s.next;if(o===!1)break}return s}function i(){this.head={},this.length=0,this.head.prev=this.head,this.head.next=this.head}var e=Math.min;return i.prototype={constructor:i,push:function(e){var t=this.head,n=t.prev,r={value:e};return r.prev=n,r.next=t,t.prev=n.next=r,this.length++,r},clear:function(){this.head.prev=this.head.next=this.head,this.length=0},unshift:function(e){var t=this.head,n={value:e},r=t.next;return n.prev=t,n.next=r,r.prev=n,t.next=n,this.length++,n},shift:function(){var e=null;return this.length&&(e=this.remove(this.head.next)),e},remove:function(e){return e&&!e.removed&&(e.prev.next=e.next,e.next.prev=e.prev,e!==this.head&&(this.length--,e.removed=!0)),e},copy:function(e){this.empty();var t=-1,n=e.length;while(++t<n)this.push(e[t])},sort:function(e){n(this,e)},iterate:function(e,t){r(this.head.next,this.head,e,this,t)}},i.iterate=r,i}();r("structs/LinkedList",function(){return i});var s=function(){return function(){var r={name:"",ie:0,gecko:0,webkit:0,khtml:0,opera:0,ver:null},i={ie:0,firefox:0,safari:0,konq:0,opera:0,chrome:0,ver:null},s={win:!1,mac:!1,x11:!1,iphone:!1,ipod:!1,ipad:!1,ios:!1,android:!1},o,u=navigator.userAgent;if(e.opera)r.ver=i.ver=e.opera.version(),r.opera=i.opera=parseFloat(r.ver),r.name="opera";else if(/AppleWebKit\/(\S+)/.test(u)){r.ver=RegExp.$1,r.webkit=parseFloat(r.ver),r.name="webkit";if(/Chrome\/(\S+)/.test(u))i.ver=RegExp.$1,i.chrome=parseFloat(i.ver);else if(/Version\/(\S+)/.test(u))i.ver=RegExp.$1,i.safari=parseFloat(i.ver);else{var a=1;r.webkit<100?a=1:r.webkit<312?a=1.2:r.webkit<412?a=1.3:a=2,i.safari=i.ver=a}}else/KHTML\/(\S+)/.test(u)||/Konqueror\/([^;]+)/.test(u)?(r.ver=i.ver=RegExp.$1,r.khtml=i.konq=parseFloat(r.ver),r.name="khtml"):/rv:([^\)]+)\) Gecko\/\d{8}/.test(u)?(r.ver=RegExp.$1,r.gecko=parseFloat(r.ver),r.name="gecko",/Firefox\/(\S+)/.test(u)&&(i.ver=RegExp.$1,i.firefox=parseFloat(i.ver))):/MSIE ([^;]+)/.test(u)&&(r.ver=i.ver=RegExp.$1,r.ie=i.ie=parseFloat(r.ver),r.name="ie");i.ie=r.ie,i.opera=r.opera;var f=navigator.platform;s.win=f.indexOf("Win")==0,s.mac=f.indexOf("Mac")==0,s.x11=f=="X11"||f.indexOf("Linux")==0;if(s.win&&/Win(?:dows )?([^do]{2})\s?(\d+\.\d+)?/.test(u))if(RegExp.$1==="NT")switch(RegExp.$2){case"5.0":s.win="2000";break;case"5.1":s.win="XP";break;case"6.0":s.win="Vista";break;case"6.1":s.win="7";break;default:s.win="NT"}else RegExp.$1==="9x"?s.win="ME":s.win=RegExp.$1;s.iphone=u.indexOf("iPhone")>-1,s.ipod=u.indexOf("iPod")>-1,s.ipad=u.indexOf("iPad")>-1,s.mac&&u.indexOf("Mobile")>-1&&(/CPU (?:iPhone )?OS (\d+_\d+)/.test(u)?s.ios=parseFloat(RegExp.$1.replace("_",".")):s.ios=2),/Android (\d+\.\d+)/.test(u)&&(s.android=parseFloat(RegExp.$1)),o=e.Modernizr=function(e,t,n){function x(e){f.cssText=e}function T(e,t){return x(h.join(e+";")+(t||""))}function N(e,t){return typeof e===t}function C(e,t){return!!~(""+e).indexOf(t)}function k(e,t){for(var r in e){var i=e[r];if(!C(i,"-")&&f[i]!==n)return t=="pfx"?i:!0}return!1}function L(e,t,r){for(var i in e){var s=t[e[i]];if(s!==n)return r===!1?e[i]:N(s,"function")?s.bind(r||t):s}return!1}function A(e,t,n){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+" "+d.join(r+" ")+r).split(" ");return N(t,"string")||N(t,"undefined")?k(i,t):(i=(e+" "+v.join(r+" ")+r).split(" "),L(i,t,n))}var r="2.7.0",s={},o=t.documentElement,u="modernizr",a=t.createElement(u),f=a.style,l,c=":)",h=" -webkit- -moz- -o- -ms- ".split(" "),p="Webkit Moz O ms",d=p.split(" "),v=p.toLowerCase().split(" "),m={},g=[],y=g.slice,b,w=function(e,n,r,i){var s,a,f,l,c=t.createElement("div"),h=t.body,p=h||t.createElement("body");if(parseInt(r,10))while(r--)f=t.createElement("div"),f.id=i?i[r]:u+(r+1),c.appendChild(f);return s=["&#173;",'<style id="s',u,'">',e,"</style>"].join(""),c.id=u,(h?c:p).innerHTML+=s,p.appendChild(c),h||(p.style.background="",p.style.overflow="hidden",l=o.style.overflow,o.style.overflow="hidden",o.appendChild(p)),a=n(c,e),h?c.parentNode.removeChild(c):(p.parentNode.removeChild(p),o.style.overflow=l),!!a},E={}.hasOwnProperty,S;!N(E,"undefined")&&!N(E.call,"undefined")?S=function(e,t){return E.call(e,t)}:S=function(e,t){return t in e&&N(e.constructor.prototype[t],"undefined")},Function.prototype.bind||(Function.prototype.bind=function(t){var n=this;if(typeof n!="function")throw new TypeError;var r=y.call(arguments,1),i=function(){if(this instanceof i){var e=function(){};e.prototype=n.prototype;var s=new e,o=n.apply(s,r.concat(y.call(arguments)));return Object(o)===o?o:s}return n.apply(t,r.concat(y.call(arguments)))};return i}),m.canvas=function(){var e=t.createElement("canvas");return!!e.getContext&&!!e.getContext("2d")},m.canvastext=function(){return!!s.canvas&&!!N(t.createElement("canvas").getContext("2d").fillText,"function")},m.rgba=function(){return x("background-color:rgba(150,255,150,.5)"),C(f.backgroundColor,"rgba")},m.hsla=function(){return x("background-color:hsla(120,40%,100%,.5)"),C(f.backgroundColor,"rgba")||C(f.backgroundColor,"hsla")},m.borderimage=function(){return A("borderImage")},m.borderradius=function(){return A("borderRadius")},m.boxshadow=function(){return A("boxShadow")},m.textshadow=function(){return t.createElement("div").style.textShadow===""},m.orientation=function(){return"orientation"in e&&"onorientationchange"in e},m.touch=function(){var n;return"ontouchstart"in e||e.DocumentTouch&&t instanceof DocumentTouch?n=i.firefox===0:w(["@media (",h.join("touch-enabled),("),u,")","{#modernizr{top:9px;position:absolute}}"].join(""),function(e){n=e.offsetTop===9}),n},m.opacity=function(){return T("opacity:.55"),/^0.55$/.test(f.opacity)},m.cssgradients=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));",n="linear-gradient(left top,#9f9, white);";return x((e+"-webkit- ".split(" ").join(t+e)+h.join(n+e)).slice(0,-e.length)),C(f.backgroundImage,"gradient")},m.webkitgradient=function(){var e="background-image:",t="gradient(linear,left top,right bottom,from(#9f9),to(white));";return x(e+"-webkit- ".split(" ").join(t+e)),C(f.backgroundImage,"gradient")},m.cssreflections=function(){return A("boxReflect")},m.csstransforms=function(){return!!A("transform")},m.csstransforms3d=function(){var e=!!A("perspective");return e&&"webkitPerspective"in o.style&&w("@media (transform-3d),(-webkit-transform-3d){#modernizr{left:9px;position:absolute;height:3px;}}",function(t,n){e=t.offsetLeft===9&&t.offsetHeight===3}),e},m.generatedcontent=function(){var e;return w(["#",u,"{font:0/0 a}#",u,':after{content:"',c,'";visibility:hidden;font:3px/1 a}'].join(""),function(t){e=t.offsetHeight>=3}),e},m.video=function(){var e=t.createElement("video"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('video/ogg; codecs="theora"').replace(/^no$/,""),n.h264=e.canPlayType('video/mp4; codecs="avc1.42E01E"').replace(/^no$/,""),n.webm=e.canPlayType('video/webm; codecs="vp8, vorbis"').replace(/^no$/,"")}catch(r){}return n},m.audio=function(){var e=t.createElement("audio"),n=!1;try{if(n=!!e.canPlayType)n=new Boolean(n),n.ogg=e.canPlayType('audio/ogg; codecs="vorbis"').replace(/^no$/,""),n.mp3=e.canPlayType("audio/mpeg;").replace(/^no$/,""),n.wav=e.canPlayType('audio/wav; codecs="1"').replace(/^no$/,""),n.m4a=(e.canPlayType("audio/x-m4a;")||e.canPlayType("audio/aac;")).replace(/^no$/,"")}catch(r){}return n};for(var O in m)S(m,O)&&(b=O.toLowerCase(),s[b]=m[O](),g.push((s[b]?"":"no-")+b));return s.addTest=function(e,t){if(typeof e=="object")for(var r in e)S(e,r)&&s.addTest(r,e[r]);else{e=e.toLowerCase();if(s[e]!==n)return s;t=typeof t=="function"?t():t,typeof enableClasses!="undefined"&&enableClasses&&(o.className+=" "+(t?"":"no-")+e),s[e]=t}return s},x(""),a=l=null,s._version=r,s._prefixes=h,s._domPrefixes=v,s._cssomPrefixes=d,s.testProp=function(e){return k([e])},s.testAllProps=A,s.testStyles=w,s}(e,e.document),Modernizr.addTest("cssfilters",function(){var e=t.createElement("div");return e.style.cssText=Modernizr._prefixes.join("filter:blur(2px); "),!!e.style.length&&(t.documentMode===n||t.documentMode>9)});var l={engine:r,browser:i,system:s,support:o};return e.hiSlider2f||(e.hiSlider2f={}),e.hiSlider2f.client=l,l}()}();r("lib/client",function(){return s});var o=function(){function a(e){function t(){}return Object.create?Object.create(e):(t.prototype=e,new t)}function f(e){return e}function l(){}function c(e){return e&&e.document&&e.location&&e.alert&&e.setInterval}function h(e){return typeof e=="boolean"}function p(e){return typeof e=="number"}function d(e){return typeof e=="string"}function v(e){return!!e&&!!(e.nodeName||e.on&&e.find&&e.jquery)}function m(e){return e===n}function g(e){return e!==n}function y(e){return e!=null&&typeof e=="object"}function b(e){return r.apply(e)==="[object Array]"}function w(e){return typeof e=="function"}function E(e){return r.apply(e)==="[object Date]"}function S(e){return r.apply(e)==="[object RegExp]"}function x(e){var t;return e==null||c(e)?!1:(t=e.length,e.nodeType===1&&t?!0:b(e)||!w(e)&&(t===0||typeof t=="number"&&t>0&&t-1 in e))}function T(e){if(e&&e.length!==0){var t=e.toString().toLowerCase();e=t!=="f"&&t!=="0"&&t!=="false"&&t!=="no"&&t!=="n"&&t!=="[]"}else e=!1;return!!e}function k(e,t,n){return e=e<0?e+1:e>1?e-1:e,(e*6<1?t+(n-t)*e*6:e<.5?n:e*3<2?t+(n-t)*(2/3-e)*6:t)*255+.5|0}function L(e){var t,n,r,i,s,o,u;return e?isNaN(+e)?(e.charAt(e.length-1)===","&&(e=e.substr(0,e.length-1)),C[e]?C[e]:(e.substr(0,2).toLowerCase()==="0x"&&(e="#"+e.substr(3)),e.charAt(0)==="#"?e.length===5||e.length>7?(e.length===5&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),i=e.charAt(4),e="#"+t+t+n+n+r+r+i+i),e=parseInt(e.substr(1),16),[e>>24&255,e>>16&255,e>>8&255,(e&255)/255]):(e.length===4&&(t=e.charAt(1),n=e.charAt(2),r=e.charAt(3),e="#"+t+t+n+n+r+r),e=parseInt(e.substr(1),16),[e>>16&255,e>>8&255,e&255]):e.substr(0,3)==="hsl"?(e=e.match(N),s=+e[0]%360/360,o=+e[1]/100,u=+e[2]/100,n=u<=.5?u*(o+1):u+o-u*o,t=u*2-n,e.length>3&&(e[3]=+e[3]),e[0]=k(s+1/3,t,n),e[1]=k(s,t,n),e[2]=k(s-1/3,t,n),e):(e=e.match(N)||C.transparent,e[0]=Math.max(+e[0],0)&255,e[1]=Math.max(+e[1],0)&255,e[2]=Math.max(+e[2],0)&255,e.length>3&&(e[3]=Math.max(0,Math.min(1,+e[3]))),e))):(e=+e,[e>>16,e>>8&255,e&255]):C.black}function A(e,t){return b(e)?e=_(e,function(e){return Math.max(0,+e)&255}):e=L(e),u?t!=null&&(e[3]=+t):e.length>3&&(e=e.slice(0,3)),(e.length>3?"rgba(":"rgb(")+e.join(",")+")"}function O(e,t){return _(e,function(e,n){return t[n]==null?e:Math.min(Math.max(0,+e+ +t[n]),255)&255})}function M(e,t,n){var r,i;if(!w(t))return e;if(e)if(w(e))for(r in e)r!=="prototype"&&r!=="length"&&r!=="name"&&o.call(e,r)&&t.call(n,e[r],r,e);else if(e.forEach&&e.forEach!==M)e.forEach(t,n);else if(x(e)){r=-1,i=e.length;while(++r<i)t.call(n,e[r],r,e)}else for(r in e)o.call(e,r)&&t.call(n,e[r],r,e);return e}function _(e,t,n){var r;return e&&(x(e)?r=[]:y(e)&&(r={}),M(e,function(i,s){r[s]=t(i,s,n,e,r)})),r}function D(e){var n;return d(e)&&(n=t.call(arguments,1),M(n,function(t,n){e=e.replace(new RegExp("\\$"+(n+1),"g"),t)})),e}function P(e,t){var n=e,r=!!n;return h(n)&&(n=t),M(arguments,function(e){e!==n&&M(e,function(e,t){if(r||!n.hasOwnProperty(t))n[t]=e})}),n}function H(e,t){return t.prototype=P(a(e.prototype),{constructor:t}),t.$parent=e,t.$constructor=t,t}function B(e,t){var n,r;if(!t)t=e,e&&(b(e)?t=B(e,[]):E(e)?t=new Date(e.getTime()):S(e)?t=new RegExp(e.source):y(e)&&(t=B(e,{})));else if(e!==t){if(b(e)){t.length=0;for(n=0;n<e.length;++n)t.push(B(e[n]));return t}if(v(e))return e;M(t,function(e,n){delete t[n]});for(r in e)e.hasOwnProperty(r)&&(t[r]=B(e[r]))}return t}function j(e,t){var n;t=t||{};for(n in e)o.call(e,n)&&(t[n]=e[n]);return t}function I(t,n,r){var i,s,o,u;if(!t||typeof t!="string")return null;n||(n=e),i=t.split(F),o=-1,u=i.length;while(++o<u)s=i[o].replace(/^\s+|\s+$/g,""),s.length>0&&(n[s]||(n[s]={}),r&&o===u-1&&P(n[s],r),n=n[s]);return n}function U(e,t){return e.replace(q,function(e,n,r,i){return i?r.toUpperCase():t?e:r})}function z(t,n,r){var i,s,o;r=r||R,n=n||e;if(t in n)return t;t=t.charAt(0).toUpperCase()+t.slice(1);if(t in n)return t;for(s=0,o=r.length;s<o;++s){i=r[s]+t;if(i in n)return i}return null}function W(t,n,r){return t=z(t,n,r),t?(n||e)[t]:null}function X(e,t){var n=e-(e|=0);return t=t||1e5,n?(n*t+(n<0?-0.5:.5)|0)/t+e:e}function V(e,n){var r=null;return w(e)?(r=t.call(arguments,2),function(){var i=r.concat(t.call(arguments));return e.apply(n,i)}):l}function $(e,t){return e-t}function J(e,t){var n=0,r=e.length,i,s,o;t=t||$;while(++n<r){s=e[n],i=n;while(--i>=0&&t(s,o=e[i])<0)e[i+1]=o;e[i+1]=s}}function K(e,t){return t||(t={}),P(t,e)}function Y(e){var t=G[e],n,r;t||(t=G[e]=["0","0","0"]),n=t.length;while(n--){r=t[n].charCodeAt(0);if(r===57)return t[n]="A",e+t.join("");if(r!==90)return t[n]=String.fromCharCode(r+1),e+t.join("");t[n]="0"}return t.unshift("0"),e+t.join("")}function Z(e){G[e]&&delete G[e]}var t=Array.prototype.slice,r=Object.prototype.toString,o=Object.prototype.hasOwnProperty,u=s.support.rgba;e.hiSlider2f=e.hiSlider2f||{},Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;return function(){return n.apply(e,t.call(arguments))}}),Array.prototype.indexOf||(Array.prototype.indexOf=function(e){var t,n;for(t=0,n=this.length;t<n;++t)if(this[t]==e)return t;return-1}),Array.prototype.unshift||(Array.prototype.unshift=function(e){this.splice(0,0,e)}),String.prototype.trim||(String.prototype.trim=function(){var e=-1,t=this.length;while(this[++e]===" ");while(this[--t]===" "&&t>=e);return this.slice(e,t+1)}),Date.now||(Date.now=function(){return(new Date).valueOf()});var N=/([\d\-\.e]+)/gi,C={aqua:[0,255,255],lime:[0,255,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,255],navy:[0,0,128],white:[255,255,255],fuchsia:[255,0,255],olive:[128,128,0],yellow:[255,255,0],orange:[255,165,0],grey:[128,128,128],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[255,0,0],pink:[255,192,203],cyan:[0,255,255],transparent:[255,255,255,0]},F=/\.|\//,q=/([:\-]+(.))/g,R=["webkit","Webkit","moz","Moz","ms","o","O"],Q=I("hiSlider2f",e),G=Q.idMap=Q.idMap||{},et=function(){function s(r){function v(){var e=-1,t=u.length;d=null,a=!1;while(++e<t)u.shift().value()}function m(){p=f&&e?e:function(e){return setTimeout(e,h-s.time)}}function g(){n=Date.now(),s.time=n-o;var e=s.time-h;d&&(!f||!t?clearTimeout(d):t&&t(d));if(!l||e>0)s.frames++,h+=e+(e>=c?4:c-e);a=!0,d=p(v)}var s=this,o=Date.now(),u=new i,a=!1,f=!!e,l,c,h,p,d;this.time=this.frames=0,this.fps=function(e){return arguments.length?(l=e||60,c=1e3/l,h=this.time+c,g(),l):l},this.useRAF=function(t){f=!!t,t&&!e&&(f=!1),m()},this.add=function(e){var t=u.push(e);return a||g(),t},this.remove=function(e){u.remove(e)},this.useRAF(f),this.fps(r)}var e=W("requestAnimationFrame"),t=W("cancelAnimationFrame")||W("cancelRequestAnimationFrame"),n=Date.now(),r;return Q.ticker=r=new s(60),Q.cancelRequestNextAnimationFrame=function(e){r.remove(e)},function(e){return r.add(e)}}();return M([".eases",".animations",".extends",".templates",".plugins",".instances"],function(e){I(e,Q)}),Q.transitions=Q.animations,Q.switches=Q.animations,K({createObject:a,copy:B,shallowCopy:j,forEach:M,map:_,slice:t.call.bind(Array.prototype.slice),hasOwnProperty:o,extend:P,inherit:H,curry:V,identity:f,noop:l,isUndefined:m,isDefined:g,isString:d,isBoolean:h,isFunction:w,isObject:y,isNumber:p,isElement:v,isArray:b,isDate:E,isArrayLike:x,toBoolean:T,toColor:A,increaseColor:O,parseColor:L,round:X,nextId:Y,removeIdPrefix:Z,camelCase:U,formatString:D,insertionSort:J,vendorPropName:z,vendorPropFunction:W,publishExternalAPI:K,namespace:I,requestNextAnimationFrame:et,colors:C,rootNamespace:Q},I(".utils",Q)),I(".utils",Q)}();r("utils/utils",function(){return o});var u=function(){function e(){this.head={},this.length=0,this.head.prev=this.head,this.head.next=this.head}return e.prototype={constructor:e,push:function(e,t){t=t||0;var n=this.head,r=n.prev,i={value:e,priority:t};while(r!==n){if(r.priority>=t)break;r=r.prev}return i.prev=r,i.next=r.next,r.next.prev=i,r.next=i,this.length++,i},remove:function(e){return e?(e.prev.next=e.next,e.next.prev=e.prev,e!==this.head&&this.length--,e):null}},e}();r("structs/PriorityQueue",function(){return u});var a=function(){function n(){this.events={}}var e=o.slice,t={LOWEST:-300,LOWER:-200,LOW:-100,NORMAL:0,HIGH:100,HIGHER:200,HIGHEST:300};return n.PRIORITIES=t,o.PRIORITIES=t,n.prototype={PRIORITIES:t,constructor:n,emit:function(e,t){var n=this.getHandlers(e,!1),r,i;if(!n)return;t=t||[],r=n.head,i=r.next;while(i!==r)i.value.apply(this,t),i=i.next},on:function(e,n,r){var i=this.getHandlers(e,!0),s=i.push(n,r||t.NORMAL);return function(){i.remove(s),s=n=null}},once:function(t,n,r){var i=n,s;return n=function(){s(),n=s=null,i.apply(this,e(arguments))},s=this.on(t,n,r),s},clear:function(){this.events={}},getHandlers:function(e,t){return t&&!this.events[e]&&(this.events[e]=new u),this.events[e]}},o.rootNamespace.Emitter=n,n}();r("cores/Emitter",function(){return a});var f=function(){function d(e,t,n,r){return(e/=r)<1/2.75?n*7.5625*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}var e=o.round,t=Math.sin,r=Math.cos,i=Math.pow,s=Math.sqrt,u=Math.PI,a=Math.PI*2,f=Math.PI/2,l=30/a*f,c=a/30,h={easePower:function(e,t){return function(n){var r=n,i=t===1?1-r:t===2?r:r<.5?r*2:(1-r)*2;return e===1?i*=i:e===2?i*=i*i:e===3?i*=i*i*i:e===4&&(i*=i*i*i*i),t===1?1-i:t===2?i:r<.5?i/2:1-i/2}},easeInBack:function(e){return e==n&&(e=1.70158),function(t){return(t*t*((e+1)*t-e)*1e7+.5|0)/1e7}},easeOutBack:function(e){return e==n&&(e=1.70158),function(t){return(((t-=1)*t*((e+1)*t+e)+1)*1e7+.5|0)/1e7}},easeInOutBack:function(e){return e==n&&(e=1.70158),function(t){return(t*=2)<1?t*t*((e*1.525+1)*t-e*1.525)/2:((t-=2)*t*((e*1.525+1)*t+e*1.525)+2)/2}}},p={linear:o.identity,swing:function(e){return.5-r(e*u)*.5},easeInQuad:function(e){return e*e},easeOutQuad:function(e){return-e*(e-2)},easeInOutQuad:function(e){return(e*=2)<1?e*e/2:-(--e*(e-2)-1)/2},easeInCubic:function(e){return e*e*e},easeOutCubic:function(e){return(e-=1)*e*e+1},easeInOutCubic:function(e){return(e*=2)<1?e*e*e/2:((e-=2)*e*e+2)/2},easeInQuart:function(e){return e*e*e*e},easeOutQuart:function(e){return 1-(e-=1)*e*e*e},easeInOutQuart:function(e){return(e*=2)<1?e*e*e*e/2:1-(e-=2)*e*e*e/2},easeInQuint:function(e){return e*e*e*e*e},easeOutQuint:function(e){return(e-=1)*e*e*e*e+1},easeInOutQuint:function(e){return(e*=2)<1?e*e*e*e*e/2:((e-=2)*e*e*e*e+2)/2},easeInSine:function(e){return((1-r(e*f))*1e7+.5|0)/1e7},easeOutSine:function(e){return t(e*f)},easeInOutSine:function(e){return-(r(u*e)-1)/2},easeInExpo:function(e){return e==0?0:i(2,10*(e-1))},easeOutExpo:function(e){return e==1?1:-i(2,-10*e)+1},easeInOutExpo:function(e){return e==0?0:e==1?1:(e*=2)<1?i(2,10*(e-1))/2:1-i(2,-10*--e)/2},easeInCirc:function(e){return 1-s(1-e*e)},easeOutCirc:function(e){return s(1-(e-=1)*e)},easeInOutCirc:function(e){return(e*=2)<1?-(s(1-e*e)-1)/2:(s(1-(e-=2)*e)+1)/2},easeInElastic:function(e){return e==0?0:e==1?1:-i(2,10*(e-=1))*t((e*100-l)*c)},easeOutElastic:function(e){return e==0?0:e==1?1:i(2,-10*e)*t((e*100-l)*c)+1},easeInOutElastic:function(e){return e==0?0:(e*=2)==2?1:e<1?-i(2,10*(e-=1))*t((e*100-l)*c)/2:i(2,-10*(e-=1))*t((e*100-l)*c)*.5+1},easeInBack:h.easeInBack(),easeOutBack:h.easeOutBack(),easeInOutBack:h.easeInOutBack(),easeInBounce:function(e){return d(1-e,1,-1,1)},easeOutBounce:function(e){return d(e,0,1,1)},easeInOutBounce:function(e){return e<.5?d(1-2*e,1,-1,1)/2:d(2*e-1,0,1,1)/2+.5}};o.forEach([1,2,3,4],function(e){p["easeOutPower"+e]=h.easePower(e,1),p["easeInPower"+e]=h.easePower(e,2),p["easeInOutPower"+e]=h.easePower(e,3)}),o.extend(o.namespace(".eases",o.rootNamespace),p);var v=p[o.rootNamespace.defaultEase];return o.rootNamespace.eases.factory={get:function(e){return p[e]},getFactory:function(e){return h[e]},defaultEase:v||p.easeInOutQuad},o.rootNamespace.eases.factory}();r("utils/easeFactory",function(){return f});var l=function(){var e=/^\s*([+\-]?(?:\d+|\d*\.\d*))(m?(?:s|n|)|%|h|d|y|w|)\s*$/;return{convertTime:function(t,n,r){var i=+t,s="illegal-unit",o,u;r=r||"ms",isNaN(i)?typeof t=="string"&&(u=e.exec(t),u&&(i=+u[1],s=u[2])):s=r,o=i;switch(s){case"%":i=o*n/100;break;case"ms":break;case"s":i=o*1e3;break;case"m":i=o*6e4;break;case"h":i=o*36e4;break;case"d":i=o*864e4;break;case"w":i=o*6048e4;break;case"mn":i=o*2592e5;break;case"y":i=o*31536e5;break;default:throw new Error("time transformation error#"+t)}return{originalValue:o,value:i,unit:s}}}}();r("utils/converters",function(){return l});var c=function(){function t(t){switch(t.length){case 2:return e(t[0]*t[0]+t[1]*t[1]);case 3:return e(t[0]*t[0]+t[1]*t[1]+t[2]*t[2])}return 0}function n(e,t){switch(e.length){case 2:return e[0]*t[0]+e[1]*t[1];case 3:return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}return 0}function r(e,n){n==null&&(n=t(e));if(!n)return;switch(e.length){case 2:e[0]/=n,e[1]/=n;break;case 3:e[0]/=n,e[1]/=n,e[2]/=n}}function i(e,t,n,r){switch(e.length){case 2:return[n*e[0]+r*t[0],n*e[1]+r*t[1]];case 3:return[n*e[0]+r*t[0],n*e[1]+r*t[1],n*e[2]+r*t[2]]}return null}function s(e,t){return[e[1]*t[2]-t[1]*e[2],e[2]*t[0]-t[2]*e[0],e[0]*t[1]-t[0]*e[1]]}function o(e,t){var n=[],r=-1,i=-1,s=-1,o=t*t,u,a;while(++s<o)n[s]=e[s];while(++r<t-1){i=r;while(++i<t){u=t*i+r,n[u]=a=n[u]/n[t*r+r],s=r;while(++s<t)n[t*i+s]=n[t*i+s]-a*n[t*r+s]}}return n}function u(e,t,n){var r=[],i=[],s=0,o=0,u=-1;r[0]=t[0];while(++s<n){o=0,u=-1;while(++u<s)o+=e[s*n+u]*r[u];r[s]=t[s]-o}i[n-1]=r[n-1]/e[e.length-1],s=n-1;while(--s>-1){o=0,u=n;while(--u>s)o+=e[s*n+u]*i[u];i[s]=(r[s]-o)/e[s*n+s]}return i}function a(e,t,n){return u(e,t,n)}function f(e,t){var n=[],r=-1,i=-1;while(++r<t){i=-1;while(++i<t)n[i*t+r]=e[r*t+i]}return n}function l(e,t,n){var r=[],i=-1,s=[],a,f;while(++i<t)s[i]=0;i=-1;while(++i<t){s[i]=1,f=u(o(e,t),s,t),s[i]=0,a=-1;if(n!==!0)while(++a<t)r[a*t+i]=f[a];else r=r.concat(f)}return r}function c(e,t){return[e[0]*t[0]+e[1]*t[4]+e[2]*t[8]+e[3]*t[12],e[0]*t[1]+e[1]*t[5]+e[2]*t[9]+e[3]*t[13],e[0]*t[2]+e[1]*t[6]+e[2]*t[10]+e[3]*t[14],e[0]*t[3]+e[1]*t[7]+e[2]*t[11]+e[3]*t[15]]}var e=Math.sqrt;return{vectorLength:t,vectorNormalize:r,vectorCombine:i,vectorDot:n,vectorCross:s,solveLinearSystem:a,inverse:l,transpose:f,mulVecMatrix4x4:c}}();r("utils/matrixUtils",function(){return c});var h=function(){function $(e,t,n){var r;p(e)?e=e.split(" "):h(e)||(e=[e]),r=e.length,t=t||r,n=n==null?e[r-1]:n;if(r<t)switch(t-r){case 1:e.push(n);break;case 2:e.splice(r-1,0,n,n);break;case 3:e.splice(r-1,0,n,n,n);break;case 4:e.splice(r-1,0,n,n,n,n);break;case 5:e.splice(r-1,0,n,n,n,n,n)}while(r++<t)e.push(n);return e}function J(e,t,n){if(!t||t==="auto")t="0%";t=t.indexOf("left")!==-1||t.indexOf("top")!==-1?"0%":t.indexOf("right")!==-1||t.indexOf("bottom")!==-1?"100%":t;if(t==="center"||t==="middle")t="50%";var r=N.exec(t);return t=+r[1],r=r[2]||"px",n&&(n[e]=t,n[e+"Unit"]=r),n}function K(e,t){var n,r,i,s,o,u,a,c,h;n=e[0]||1,r=e[1]||0,i=e[2]||0,s=e[3]||1,o=[n,r],u=[i,s],t.translateX=e[4]||0,t.translateY=e[5]||0,t.scaleX=c=l(o[0]*o[0]+o[1]*o[1]),o[0]/=c,o[1]/=c,t.skewX=a=o[0]*u[0]+o[1]*u[1],u[0]-=a*o[0],u[1]-=a*o[1],t.scaleY=c=l(u[0]*u[0]+u[1]*u[1]),u[0]/=c,u[1]/=c,t.skewX/=t.scaleY,h=n*s-r*i,h<0&&(n<s?t.scaleX*=-1:t.scaleY*=-1),t.rotate=n||r?f(r,n)*B:t.rotate||0,t.skewX=f(t.skewX,1)*B}function Q(e,t){var n,r,s,o,u,a,l=[],c=[],h=[];if(e[15]===0)return;if(e[15]!==1){for(n=0;n<4;++n)for(r=0;r<4;++r)e[n*4+r]/=e[15];e[15]=1}if(e[3]!==0||e[7]!==0||e[11]!==0){o=[e[3],e[7],e[11],1],e[3]=e[7]=e[11]=0,u=M(e,4,!0),a=_(o,u),t.perspective=-1/d(a[2],P),a=a[3];if(a!==1)for(n=0;n<4;++n)for(r=0;r<3;++r)e[n*4+r]/=a}else t.perspective=0;t.translateX=e[12],t.translateY=e[13],t.translateZ=e[14];for(n=0;n<3;++n)l[n]=e[n],c[n]=e[4+n],h[n]=e[8+n];t.scaleX=C(l),L(l,t.scaleX),t.skewX=O(l,c),c=A(c,l,1,-t.skewX),t.scaleY=C(c),L(c,t.scaleY),t.skewX/=t.scaleY,t.skewXZ=O(l,h),h=A(h,l,1,-t.skewXZ),t.skewYZ=O(l,c),h=A(h,c,1,-t.skewYZ),t.scaleZ=C(h),L(h,t.scaleZ),t.skewXZ/=t.scaleZ,t.skewYZ/=t.scaleZ,s=k(c,h);if(O(l,s)<0){t.scaleX*=-1,t.scaleY*=-1,t.scaleZ*=-1;for(n=0;n<3;++n)l[n]*=-1,c[n]*=-1,h[n]*=-1}t.rotateX=f(c[2],h[2]),t.rotate=f(l[1],l[0])*B,t.rotateY=f(-l[2],h[2]/i(t.rotateX))*B,t.rotateX*=B,t.skewX=f(t.skewX,1)*B}function G(e,t){var n="matrix(",r,s,o,f,l,c,h,p;return t=t||et(e),o=t.scaleX,f=t.scaleY,!t.rotate&&!t.skewX?n=n+o+",0,0,"+f:(r=t.rotate*H,s=a(t.skewX*H),l=i(r),c=u(r),h=-c,p=l,h=d((h+s*l)*f,P),p=d((p+s*c)*f,P),l=d(l*o,P),c=d(c*o,P),n=n+l+","+c+","+h+","+p),n=n+","+t.translateX+","+t.translateY+")",l===1&&c===0&&h===0&&p===1&&(n="none"),e[q]=n,t}function Y(e,t){t.rotateX==null&&(t.rotateX=0,t.rotateY=0,t.translateZ=0,t.perspective=0,t.scaleZ=1);var n=[t.rotateX*H,t.rotateY*H,t.rotate*H],r=a((t.skewX||0)*H),s=t.perspective||0,o=[i(n[0]),i(n[1]),i(n[2])],f=[u(n[0]),u(n[1]),u(n[2])],l=t.scaleX,c=t.scaleY,h=t.scaleZ,p,v,m,g,y,b,w,E,S,x,T,N,C,k,L,A,O;s&&(s=-1/s),!t.accelate3d&&t.rotateX&&!t.rotateY&&!t.rotate&&!t.skewX&&h===1&&!s?t.translateX===0&&t.translateY===0&&t.translateZ===0&&l===1&&c===1?O="none":O="translate3d("+t.translateX+"px,"+t.translateY+"px,"+t.translateZ+"px) "+(l!==1||c!==1?"scale("+l+","+c+")":""):(p=o[1]*o[2],v=o[1]*f[2],m=-f[1],y=c*(o[2]*f[0]*f[1]-o[0]*f[2]+r*p),b=c*(o[0]*o[2]+f[0]*f[1]*f[2]+r*v),w=c*(o[1]*f[0]+r*m),S=h*(o[0]*o[2]*f[1]+f[0]*f[2]),x=h*(o[0]*f[1]*f[2]-o[2]*f[0]),T=h*o[0]*o[1],p=l*p,v=l*v,m=l*m,C=t.translateX,k=t.translateY,L=t.translateZ,A=1,g=E=N=0,s&&(g=s*m+g,E=s*w+E,N=s*T+N,A=s*L+A),O="matrix3d("+[d(p/A,P),d(v/A,P),d(m/A,P),d(g/A,P),d(y/A,P),d(b/A,P),d(w/A,P),d(E/A,P),d(S/A,P),d(x/A,P),d(T/A,P),d(N/A,P),d(C/A,P),d(k/A,P),d(L/A,P),1].join(",")+")"),e[q]=O}function Z(e,t,n){var r=t.rotate*H,s=a(-t.skewX*H),o=d(i(r),P),f=d(u(r),P),l=-f,c=o,h=n.currentStyle,p=h&&h.filter,v,m,g,y,b,E,x,T,N;return h?(l=d((l+s*o)*t.scaleY,P),c=d((c+s*f)*t.scaleY,P),o=d(o*t.scaleX,P),f=d(f*t.scaleX,P),g=f,f=-l,l=g,e.filter="",v=n.offsetWidth,m=n.offsetHeight,E=t.translateX,x=t.translateY,y=h.position!=="absolute",b="progid:DXImageTransform.Microsoft.Matrix(M11="+o+",M12="+f+",M21="+l+",M22="+c,t.originX!=null&&(T=(t.originXUnit==="%"?v*t.originX*.01:t.originX)-v*.5,N=(t.originYUnit==="%"?m*t.originY*.01:t.originY)-m*.5,E+=T-(T*o+N*f),x+=N-(T*l+N*c)),T=v*.5,N=m*.5,E=d(T-(T*o+N*f)+E,P),x=d(N-(T*l+N*c)+x,P),y?b+=",Dx="+E+", Dy="+x+")":b+=',sizingMethod="auto expand")',p.indexOf("DXImageTransform.Microsoft.Matrix(")!==-1?e.filter=p.replace(w,b):e.filter=b+" "+p,o===1&&f===0&&l===0&&c===1&&(!y||E===0&&x===0)&&(!S.test(p)||parseFloat(RegExp.$1)===100)&&e.removeAttribute&&e.removeAttribute("filter"),t):t}function et(e,t){var n=r(e,"hiTransform"),i,s;if(n&&n.cached&&(!t||t in n))return n;n=n||{skewY:0},n.cached=n.cached==null?!0:n.cached,n.deferred=!!n.deferred,y?(q||(q=o.vendorPropName("transform",e.style)),i=getComputedStyle(e,null)[q],i=!i||i==="none"?"":i):e.currentStyle&&(i=e.currentStyle.filter.match(T),i=i&&i.length===4?[i[0].substr(4),i[2].substr(4),i[1].substr(4),i[3].substr(4)].join(","):""),i=(i||"").replace("3d","").match(x)||[],s=i.length;while(s-->0)i[s]=d(i[s],P);(j[t]||n.force3d)&&b&&i.length!==16&&(i=[i[0]||1,i[1]||0,0,0,i[2]||0,i[3]||1,0,0,0,0,1,0,i[4]||0,i[5]||0,0,1]),i.length===16?(n.force3d=!0,Q(i,n)):(n.force3d=!1,K(i,n));for(s in n)n.hasOwnProperty(s)&&typeof n[s]=="number"&&(n[s]<D&&n[s]>-D?n[s]=0:n[s]=d(n[s],P));return r(e,"hiTransform",n),n}function tt(e,t){var n=et(e,t);return n[t]}function nt(e,t,n){var r=et(e,t),i;return t.indexOf("origin")>=0?J(t,n,r):(n=d(parseFloat(n),P),t==="skewY"&&(i=n-r.skewY)&&(r.skewX+=i,r.rotate+=i),t==="skewX"||t==="rotate"?r[t]=n+r.skewY:r[t]=n,r)}var n=e.jQuery,r=n.data,i=Math.cos,u=Math.sin,a=Math.tan,f=Math.atan2,l=Math.sqrt,h=o.isArray,p=o.isString,d=o.round,v=o.slice,m=o.vendorPropName,g=o.camelCase,y=s.support.csstransforms,b=s.support.csstransforms3d,w=/progid:DXImageTransform\.Microsoft\.Matrix\(.+?\)/i,E=/([\d\-\.e]+)/gi,S=/opacity\s*=\s*([^)]*)/i,x=new RegExp("(?:\\-|\\b)"+E.source,"gi"),T=new RegExp("(M11|M12|M21|M22)="+E.source,"gi"),N=new RegExp(E.source+"(\\S*)","i"),C=c.vectorLength,k=c.vectorCross,L=c.vectorNormalize,A=c.vectorCombine,O=c.vectorDot,M=c.inverse,_=c.mulVecMatrix4x4,D=1e-6,P=1e5,H=Math.PI/180,B=180/Math.PI,j={translateZ:!0,scaleZ:!0,rotateX:!0,rotateY:!0,perspective:!0},F,I,q,R=n("body").jquery,U,z,W,X,V;return n.extend(n.cssNumber,{_scale:!0,_rotate:!0,_skew:!0}),R=R.toString().match(/\d+\.\d+/)[0].split("."),R=R[0]*10+parseInt(R[1],10),R<18&&(U=n.css,z=n.style,W=n.cssProps,n.css=function(e,t){var r=g(t);return r=W[r]||(W[r]=m(r,e.style)||r),U.apply(n,[e,r].concat(v(arguments,2)))},n.style=function(e,t){var r=g(t);if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;return r=W[r]||(W[r]=m(r,e.style)||r),z.apply(n,[e,r].concat(v(arguments,2)))}),X=n.style,V=n.css,y?(I=function(e,t){return t.force3d?Y(e,t):G(e,t)},F=function(e,t,n){var r=nt(e,t,n);return r.deferred?r:r.force3d?Y(e.style,r):G(e.style,r)}):(I=function(e,t,n){Z(e,t,n)},F=function(e,t,n){var r=nt(e,t,n);return r.deferred?r:Z(e.style,r,e)}),o.forEach("_translateX,_translateY,_scaleX,_scaleY,_skewX,_skewY,_rotate,_perspective".split(","),function(e){var t=e.substr(1);n.cssNumber[e]=!0,n.cssHooks[e]={get:function(e){return tt(e,t)},set:function(e,n){F(e,t,n)}}}),o.forEach("_rotateX,_rotateY,_scaleZ,_translateZ".split(","),function(e){var t=e.substr(1);n.cssNumber[e]=!0,n.cssHooks[e]={get:function(e){return tt(e,t)}},n.cssHooks[e].set=function(e,n){F(e,t,n)}}),o.forEach("_translate,_skew".split(","),function(e){var t=e.substr(1);n.cssNumber[e]=!0,n.cssHooks[e]={get:function(e){return tt(e,t+"X")+" "+tt(e,t+"Y")},set:function(e,n){n=$(n),F(e,t+"X",n[0]),n.length>1&&F(e,t+"Y",n[1])}}}),o.forEach("_originX,_originY".split(","),function(e){var t=e.substr(1),r=o.camelCase("transform-"+t);n.cssHooks[e]={set:function(e,n){var i=F(e,t,n);X(e,r,i[t]+i[t+"Unit"])}}}),n.extend(n.cssHooks,{_scale:{get:function(e){return tt(e,"scaleX")+" "+tt(e,"scaleY")},set:function(e,t){t=$(t,2),F(e,"scaleX",t[0]),F(e,"scaleY",t[1])}},_scale3d:{get:function(e){return tt(e,"scaleX")+" "+tt(e,"scaleY")+" "+tt(e,"scaleZ")},set:function(e,t){t=$(t,3),F(e,"scaleX",t[0]),F(e,"scaleY",t[1]),F(e,"scaleZ",t[2])}},_origin:{set:function(e,t){var n=t;t=$(t),F(e,"originX",t[0]),t.length>1&&F(e,"originY",t[1]),X(e,"transformOrigin",n)}},_pos:{get:function(e){return n.css(e,"left")+" "+n.css(e,"top")},set:function(e,t){t=$(t),X(e,"left",t[0]),t.length>1&&X(e,"top",t[1])}},_transform:{get:function(e){return n.style(e,"transform")},set:function(e,t){var i,s;t===null||t==="none"||t===""?y?(s=et(e,"force3d").force3d,X(e,"transform","none"),r(e,"hiTransform",null),s&&X(e,"_force3d",s)):e.style.filter&&(i=e.style,i.filter=i.filter.replace(/\s*progid:DXImageTransform\.Microsoft\.Matrix\([^\)]+\)\s*/ig,""),X(e,"opacity",n.css(e,"opacity"))):X(e,"transform",t)}},_cached:{get:function(e){var t=r(e,"hiTransform");return t?t.cached:!1},set:function(e,t){var n=et(e,"cached");n.cached=!!t}},_deferred:{get:function(e){var t=r(e,"hiTransform");return t?t.deferred:!1},set:function(e,t){t=!!t;var n=et(e,"deferred");n.deferred=t,t||I(e.style,et(e),e)}},_update:{set:function(e,t){t&&I(e.style,et(e),e)}},_force3d:{get:function(e){var t=r(e,"hiTransform");return t?!!t.accelate3d:!1},set:function(e,t){t=!!t;var n=et(e,"force3d");n.force3d=t&&b,n.accelate3d=t,I(e.style,n,e)}},zIndex:{set:function(e,t){var n=et(e,"force3d");return n.force3d&&F(e,"translateZ",t+n.translateZ),t}}}),s.support.cssgradients&&function(){var e="hiSliderv2",r=t.createElement(e),i=r.style,o="background-image:",u="linear-gradient(left top,#9f9, white);background-Image:",a=/(\-(?:.+)\-)?linear\-gradient/,f;i.cssText=o+" -webkit- -moz- -o- -ms- ".split(" ").join(u).slice(0,-o.length),f=a.exec(i.backgroundImage||""),r=null,n.cssHooks._gradient={get:function(e){var t=V(e,"backgroundImage");return t&&t.indexOf("gradient")>=0?t:"none"}},f?(f=f[1]||"",n.cssHooks._gradient.set=function(e,t){var n=e.style;typeof t=="object"?n.backgroundImage=f+"linear-gradient("+t.angle+"deg,"+t.from+","+t.to+")":typeof t=="string"&&(n.backgroundImage=t)}):s.support.webkitgradient&&(n.cssHooks._gradient.set=function(e,t){var n=e.style;typeof t=="object"?n.backgroundImage="-webkit-gradient(linear,0% 100%,100% "+(100-t.angle)+"%,from("+t.from+"),to("+t.to+"))":typeof t=="string"&&(n.backgroundImage=t)})}(),o.forEach(["_translate","_translateX","_translateY","_translateZ","lineHeight"],function(e){n.cssNumber[e]=!1}),function(e,t,r){(function(t,n){t.extend(t.support,{orientation:"orientation"in e&&"onorientationchange"in e})})(n),function(e){e.event.special.throttledresize={setup:function(){e(this).bind("resize",n)},teardown:function(){e(this).unbind("resize",n)}};var t=250,n=function(){s=(new Date).getTime(),o=s-r,o>=t?(r=s,e(this).trigger("throttledresize")):(i&&clearTimeout(i),i=setTimeout(n,t-o))},r=0,i,s,o}(n),function(e,n){function d(){var e=o();e!==u&&(u=e,r.trigger(i))}var r=e(n),i="orientationchange",s,o,u,a,f,l={0:!0,180:!0};if(e.support.orientation){var c=n.innerWidth||r.width(),h=n.innerHeight||r.height(),p=50;a=c>h&&c-h>p,f=l[n.orientation];if(a&&f||!a&&!f)l={"-90":!0,90:!0}}e.event.special.orientationchange=e.extend({},e.event.special.orientationchange,{setup:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;u=o(),r.bind("throttledresize",d)},teardown:function(){if(e.support.orientation&&!e.event.special.orientationchange.disabled)return!1;r.unbind("throttledresize",d)},add:function(e){var t=e.handler;e.handler=function(e){return e.orientation=o(),t.apply(this,arguments)}}}),e.event.special.orientationchange.orientation=o=function(){var r=!0,i=t.documentElement;return e.support.orientation?r=l[n.orientation]:r=i&&i.clientWidth/i.clientHeight<1.1,r?"portrait":"landscape"},e.fn[i]=function(e){return e?this.bind(i,e):this.trigger(i)},e.attrFn&&(e.attrFn[i]=!0)}(n,e),function(e,t,n,r){function x(e){while(e&&typeof e.originalEvent!="undefined")e=e.originalEvent;return e}function T(t,n){var i=t.type,s,o,a,l,c,h,p,d,v;t=e.Event(t),t.type=n,s=t.originalEvent,o=e.event.props,i.search(/^(mouse|click)/)>-1&&(o=f);if(s)for(p=o.length,l;p;)l=o[--p],t[l]=s[l];i.search(/mouse(down|up)|click/)>-1&&!t.which&&(t.which=1);if(i.search(/^touch/)!==-1){a=x(s),i=a.touches,c=a.changedTouches,h=i&&i.length?i[0]:c&&c.length?c[0]:r;if(h)for(d=0,v=u.length;d<v;d++)l=u[d],t[l]=h[l]}return t}function N(t){var n={},r,s;while(t){r=e.data(t,i);for(s in r)r[s]&&(n[s]=n.hasVirtualBinding=!0);t=t.parentNode}return n}function C(t,n){var r;while(t){r=e.data(t,i);if(r&&(!n||r[n]))return t;t=t.parentNode}return null}function k(){g=!1}function L(){g=!0}function A(){E=0,v.length=0,m=!1,L()}function O(){k()}function M(){_(),c=setTimeout(function(){c=0,A()},e.vmouse.resetTimerDuration)}function _(){c&&(clearTimeout(c),c=0)}function D(t,n,r){var i;if(r&&r[t]||!r&&C(n.target,t))i=T(n,t),e(n.target).trigger(i);return i}function P(t){var n=e.data(t.target,s);if(!m&&(!E||E!==n)){var r=D("v"+t.type,t);r&&(r.isDefaultPrevented()&&t.preventDefault(),r.isPropagationStopped()&&t.stopPropagation(),r.isImmediatePropagationStopped()&&t.stopImmediatePropagation())}}function H(t){var n=x(t).touches,r,i;if(n&&n.length===1){r=t.target,i=N(r);if(i.hasVirtualBinding){E=w++,e.data(r,s,E),_(),O(),d=!1;var o=x(t).touches[0];h=o.pageX,p=o.pageY,D("vmouseover",t,i),D("vmousedown",t,i)}}}function B(e){if(g)return;d||D("vmousecancel",e,N(e.target)),d=!0,M()}function j(t){if(g)return;var n=x(t).touches[0],r=d,i=e.vmouse.moveDistanceThreshold,s=N(t.target);d=d||Math.abs(n.pageX-h)>i||Math.abs(n.pageY-p)>i,d&&!r&&D("vmousecancel",t,s),D("vmousemove",t,s),M()}function F(e){if(g)return;L();var t=N(e.target),n;D("vmouseup",e,t);if(!d){var r=D("vclick",e,t);r&&r.isDefaultPrevented()&&(n=x(e).changedTouches[0],v.push({touchID:E,x:n.clientX,y:n.clientY}),m=!0)}D("vmouseout",e,t),d=!1,M()}function I(t){var n=e.data(t,i),r;if(n)for(r in n)if(n[r])return!0;return!1}function q(){}function R(t){var n=t.substr(1);return{setup:function(r,s){I(this)||e.data(this,i,{});var o=e.data(this,i);o[t]=!0,l[t]=(l[t]||0)+1,l[t]===1&&b.bind(n,P),e(this).bind(n,q),y&&(l.touchstart=(l.touchstart||0)+1,l.touchstart===1&&b.bind("touchstart",H).bind("touchend",F).bind("touchmove",j).bind("scroll",B))},teardown:function(r,s){--l[t],l[t]||b.unbind(n,P),y&&(--l.touchstart,l.touchstart||b.unbind("touchstart",H).unbind("touchmove",j).unbind("touchend",F).unbind("scroll",B));var o=e(this),u=e.data(this,i);u&&(u[t]=!1),o.unbind(n,q),I(this)||o.removeData(i)}}}var i="virtualMouseBindings",s="virtualTouchID",o="vmouseover vmousedown vmousemove vmouseup vclick vmouseout vmousecancel".split(" "),u="clientX clientY pageX pageY screenX screenY".split(" "),a=e.event.mouseHooks?e.event.mouseHooks.props:[],f=e.event.props.concat(a),l={},c=0,h=0,p=0,d=!1,v=[],m=!1,g=!1,y="addEventListener"in n,b=e(n),w=1,E=0,S;e.vmouse={moveDistanceThreshold:10,clickDistanceThreshold:10,resetTimerDuration:1500};for(var U=0;U<o.length;U++)e.event.special[o[U]]=R(o[U]);y&&n.addEventListener("click",function(t){var n=v.length,r=t.target,i,o,u,a,f,l;if(n){i=t.clientX,o=t.clientY,S=e.vmouse.clickDistanceThreshold,u=r;while(u){for(a=0;a<n;a++){f=v[a],l=0;if(u===r&&Math.abs(f.x-i)<S&&Math.abs(f.y-o)<S||e.data(u,s)===f.touchID){t.preventDefault(),t.stopPropagation();return}}u=u.parentNode}}},!0)}(n,e,t),function(e){e.mobile={}}(n),function(e,n){var r={touch:"ontouchend"in t};e.mobile.support=e.mobile.support||{},e.extend(e.support,r),e.extend(e.mobile.support,r)}(n),function(e,n,r){function l(t,n,r){var i=r.type;r.type=n,e.event.dispatch.call(t,r),r.type=i}var i=e(t);e.each("touchstart touchmove touchend tap taphold swipe swipeleft swiperight scrollstart scrollstop".split(" "),function(t,n){e.fn[n]=function(e){return e?this.bind(n,e):this.trigger(n)},e.attrFn&&(e.attrFn[n]=!0)});var s=e.mobile.support.touch,o="touchmove scroll",u=s?"touchstart":"mousedown",a=s?"touchend":"mouseup",f=s?"touchmove":"mousemove";e.event.special.scrollstart={enabled:!0,setup:function(){function s(e,n){r=n,l(t,r?"scrollstart":"scrollstop",e)}var t=this,n=e(t),r,i;n.bind(o,function(t){if(!e.event.special.scrollstart.enabled)return;r||s(t,!0),clearTimeout(i),i=setTimeout(function(){s(t,!1)},50)})}},e.event.special.tap={tapholdThreshold:750,setup:function(){var t=this,n=e(t);n.bind("vmousedown",function(r){function a(){clearTimeout(u)}function f(){a(),n.unbind("vclick",c).unbind("vmouseup",a),i.unbind("vmousecancel",f)}function c(e){f(),s===e.target&&l(t,"tap",e)}if(r.which&&r.which!==1)return!1;var s=r.target,o=r.originalEvent,u;n.bind("vmouseup",a).bind("vclick",c),i.bind("vmousecancel",f),u=setTimeout(function(){l(t,"taphold",e.Event("taphold",{target:s}))},e.event.special.tap.tapholdThreshold)})}},e.event.special.swipe={scrollSupressionThreshold:30,durationThreshold:1e3,horizontalDistanceThreshold:30,verticalDistanceThreshold:75,start:function(t){var n=t.originalEvent.touches?t.originalEvent.touches[0]:t;return{time:(new Date).getTime(),coords:[n.pageX,n.pageY],origin:e(t.target)}},stop:function(e){var t=e.originalEvent.touches?e.originalEvent.touches[0]:e;return{time:(new Date).getTime(),coords:[t.pageX,t.pageY]}},handleSwipe:function(t,n){n.time-t.time<e.event.special.swipe.durationThreshold&&Math.abs(t.coords[0]-n.coords[0])>e.event.special.swipe.horizontalDistanceThreshold&&Math.abs(t.coords[1]-n.coords[1])<e.event.special.swipe.verticalDistanceThreshold&&t.origin.trigger("swipe").trigger(t.coords[0]>n.coords[0]?"swipeleft":"swiperight")},setup:function(){var t=this,n=e(t);n.bind(u,function(t){function o(t){if(!i)return;s=e.event.special.swipe.stop(t),Math.abs(i.coords[0]-s.coords[0])>e.event.special.swipe.scrollSupressionThreshold&&t.preventDefault()}var i=e.event.special.swipe.start(t),s;n.bind(f,o).one(a,function(){n.unbind(f,o),i&&s&&e.event.special.swipe.handleSwipe(i,s),i=s=r})})}},e.each({scrollstop:"scrollstart",taphold:"tap",swipeleft:"swipe",swiperight:"swipe"},function(t,n){e.event.special[t]={setup:function(){e(this).bind(n,e.noop)}}})}(n,e)}(e,t),e.hiJQuery=n,o.rootNamespace.jquery=n,n}();r("utils/extendedjQuery",function(){return h});var p=function(){function k(e,t){var n;return t&&(t.charAt(0)==="#"||(n=t.substr(0,3))==="rgb"||n==="hsl"||!!r[t])||e&&e.indexOf("color")!==-1}function L(e,n,i,s){e=e.toString();var o=e.substr(0,2),u,a,f;return i=i||{},E[o]&&(u=o,e=e.substr(2)),h.cssNumber[n]?(a="",e=+e||0,f="number"):k(n,e)?(a="",e=t(e),e=e||r.transparent,f="color"):(!y[n]&&(e==="auto"||e==="none"||e==="initial")&&(e="0px"),o=g.exec(e),o?(e=+o[1],a=o[2]||"px"):(a="",f="isolate")),i.unit=a,i.operator=u,i.type=f,i[s||"value"]=e,i}function A(e,t,n,r){var i,s,o;r=r||"value",n=n||{},n.unit=[],n.types=[],n.operator=[],n[r]=[];for(i=0,s=e.length;i<s;++i)o=L(e[i],t),n.unit[i]=o.unit,n.types[i]=o.type,n.operator[i]=o.operator,n[r][i]=o.value;return n}function O(t){var n=[],r,i,s,o,u,a;t.hasOwnProperty("initImmediately")&&(n.initImmediately=!!t.initImmediately,delete t.initImmediately);for(i in t)t.hasOwnProperty(i)&&(i=f(i,!0),s=t[i],o=b[i],a=null,s!=null&&(e(s)?s.length>=2?n.push(r={start:s[0].toString(),end:s[1].toString()}):s.length===1&&n.push(r={end:s[0].toString()}):n.push(r={end:s.toString()}),r.propName=r.type=i,i.charAt(0)==="_"&&(r.isExtProp=!0,r.originalName=i.substr(1),n.extPropCount=(n.extPropCount||0)+1),s[2]&&s[2]==="~"&&(r.inverse=!0),e(s)&&s.length>3&&(r.params=s.slice(3)),s[2]===!0?(r.type="isolate",a={value:r.end,unit:""}):(u=r.end.indexOf("@"))!==-1?(s[2]&&s[2].charAt(0)==="~"?r.type=s[2].substr(1):r.type=s[2],r.operator=r.end.substr(0,u),r.end=r.end.substr(u)):o&&o.get&&(a=o.get(r.end,i,r.params)),r.end.indexOf("@")===-1&&(a?(r.unit=a.unit,r.end=a.value):(a=r.end.replace(v,",").split(" "),a.length>1?(r.type="multiple",A(a,i,r,"end")):a=L(r.end,i,r,"end"))),o&&o.expand&&o.expand(r,n,n.length-1,"end")));return n}function M(e,t,n,r,i){var s=20,o=e.style,u,a;C(e,o,t,n+r),u=h.css(e,t,!0),a=1;do a=a||"0.5",n/=a,C(e,o,t,n+i);while(a!==(a=N(e,t,!0)/u)&&a!==1&&--s);return n}function _(t,n,r,i,s,o,u){var a,f;if(r==null||typeof r=="string"&&r.charAt(0)==="@")r=N(t,r&&r.substr(1)||n);if(r==="auto"||r==="initial"||r==="none")r=a="";return b[n]?f=b[n].get(r,n,i):b[o]&&(f=b[o].get(r,n,i)),f?r=f.value:(f=L(r,n),r=f.value,a=f.unit,o=f.type),e(r)?f:(a&&a!==s&&!u&&(r=M(t,n,r,a,s)),i&&i[0]==="inc"&&(r+=+i[1]||0),{value:r,unit:a,type:o})}function D(t,n){var r,i,s,o,u,a,f,c,h,p,d,v,m,g;a=t.style,n.style=a,s=-1,f=n.length,g=t.className+" hi-visible",t.className=g;while(++s<f){o=n[s],o.propName=T[o.propName]||(T[o.propName]=o.isExtProp?o.propName:l(o.propName,a));if(!o.propName){n.splice(s--,1),--f;continue}typeof o.end=="string"&&o.end.charAt(0)==="@"&&(c=_(t,o.propName,o.end,o.params,o.unit,o.type,!0),o.end=c.value,o.unit=c.unit,c.types&&(o.types=c.types),c.type&&(o.type=c.type)),c=_(t,o.propName,o.start,o.params,o.unit,o.type),o.start=c.value,h=c.types,v=o.operator,d=o.start,m=o.end;if(e(m)){p=o.types;if(p){while(d.length<m.length)d.push(0);while(m.length<d.length)m.push(0),o.unit.push("px");r=-1,u=h.length>p.length?h.length:p.length;while(++r<u)(h[r]||p[r])&&h[r]!==p[r]&&(i=h.indexOf(p[r]),i!==-1&&(h.splice(i,1),h.splice(r,0,p[r]),c=d[i],d.splice(i,1),d.splice(r,0,c)))}switch(o.type){case"color":d.length===4?m[3]=m[3]!=null?m[3]:1:m.length===4&&(d[3]=d[3]||1);break;case"multiple":r=-1,u=m.length;while(++r<u)o.types[r]==="color"&&(d[r].length===4?m[r][3]=m[r][3]!=null?m[r][3]:1:m[r].length===4&&(d[r][3]=d[r][3]||1))}}if(v)if(e(v)){r=-1,u=v.length;while(++r<u)v[r]&&(o.end[r]=(E[v[r]+(p[r]||"")]||E[v[r]])(d[r],m[r]))}else o.end=(E[v+(o.type||"")]||E[v])(d,m);o.inverse&&(d=o.start,o.start=o.end,o.end=d)}g=g.slice(0,g.lastIndexOf(" hi-visible")),t.className=g}function P(e,t){var n=t.$tween,r,i,s;if(e.length===1)D(e[0][0],n);else{t.$tween=r=[],i=-1,s=e.length;while(++i<s)e[i]=h(e[i]),D(e[i][0],r[i]=u(n))}}function H(e,t,n,r){var i,s,o,u,a;n.extPropCount>1&&(C(e,t,"_deferred",!0),a=!0),i=-1,s=n.length;while(++i<s)o=n[i],u=w[o.type]?w[o.type](r,o.start,o.end,o.unit,o):o.start+(o.end-o.start)*r+o.unit,C(e,t,o.propName,u);a&&C(e,t,"_deferred",!1)}function B(e,t,n,r){var i=r.$tween,s=n(t),o,u,a,f;if(e.length===1)o=e[0][0],H(o,i.style,i,s);else{a=-1,f=i.length;while(++a<f)u=i[a],o=e[a][0],H(o,u.style,u,s)}}function j(e){return{$tween:e,initImmediately:e.initImmediately||!1,init:P,animation:B}}function F(e){return(e=O(e))?j(e):null}var e=o.isArray,t=o.parseColor,r=o.colors,i=o.forEach,u=o.copy,a=o.round,f=o.camelCase,l=o.vendorPropName,c=s.browser.ie>0&&s.browser.ie<9,p=s.support.rgba,d=1e5,v=/,\s+/g,m=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/,g=new RegExp("("+m.source+")"+"([\\S]*)?"),y={display:!0},b={color:{get:function(e){return e==null?{value:r.transparent,unit:""}:{value:t(e),unit:""}}},isolate:{get:function(e){return{value:e}}},multiple:{get:function(e,t){return e||(e=S[t]||""),e=e.replace(v,",").split(" "),A(e)}}},w={isolate:function(e,t,n){return e===1?n:t},color:function(e,t,n){return(n.length===4?"rgba(":"rgb(")+(t[0]+(n[0]-t[0])*e&255)+","+(t[1]+(n[1]-t[1])*e&255)+","+(t[2]+(n[2]-t[2])*e&255)+(n.length===4?","+a(t[3]+(n[3]-t[3])*e,d)+")":")")},multiple:function(e,t,n,r,i){var s=i.types,o=[],u=[],a=-1,f=n.length,l;while(++a<f)s[a]==="color"?u.push(w.color(e,t[a],n[a])):(l=w[s[a]],o.push(l?l(e,t[a],n[a],r[a],i):t[a]+(n[a]-t[a])*e+r[a]));return o.concat(u).join(" ")}},E={"+=":function(e,t){return e+t},"-=":function(e,t){return e-t},"+=color":function(e,t){var n=t.length;while(n-->0)t[n]=e[n]+t[n];return t},"-=color":function(e,t){var n=t.length;while(n-->0)t[n]=e[n]-t[n];return t},"*=":function(e,t){return e*parseFloat(t)},"/=":function(e,t){return e/parseFloat(t)}},S={boxShadow:"0 0 0 transparent",textShadow:"0 0 0 transparent"},x=h.cssHooks,T=h.cssProps,N=h.css,C;return c?C=function(e,t,r,i,s){var o;t=t||e.style,o=x[r];if(!o||!("set"in o)||(i=o.set(e,i,s))!==n)try{t[r]=i}catch(u){}}:C=function(e,t,r,i,s){var o;t=t||e.style,o=x[r];if(!o||!("set"in o)||(i=o.set(e,i,s))!==n)t[r]=i},p||(w.color=function(e,t,n){if(n.length===4)if(t[3]===0&&e===0||t[3]+(n[3]-t[3])===0)return"transparent";return"rgb("+[t[0]+(n[0]-t[0])*e&255,t[1]+(n[1]-t[1])*e&255,t[2]+(n[2]-t[1])*e&255].join(",")+")"}),i(["border","margin","padding"],function(e){var t=["Left","Right","Top","Bottom"];b[e]={expand:function(n,r,s){r.splice(s,1),i(t,function(t){var i=u(n);i.type=i.propName=e+t,r.push(i)})}}}),i(["borderColor","borderWidth","borderStyle"],function(t){var n=["Top","Right","Bottom","Left"];b[t]={expand:function(r,s,o,u){s.splice(o,1),i(n,function(n,i){var o,a=r.type==="color",f={};for(o in r)r.hasOwnProperty(o)&&(f[o]=e(r[o])?r[o][i%r[o].length]:r[o]);a&&u&&(f[u]=r[u]),f.hasOwnProperty("types")&&(f.type=f.types,delete f.types),f.type==="color"&&!e(f[u])&&(f[u]=r[u]),f.propName="border"+n+t.substr(6),s.push(f)})}}}),{parseTween:F,propHooks:b,tweenHooks:w}}();r("utils/parsers",function(){return p});var d=function(){function r(t,n){r.$parent.call(this),this.status=e,this.id=0,this.onPreparedCallback=t,this.onStepCallback=n}var e=0,t=1,n=2;return o.inherit(i,r),o.extend(r.prototype,{isPrepared:function(){return this.status===n},isPreparing:function(){return this.status===t},add:function(e){var t;return this.isPrepared()?(e.prepare(o.noop,e),delete e._prepareNode):(t=this.push(e),e._prepareNode=t),t},_remove:i.prototype.remove,remove:function(e){return e._prepareNode?(e=e._prepareNode,delete e._prepareNode):e=e.prev&&e.next?e:null,e&&this._remove(e),e},reset:function(){this.clear(),this.id++,this.status=e},onPrepared:function(e,t,r){this.onStepCallback&&e.id===this.id&&this.onStepCallback(r),--e.preparing===0&&!e.firing&&e.id===this.id&&this.isPreparing()&&(this.status=n,this.onPreparedCallback&&this.onPreparedCallback(e,t))},prepare:function(n){var r,i;this.status===e&&(r={firing:!0,preparing:0,total:0,id:++this.id},this.status=t,i=o.curry(this.onPrepared,this,r,n),this.iterate(function(e){e&&(r.preparing++,r.total++,typeof e.prepare=="function"?e.prepare(i,e,e.elements):i(e),delete e._prepareNode)},!0),r.firing=!1,r.preparing===0&&(r.preparing=1,i()))}}),r}();r("cores/PrepareList",function(){return d});var v=function(){function i(e,n,i,s){return{pr:s,low:e,high:n,max:null,value:i,color:t,p:r,left:r,right:r}}function s(t,n){var i=n.right;n.right=i.left,i.left!==r&&(i.left.p=n),i.p=n.p,n.p===r?t.root=i:n===n.p.left?n.p.left=i:n.p.right=i,i.left=n,n.p=i,n.max=e(n.high,e(n.left.max,n.right.max)),i.max=e(i.high,e(i.left.max,i.right.max))}function o(t,n){var i=n.left;n.left=i.right,i.right!==r&&(i.right.p=n),i.p=n.p,n.p===r?t.root=i:n===n.p.left?n.p.left=i:n.p.right=i,i.right=n,n.p=i,n.max=e(n.high,e(n.left.max,n.right.max)),i.max=e(i.high,e(i.left.max,i.right.max))}function u(e,r){var i;while(r.p.color===t)r.p===r.p.p.left?(i=r.p.p.right,i.color===t?(r.p.color=n,i.color=n,r.p.p.color=t,r=r.p.p):(r===r.p.right&&(r=r.p,s(e,r)),r.p.color=n,r.p.p.color=t,o(e,r.p.p))):(i=r.p.p.left,i.color===t?(r.p.color=n,i.color=n,r.p.p.color=t,r=r.p.p):(r===r.p.left&&(r=r.p,o(e,r)),r.p.color=n,r.p.p.color=t,s(e,r.p.p)));e.root.color=n}function a(e,r){var i;while(r!==e.root&&r.color===n)r===r.p.left?(i=r.p.right,i.color===t&&(i.color=n,r.p.color=t,s(e,r.p),i=r.p.right),i.left.color===n&&i.right.color===n?(i.color=t,r=r.p):(i.right.color===n&&(i.left.color=n,i.color=t,o(e,i),i=r.p.right),i.color=r.p.color,r.p.color=n,i.right.color=n,s(e,r.p),r=e.root)):(i=r.p.left,i.color===t&&(i.color=n,r.p.color=t,o(e,r.p),i=r.p.left),i.left.color===n&&i.right.color===n?(i.color=t,r=r.p):(i.left.color===n&&(i.right.color=n,i.color=t,s(e,i),i=r.p.left),i.color=r.p.color,r.p.color=n,i.left.color=n,o(e,r.p),r=e.root));r.color=n}function f(e,t,n){t.p===r?e.root=n:t===t.p.left?t.p.left=n:t.p.right=n,n.p=t.p}function l(e,t){var n=e.low-t.low;return n!==0?n:e.pr-t.pr}function c(e){while(e.left!==r)e=e.left;return e}function h(e){while(e.right!==r)e=e.right;return e}function p(n,i){var s=r,o=n.root,a=n.comp;i.max=i.high;while(o!==r)s=o,s.max=e(s.max,i.max),o=a(i,o)<0?o.left:o.right;i.p=s,s===r?n.root=i:a(i,s)<0?s.left=i:s.right=i,i.left=i.right=r,i.color=t,u(n,i)}function d(t,i){var s=i,o=s.color,u,l;if(i===r)return;i.left===r?(u=i.right,f(t,i,i.right)):i.right===r?(u=i.left,f(t,i,i.left)):(s=c(i.right),o=s.color,u=s.right,s.p===i?u.p=s:(f(t,s,s.right),s.right=i.right,s.right.p=s),f(t,i,s),s.left=i.left,s.left.p=s,s.color=i.color),l=u.p;while(l!==t.root&&l!==r)l.max=e(l.high,l.left.max,l.right.max),l=l.p;l===t.root&&(l.max=e(l.high,l.left.max,l.right.max)),o===n&&a(t,u),r.p=r}function v(e){this.root=r,this.comp=e||l,this.pr=1}var e=Math.max,t=1,n=2,r=function(){function e(){this.value=this.id=this.p=this.left=this.right=null,this.color=n,this.max=this.high=-16777215}return new e}();return r.left=r.right=r.p=r,v.prototype={constructor:v,NIL:r,createNode:function(e,t,n){return i(e,t,n,this.pr++)},insertNode:function(e){return!e||e===r?r:(e.pr==null&&(e.pr=this.pr++),p(this,e),e)},insert:function(e,t,n){var r;return t<e?this.NIL:(r=this.createNode(e,t,n),p(this,r),r)},rebuild:function(){var e=this.root,t=[];this.clear();if(e!==r){t.push(e);while(t.length)e=t.pop(),e.left!==r&&t.push(e.left),e.right!==r&&t.push(e.right),p(this,e)}},remove:function(e){e!==r&&d(this,e)},clear:function(){this.root=r},min:function(){return c(this.root)},max:function(){return h(this.root)},search:function(e,t){var n=this.root;if(t<e)return this.NIL;while(n!==r&&(e>n.high||t<n.low))n=n.left!==r&&n.left.max>=e?n.left:n.right;return n}},v}();r("structs/IntervalTree",function(){return v});var m=function(){function N(e,t,n){var r=e.loop,i=e.deferredToInferStart,s,o;t=t!=null?t:1e3,n=n||0;if(!i){s=u(e.start,t,"ms");if(s.unit==="%"&&s.originalValue>=100)return null;e.startTime=n+(s.value>=0?s.value:t+s.value)}return r&&r!==-1?(o=u(e.end||"100%",t,"ms"),o.value<0&&(o.value=t+o.value),e.endTime=n+o.value,i?(e.durationTime=u(e.duration||"100%",t,"ms").value,e.startTime=e.endTime-r*e.durationTime,e.start=e.startTime+"ms"):e.durationTime=(e.endTime-e.startTime)/r):r===-1?(o=u(e.end||"100%",t,"ms"),o.value<0&&(o.value=t+o.value),e.endTime=n+o.value,e.durationTime=u(e.duration||"100%",t,"ms").value,i&&(e.startTime=n)):i?(o=u(e.end==null?"100%":e.end,t,"ms"),o.value<0&&(o.value=t+o.value),e.endTime=n+o.value,e.durationTime=u(e.duration==null?"100%":e.duration,t,"ms").value,e.startTime=e.endTime-e.durationTime,e.start=e.startTime+"ms"):e.endPrior?(o=u(e.end,t,"ms"),o.value<0&&(o.value=t+o.value),e.endTime=n+o.value,e.durationTime=e.endTime-e.startTime,e.duration=e.durationTime+"ms"):(e.durationTime=u(e.duration,t,"ms").value,e.endTime=e.startTime+e.durationTime,e.end=e.endTime+"ms"),e.endTime<0?null:o<0&&s<0&&(o.unit!=="%"&&s.unit!=="%"||o.unit===s.unit)&&e.durationTime<0?null:(e.totalDuration=e.endTime-e.startTime,e.relativeDuration=t,e.relativeTimeOffset=n,e)}function C(e){return!(e.animation||e.init||e.queue||e.steps||e.prepare)}function k(e,t,n,r){var i;return n=n||0,t=t==null?1e3:t,e?e._standardized&&e.relativeTimeOffset===n&&e.relativeDuration===t?e:(e._standardized||(g(e)||e instanceof L||C(e)?e={start:"0%",duration:"100%",end:"100%",endPrior:!1,easing:r||f.defaultEase,animation:e}:(e.start==null&&e.end!=null&&e.duration!=null&&(e.deferredToInferStart=!0),e.start=e.start||"0%",e.duration==null&&(e.end=e.end||"100%",e.endPrior=!0))),y(i=e.easing)?e.easing=f.get(i)||f.get(e.easing):g(e.easing)||(e.easing=r||f.defaultEase),e=N(e,t,n),e._standardized=!0,e):null}function L(e,t){L.$parent.call(this),this.updatePlayState=L.prototype.updatePlayState,this.update=L.prototype.update,this._setRatio=L.prototype._setRatio,this._subSetRatio=L.prototype._subSetRatio,this.checkEnd=L.prototype.checkEnd,this.emit=a.prototype.emit,this.updatePlayStateCallback=this.updatePlayState.bind(this),this.onPreparedCallback=this.onPrepared.bind(this),this.onPrepareStepCallback=this.onPrepareStep.bind(this),h(this,{_isPlaying:!1,_isUpdating:!1,_isFiring:!1,_isInverse:!1,_update100AtFirst:!1,_inverseAccumulator:0,_loop:1,_loopCount:0,_phaseStart:0,_phaseEnd:1,_duration:1e3,_startSystemTime:null,_currentRatio:0,_lastRatio:0,_startRatio:0,_timeScale:1,_deep:0,_prepareList:new d(this.onPreparedCallback,this.onPrepareStepCallback),_animates:new v,_resources:{},_dirty:!1,_insertList:{},_removableList:{},nodes:[],handler:null,id:o.nextId("animation")}),t&&(t.durationTime>=0&&this.setDuration(t.durationTime),t.loop&&(this._loop=t.loop),t.inverse!=null&&this.setInverse(!!t.inverse),t.inverseAccumulator&&(this._inverseAccumulator=t.inverseAccumulator,this._update100AtFirst=this._isInverse&&this._inverseAccumulator%2===1),t.deep&&(this._deep=t.deep)),e&&this.add(e)}function A(e,t,n){var r=S[e],i;return r?r.indexOf("any")>=0?E.any[e]:(i=E[t||r[0]],i&&(i=i[e]),!i&&n&&(i=E[r[0]][e]),i):null}function O(e,t,n){n=n||"any",b(n)||(n=[n]);var r=-1,i=n.length,s;while(++r<i)s=n[r],E[s]||(E[s]={}),S[e]||(S[e]=[]),E[s][e]=t,S[e+"."+s]=!0,S[e].push(s)}var e=Math.min,r=Math.max,i=o.requestNextAnimationFrame,s=o.rootNamespace.cancelRequestNextAnimationFrame,u=l.convertTime,c=o.copy,h=o.extend,m=o.round,g=o.isFunction,y=o.isString,b=o.isArray,w=o.isBoolean,E=o.namespace(".animations",o.rootNamespace),S=o.namespace(".typeTable",E),x=1e5,T=1500;return o.inherit(a,L),o.extend(L.prototype,{isPlaying:function(){return this._isPlaying},isInverse:function(){return this._isInverse},getRatio:function(){return this._currentRatio},getDuration:function(){return this._duration},getTimeScale:function(){return this._timeScale},getPhaseStart:function(){return this._phaseStart},getPhaseEnd:function(){return this._phaseEnd},setRatio:function(e){return e=+e,e>=this._phaseStart&&e<=this._phaseEnd&&this._setRatio(e,!0,!this.isPrepared()).updatePlayInfo(),this},setDuration:function(e){var t=this.getDuration();return typeof e=="string"&&(e=u(e,t,"ms").value),e!==t&&e>0&&(this._duration=e,this.updateTimeLine(),this.updatePlayInfo(),!this.isPlaying()&&this.isPrepared()&&this.update(),this.emit("durationChanged",[e,t])),this},setInverse:function(e){var t=this._isInverse;return this._isInverse=!!e,this._isInverse!==t&&(this.updatePlayInfo(),this.emit("inverse",[e,t])),this},setTimeScale:function(e){var t=this._timeScale;return t!==e&&o.isNumber(e)&&(this._timeScale=Math.abs(e),e<0&&this.setInverse(!this.isInverse()),this.updatePlayInfo(),this.emit("timeScaleChanged",[e,t])),this},setPhase:function(e,t){return e!=null&&(e=m(u(e,this.getDuration(),"ms").value/this.getDuration(),x),e>=0&&e<=1&&(this._phaseStart=e)),t!=null&&(t=m(u(t,this.getDuration(),"ms").value/this.getDuration(),x),t>=0&&t<=1&&t>=this._phaseStart&&(this._phaseEnd=t)),this},play:function(){var e=this._isPlaying;return this._isPlaying||(this._isPlaying=!0),this.updatePlayInfo(),this._isUpdating?!this.isPrepared()&&!this.isPreparing()&&this.prepare():this.isPrepared()?this.startAnimation():this.prepare(),e||this.emit("play",[this._currentRatio]),this},pause:function(){return this._isPlaying&&(this._isPlaying=!1,this.cancelAnimation(),this.emit("pause",[this._currentRatio])),this},playPause:function(){return this._isPlaying?this.pause():this.play()},seek:function(e){return this.setRatio(u(e,this.getDuration(),"ms").value/this.getDuration())},stop:function(e,t){t&&this.setRatio(this._phaseEnd),this.reset(e)},reset:function(e,t){var n=this.nodes,r=n.length;this.pause();while(--r>=0)this.remove(n[r]);return e&&this.clear(),this._animates.clear(),this._phaseStart=0,this._phaseEnd=1,this._resources={},this.setTimeScale(1).setInverse(!1),this._prepareList.reset(),this._setRatio(0,t),this._lastRatio=0,this.emit("reset"),this},add:function(e,t){return this._add(e,t===!0?this._currentRatio*this.getDuration():t)},remove:function(e){return this._remove(e,this)},isPrepared:function(){return this._prepareList.isPrepared()},isPreparing:function(){return this._prepareList.isPreparing()},onPrepareStep:function(e){e&&e.initImmediately&&e.init&&!e.inited&&this.initNode(e)},onPrepared:function(e,t){this.emit("prepared",[this,e.total]),t?t(this):this.isPlaying()?this.play():this.setRatio(this._currentRatio)},prepare:function(e){this._prepareList.prepare(e)},_setRatio:function(e,t,n){var r=this._currentRatio;return this._lastRatio=r,this._currentRatio=(e*1e7+.5|0)/1e7,n?this.prepare():this.update(),e!==r&&!t&&this.emit("ratioChanged",[e,r]),this},cancelAnimation:function(){this.handler&&(s(this.handler),this.handler=null,this._isUpdating=!1)},startAnimation:function(){this.cancelAnimation(),this.handler=i(this.updatePlayStateCallback)},_add:function(e,t,n,r,i,s,o,u){return e=this.parse(e,t,r,i,s,o||this,u),n=n||this.nodes,e&&n.push(e),e},_remove:function(e,t){var n;return e||t!==this&&(e=t,t=t.$parent||this),t=(t||e.$parent||this).nodes,n=t.indexOf(e),n>=0&&(t.splice(n,1),this.destroyNode(e)),e},update:function(){var t=this._currentRatio*this._duration,n=this._lastRatio*this._duration,i=t-n,s=this._animates,o=s.NIL,u=[],a=!0,f,l,c,h,p,d;i>=0?(c=t,l=n):(c=n,l=t),this._isFiring=!0;while(a){f=s.root,u.length=0,this._dirty=!1;if(f===o)break;while(f!==o||u.length)if(f!==o)f.low>c?i<0&&(f.pass=!0,u.push(f)):f.high<l&&f.max>=l?(f.pass=!0,u.push(f)):f.low<=c&&f.high>=l&&u.push(f),f=i>=0?f.left:f.right;else if(u.length){f=u.pop(),p=f.value;if(!f.pass&&p&&p.active){d=p.node;if(!d.init||d.inited||this.initNode(d))h=e(r((t-d.startTime)/d.totalDuration,0),1),p.callback.apply(d,[d.elements,h,d.easing,d])}f.pass=!1,f=i>=0?f.right:f.left}else f=o;a=this._dirty,a&&(this.removeDynamicNodes(),this.insertDynamicNodes())}this._isFiring=!1,this.checkEnd()},checkEnd:function(){var e=this._currentRatio;this._isInverse?e<=this._phaseStart&&this.emit("end",[this._phaseStart,!0]):e>=this._phaseEnd&&this.emit("end",[this._phaseEnd,!1])},updatePlayInfo:function(){var e=this.isPrepared();if(this._isPlaying){this._startRatio=this._currentRatio;if(this._startRatio<=this._phaseStart||this._startRatio>=this._phaseEnd)this._isInverse?this._startRatio=this._currentRatio=this._phaseEnd:this._startRatio=this._currentRatio=this._phaseStart,e&&this.update();e&&(this._startSystemTime=Date.now())}return this},updatePlayState:function(){this._isUpdating=!0;if(!this.isPrepared()||!this._isPlaying){this._isUpdating=!1;return}var e=this._timeScale*(Date.now()-this._startSystemTime),t=this._isInverse,n;t?(n=this._startRatio-e/this._duration,n<=this._phaseStart&&(n=this._phaseStart)):(n=this._startRatio+e/this._duration,n>=this._phaseEnd&&(n=this._phaseEnd)),n!==this._currentRatio&&this._setRatio(n);if(!t&&n>=this._phaseEnd||t&&n<=this._phaseStart){this._isPlaying=!1,this._isUpdating=!1;return}this.handler=i(this.updatePlayStateCallback)},insertDynamicNodes:function(){var e=this._insertList,t;for(t in e)e.hasOwnProperty(t)&&e[t]&&this._animates.insertNode(e[t]);this._insertList={}},removeDynamicNodes:function(){var e=this._removableList,t;for(t in e)e.hasOwnProperty(t)&&e[t]&&this._animates.remove(e[t]);this._removableList={}},addAnimate:function(e,t,n){var r=this._animates;e.animationNode=r.createNode(e.startTime,e.endTime,{node:e,active:w(e.active)?e.active:!0,callback:t}),this._isFiring?(this._dirty=!0,this._insertList[e.id]=e.animationNode):r.insertNode(e.animationNode),e.animationType=n},removeAnimate:function(e){e.animationNode&&(this._isFiring?this._insertList[e.id]?delete this._insertList[e.id]:(this._dirty=!0,this._removableList[e.id]=e.animationNode):this._animates.remove(e.animationNode),delete e.animationNode)},parse:function(e,t,n,r,i,s,u){var a=[],f=!1,l,d,v,m,w,S,x,T,N,O;r=r!=null?r:this._duration;if(e._parsed&&!e._parseAgain)return e;e=k(e,r,t,i);if(!e)return null;m=e.elements;if(m&&!b(m))if(m.jquery&&(d=m.length)>1){e.elements=[],l=-1,d=m.length;while(++l<d)e.elements[l]=m.eq(l)}else e.elements=[e.elements];e=h(!1,e,u),e.elements=e.elements||c(n),S=e.animation,u&&u.params&&(e.params=h(e.params,u.params)),e.constantParams&&(e.params=h(e.params||{},e.constantParams));if(e.loop===-1||e.loop>1||e.inverse)e.$animation=null,N=c(e),N.start=N.duration=N.end=N.endPrior=N.startTime=N.durationTime=N.endTime=null,delete N._standardized,delete N.loop,delete N.inverse,delete N.yoyo,e.queue=e.steps=e.prepare=e.init=e.destroy=null,e.inverseAccumulator=this._inverseAccumulator+(e.inverse?1:0),e.deep=this._deep+1,S=new L(N,e),e.animation=S;e.$animation=e,e.$params=e.params,e.$parent=s,e.id=o.nextId("node"),e._parsed=!0,e._parseAgain=!1,delete e.params;if(S instanceof L)this.addAnimate(e,S._subSetRatio.bind(S),"Animation"),S.setDuration(e.durationTime),f=!0;else if(g(S))this.addAnimate(e,S,"callback: "+S.name),f=!0;else if(y(S)){O=!1,v=0;while(v<S.length&&S.charAt(v)==="~")v++;v&&(S=S.slice(v)),w=A(S,e.type),w?(O?typeof w=="function"||C(w)?w={inverse:!0,animation:c(w)}:(w=c(w),w.inverse=!w.inverse):w=c(w),a.push(w),e.animationType="system: "+S):console.error("CANNOT FIND the animation: '%s' in animation libraries: %O.",S,E)}else b(S)?(a=a.concat(S),e.animationType="array: "+S.toString()):S&&(C(S)?(N=p.parseTween(S),e.animationType="tween",N&&a.push(N)):(a.push(S),e.animationType="animation object"));this.flyweight(e),e.queue&&(a=a.concat(e.queue),delete e.queue);if(e.steps){l=e.steps.length,x=100/l,T=100-x;while(l-->0)a.push({start:T+"%",duration:x+"%",animation:e.steps[l]}),T-=x,l===1&&(T=0);delete e.steps}a.length>0&&(e.nodes=[]),e.prepare&&this._prepareList.add(e),S instanceof L&&this._prepareList.add(S),e.init&&(e.initImmediately?(this.isPrepared()||!e.prepare)&&!this.initNode(e)&&(e=null,S=null,a.length=0):f||this.addAnimate(e,null,"no callback")),l=-1,d=a.length;while(++l<d)N=this.parse(a[l],e.startTime,e.elements,e.durationTime,e.easing,e,{active:e.active,initImmediately:e.initImmediately,type:e.type,params:e.$params}),N&&e.nodes.push(N);return e},flyweight:function(e){var r=e.animation instanceof L?e.animation:this;o.extend(e,{activate:function(e){e=e===n?!0:!!e;var t=-1,r;this.animationNode&&(this.animationNode.active=e);if(this.nodes){r=this.nodes.length;while(++t<r)this.nodes[t].active()}},add:function(t){return this.nodes||(this.nodes=[]),r._add(t,this.startTime,this.nodes,this.elements,this.durationTime,this.easing,this,{active:this.active,initImmediately:e.initImmediately,type:this.type,params:this.$params}),this},remove:function(e){return e&&!this.nodes?this:e?r._remove(e,this):r._remove(this,this.$parent||r)},defaultPrepare:function(n,i,s,u){function N(t){y&&clearTimeout(y),y=null,t(e),l=!0,d.length=0,s=u=m=null}if(!n||!i)return s?s():u&&u(),o.noop;var a=-1,f=!1,l=!1,c=r._resources,h=0,p=0,d=[],v,m,g,y,w,E,S,x;u=u||s;if(typeof n=="string"){m={onload:function(){this.onload=this.onerror=null,--h===0&&!f&&N(s)},onerror:function(){this.onload=this.onerror=null,--h===0&&!f&&N(u)},ontimeout:function(){var e;while(d.length)e=d.shift(),e.onload=e.onerror=null;e=null,N(u)}},b(i)||(i=[i]),E=i.length,g=t.createElement(n);if("src"in g&&"onload"in g)while(++a<E){f=!0,v=i[a].find(n);if(v.length>0){S=-1,x=v.length;while(++S<x){w=v[S].src;if(c[w])continue;c[w]=!0,g=t.createElement(n),g.onload=m.onload,g.onerror=m.onerror,h++,p++,d.push(g),w?g.src=v[S].src:m.onload.apply(g)}}}}return g=null,f=!1,h===0&&!f?N(s):y=setTimeout(m.ontimeout,T),l?o.noop:function(){var e;while(d.length)e=d.shift(),e.onload=e.onerror=null;e=null}}})},updateTimeLine:function(){this._updateTimeLine(this.nodes,this.getDuration()),this._animates.rebuild()},_updateTimeLine:function(e,t,n){var r=e.length,i;n=n||0;while(r-->0)i=e[r],N(i,t,n),i.animationNode&&(i.animationNode.low=i.startTime,i.animationNode.high=i.endTime),i.animation instanceof L&&i.animation.setDuration(i.durationTime),i.nodes&&this._updateTimeLine(i.nodes,i.durationTime,i.startTime)},initNode:function(e){var t=this._initNode(e);return t&&e.animationType==="no callback"&&(this.removeAnimate(e),t=!1),t},_initNode:function(e){var t;if(e.inited)return!0;try{e.init(e.elements,e),e.inited=!0}catch(n){return t=e.onerror?e.onerror(e.elements,e):-1,t&&typeof t!="number"?(e.add({animation:t,elements:e.elements,easing:e.easing}),console.error("init-error#",n," from ",e),!0):t===1?(console.error("init-error#",n," from ",e),!0):(t=t==null?-1:t,t!==0&&this.destroyNode(e),console.error("init-error#",n," from ",e),!1)}return!0},destroyNode:function(e){var t=e.nodes,n;delete e.init;if(t){n=t.length;while(n-->0)this.destroyNode(t[n])}if(e.destroy){try{e.destroy(e.elements,e)}catch(r){console.error("destroy-error#",r,"from",e)}delete e.destroy}this._prepareList.remove(e),e.animation instanceof L&&(this._prepareList.remove(e.animation),e.animation.reset()),this.removeAnimate(e),e.$animation=null,e.$params=null,e.animation=null,e.$parent=null,delete e.add,delete e.remove,delete e.defaultPrepare,e.nodes&&(e.nodes.length=0),e.elements&&(e.elements.length=0)},_subSetRatio:function(e,t,n,r){var i=r.endTime-r.startTime,s;t=+t*i/this._duration,s=t|0,s&&t===s?t=1:t-=t|0,this._loop!==-1&&s>=this._loop&&(t=1),this._loopCount=s,this._isInverse&&(t=1-t),this._update100AtFirst?(this._update100AtFirst=!1,this._setRatio(1,!1),t!==1&&this._setRatio(t,!1)):this._setRatio(t,!1)}}),o.rootNamespace.getAnimation=A,o.rootNamespace.registerAnimation=O,o.rootNamespace.animationFactory={version:"1.0.3c",instance:function(){return new L},standardizeNode:k,formatTime:N,apply:function(e,t,n,r){t=u(t==null?"1d":t,null,"ms").value,r=r||{};var i={elements:e,animation:c(n)},s=new L,o=r.playStart||"0%",a=r.playEnd||"100%",f,l;s.setDuration(u(r.start||0,t,"ms").value+t),s.add(h(i,r)),s.once("end",function(){s.reset(!0),s=null}),r.timeScale!=null&&s.setTimeScale(r.timeScale);if(r.events){f=r.events;for(l in f)f.hasOwnProperty(l)&&typeof f[l]=="function"&&s.on(l,f[l])}if(r.onceEvents){f=r.onceEvents;for(l in f)f.hasOwnProperty(l)&&typeof f[l]=="function"&&s.once(l,f[l])}return s.setPhase(o,a).play()},register:function(e,t,n){return O(e,t,n)},query:function(e,t){return A(e,t,!0)}},o.rootNamespace.animationFactory}();r("cores/animationFactory",function(){return m});var g=function(){function e(t,n){e.$parent.call(this),this.animation=t||m.instance(),this.everAnimation=n||m.instance().setDuration("1w"),this.canPlayEver=!1,this.animation.on("end",this.animationEnd.bind(this),100)}return o.inherit(a,e),o.extend(e.prototype,{bind:function(e){var t=this.animation;return t.pause(),t.reset(),t.setDuration(e[0].duration),t.add(o.copy(e[0].animations)),t.setRatio(0),this.everAnimation.reset(),this.canPlayEver=!1,e[0].everAnimations&&e[0].everAnimations.length&&(this.everAnimation.add(o.copy(e[0].everAnimations)),this.everAnimation.setRatio(0),this.canPlayEver=!0),this.emit("dataBound",[e[0]]),this},getEverTimeLine:function(){return this.everAnimation},play:function(e,t){var n=this.animation.isPlaying();return!n&&this.animation.getRatio()===1?(this.animationEnd(),this):(this.animation.setPhase(e,t).play(),this.canPlayEver&&this.everAnimation.play(),n||this.emit("sliderPlayed"),this)},pause:function(e){return e&&this.everAnimation.isPlaying()&&this.everAnimation.pause(),this.animation.isPlaying()&&(this.animation.pause(),this.emit("sliderPaused")),this},playPause:function(e){return this.isPlaying()?this.pause(e):this.play()},isPlaying:function(){return this.animation.isPlaying()},finish:function(e){return this.animation.reset(!1,e),this.everAnimation.reset(!1,e),this},end:function(e){return e?this.finish():this.pause(),this.animationEnd(),this},animationEnd:function(){this.emit("sliderEnd")}}),e}();r("cores/Slider",function(){return g});var y=function(){function u(e,t,n,r){var i,s;if(e.showType){i=e.startTime,s=e.endTime;switch(e.showType){case"in":t=s>t?s:t;break;case"out":t=i<t&&s>t?s:t,n=i>=t&&(i<n||t>=n)?i:n}t>n&&(n=r)}return[t,n]}function f(e){var t=e.elements,n=e.duration,r,o=0,a=0;t&&i(t,function(e){var t=e.animations;s(t)?i(t,function(e){r=u(e,o,a,n),o=r[0],a=r[1]}):t&&(r=u(t,o,a,n),o=r[0],a=r[1])}),e.enterEnd=o/n,e.exitStart=a/n||1}function l(t){l.$parent.call(this),this._status=e,this._loop=1,this._loopCount=0,this._sliderFiring=!1,this.initialized=!1,this.sliderFinished=!1,this.pausedWhenInitializing=!1,this.executeCallback=this.execute.bind(this),this.sliderEndCallback=this.sliderEnd.bind(this),this.beforeRemoveDataCallback=this.beforeRemoveData.bind(this),this.dataSet(t),this.slider(new g)}var e=0,t=1,n=2,r=4,i=o.forEach,s=o.isArray;return o.inherit(a,l),o.extend(l,{IDLE:e,INITIALIZING:t,PLAYING:n,PAUSED:r}),o.extend(l.prototype,{start:function(){if(this._status!==e)throw new Error("Cannot initialize more than once - from init() #"+this._status);if(this.initialized)throw new Error("Cannot initialize more than once - from init()");return this.status(t),this._dataSet.request(),this},status:function(e){var t;return e?(this._status!==e&&(t=this._status,this._status=e,this.emit("statusChanged",[e,t])),this):this._status},dataSet:function(e){return e&&(this._dataSet=e,e.on("targetDataLoaded",this.executeCallback,a.PRIORITIES.HIGHER),e.on("beforeRemoveData",this.beforeRemoveDataCallback,a.PRIORITIES.HIGHER),e.on("sceneInitialized",f,a.PRIORITIES.HIGHER)),this._dataSet},slider:function(e){return e&&(this._slider=e,e.on("sliderEnd",this.sliderEndCallback,100)),this._slider},execute:function(e,t){var i=this._status===r;if(!e)return;this.initialized||(this.pausedWhenInitializing?(i=!0,this.status(r)):this.status(n),this.initialized=!0,this.pausedWhenInitializing=!1,this.emit("controllerReady")),this._slider.bind([e]),this.emit("beforeSliderStart",[e,t,1]),i?this._slider.pause():this._slider.play(),this._sliderFiring||(this._sliderFiring=!0,this.sliderFinished=!1,this.emit("sliderStarted",[e,t,1]))},emitSliderEnd:function(){this._sliderFiring&&(this._sliderFiring=!1,this.emit("sliderEnd",[this._dataSet.data(),0]))},sliderEnd:function(){++this._loopCount<this._loop||this._loop===-1?(this.emitSliderEnd(),this._dataSet.request()):this.sliderFinished=!0},isPlaying:function(){return!(this._status===r||this._status<=t&&this.pausedWhenInitializing)},isEnd:function(){return this.sliderFinished},reset:function(){var e=this.isEnd();return this.initialized&&!this.isEnd()&&(this._loopCount=this._loop+1,this._slider.end(!0),this.isEnd()&&this.emitSliderEnd()),this.initialized&&(e&&(this._slider.finish(),this.emitSliderEnd()),this._loopCount=0,this.pause(),this._dataSet.request()),this},beforeRemoveData:function(){return this._slider.finish(),this.noData=!0,this},destroy:function(){this.pause(),this._slider.clear(),this.clear(),this._slider=this._dataSet=null},pause:function(){var e=this._slider;return this._status===n?(this.status(r),e.isPlaying()&&e.pause(),this.emit("controllerPaused")):this._status<=t&&!this.pausedWhenInitializing&&(this.pausedWhenInitializing=!0,this.emit("controllerPaused")),this},play:function(e){if(this.isEnd()){if(!e)return this;this.end(!0)}return this._status===r?(this.status(n),this._slider.isPlaying()||this._slider.play(),this.emit("controllerPlayed")):this._status<=t&&this.pausedWhenInitializing&&(this.pausedWhenInitializing=!1,this.emit("controllerPlayed")),this}}),l}();r("cores/Controller",function(){return y});var b=function(){var e=o.rootNamespace.loaders,n=/\/\^r\$\//g,r=o.rootNamespace.TIMEOUT||3e3;return e||(e=o.rootNamespace.loaders={image:function(e,n,i,s){function l(){p(1)}function c(){p(0)}function h(){p(-1)}function p(t){clearTimeout(u),a.onload=null,a.onerror=null,e.originalData={width:a.width,height:a.height},s.append(f),n(s,t===1,i),a=null,f=null,s=null}var o=e.content||"",u=null,a=new Image,f=t.createElement("img");f.className+="hi-image",u=setTimeout(h,r);if(!o){p(1);return}a.onload=l,a.onerror=c,f.src=o,a.src=o},text:function(e,t,r,i){var s=(e.content||"").replace(n,"<br />");e.content=s,i.html('<span class="hi-text">'+s+"</span>"),t(i,!0,r),i=null},panel:function(e,t,n,r){t(r,!0,n),r=null}},e["default"]=e.text,e.container=e.panel,e.empty=e.panel),{get:function(t){return e[t]},register:function(t,n,r){return e[t]=n,r&&(n.required=r),this}}}();r("models/loaderFactory",function(){return b});var w=function(){function t(){t.$parent.call(this),this._queue=[],this._requiredList={},this._firing=!1}var e=o.map;return o.inherit(a,t),o.extend(t.prototype,{push:function(e,t,n,r){e&&(this._queue.push([e,t,r]),(!this._firing||n)&&this.fire())},register:function(e,t){return this._requiredList[e]=t,this},getRequired:function(e,t,n){return e==="rootId"?n[1]:n[0][e]},reset:function(){this._queue.length=0,this._requiredList={},this.clear()},fire:function(){function k(e,n,r,f){var h=r.template,v=!0,m,g;r.success=n,r.element=e.addClass("hi-component hi-"+h.type+"-component").css({display:"none",opacity:1,visibility:"visible"}),p&&e.removeClass(p),n||(o++,e.addClass("hi-"+h.type+"-error"),t.emit("dataError",[r]),f&&(v=f(e,r))),--i,++s,d.loadingProgress=(1e4*(s>E?E:s)/E|0)/100,n||console.warn("["+y+": "+s+"/"+(E>u?E:u)+" ("+/(\S*:.*:\S*)/.exec(new Date)[1]+")] data[type: "+r.template.type+"] loaded ("+(n?"SUCCESS":"FAILURE")+"): "+r.template.content),t.emit("dataLoading",[d,y,c,s,o,E,u]),!i&&!a&&(d.elementCounter=u,d.errorElementCounter=o,l&&(l(d),l=null),t.emit("dataLoaded",[d]),t._queue.length?t.fire():t._firing=!1);if(i<0)throw new Error("Funny if met here:(");e=null,m=null}var t=this,n=this._queue.pop(),r=[],i=0,s=0,o=0,u=0,a=!1,f=!0,l,c,p,d,v,m,g,y,w,E,S,x,T,N,C;if(n){r.push(n),a=!0,this._firing=!0,d=n[0],y=d.id,c=d.from,p=d.extraClass,E=d.elementCounter,this.emit("dataLoading",[n,y,c,0,0,E,E]);while(r.length){n=r.shift(),g=n[1],n=n[0],l=n[2],x=n.template;if(x&&!n.element){C=x.type=(x.type||"text").toLowerCase(),u+=1,i+=1,w=h('<div style="visibility: hidden;"></div>').css("opacity",0),p&&w.addClass(p),g&&(g.append(w),n.isAppended=!0),v=b.get(C),m=v.required;if(!v){console.error("cannot find type: "+C+" in loaders."),u--,i--;continue}m&&(m=e(m,this.getRequired,[this._requiredList,y])),w=v(x,k,n,w,m)||w}T=n.elements;if(T){S=T.length,N=-1;if(S===0)delete n.elements;else if(f)while(++N<S)r.push([T[N],g]);else while(++N<S)r.push([T[N],w||g])}f=!1,w=null}a=!1}u&&!i&&(l&&(l(d),l=null),this.emit("dataLoaded",[d]),this._queue.length?this.fire():this._firing=!1)}}),t}();r("models/Loader",function(){return w});var E=function(){function i(n,s,o,u,a){var f,l,c,h,p,d;a.id=s=a.id||r(s)||r("hd"),a.element&&(l=a.element,d=a.template.type,d=d.substr(d.lastIndexOf("-")+1),c=a.animations,h="Always Display",p="Always Display",c&&(c.animationIn&&typeof c.animationIn.animation=="string"&&(h=c.animationIn.animation),!c.alwaysDisplay&&c.animationOut&&typeof c.animationOut.animation=="string"&&(p=c.animationOut.animation)),l.prop("id",s).attr({"data-from-id":u,"data-parent-id":o,"data-type":d,"data-animation-in":h,"data-animation-out":p}),a.elementType=d,a.isAppended||(n.append(a.layout),l=null)),a.elements&&(n=a.element||n,f=t(i,null,n,a.id+"e",o,u),e(a.elements,f),f=null)}function s(n){var r=n.$container,s;n.elements&&(s=t(i,null,r,n.id+"e",n.id,n.from),e(n.elements,s)),s=null,r=null}function u(e){e.iterator(function(e,t){var r=e.style,i=e.classes;if(!t)return;r&&(t[0].style.cssText="",t.data("hiTransform",null).css(r)),i&&(n(i)||typeof i=="string")&&t.addClass(n(i)?i.join(" "):i)})}var e=o.forEach,t=o.curry,n=o.isArray,r=o.nextId;return{fillData:s,initStyle:u}}();r("views/viewUtils",function(){return E});var S=function(){function n(n){var r,i,s;e(n)||(n=[n]),s=-1,r=n.length;while(++s<r){i=t(n[s]),n[s]=i;if(!i){n.splice(s--,1),--r;continue}i.showType==="in"?(n.animationIn=i,i.animation&&i.animation.toString().toLowerCase()==="none"&&(i.animation="NoneIn",n.immediatelyShow=!0)):i.showType==="out"&&(i.animation&&(i.animation.toString().toLowerCase()==="alwaysdisplay"?(n.alwaysDisplay=!0,i.animation="AlwaysDisplay",delete i.duration,i.end="100%",i.endPrior=!0):i.animation.toString().toLowerCase()==="none"&&(n.immediatelyHidden=!0,i.animation="NoneOut")),n.animationOut=i)}return n}var e=o.isArray,t=m.standardizeNode;return{filterAnimations:n}}();r("utils/animationHelper",function(){return S});var x=function(){function c(e,t){var n=-1,r,i;if(e){i=e.length;while(++n<i)r=e[n].element,r&&(r[0].style.display=t)}}function p(e){n(e,h)}function d(e){e.duration=Math.max(r(e.duration,null,"ms").value,0)||f.duration,delete e.template,e.iterator(function(e){var t=e.animations;t&&((i(t)||typeof t=="string")&&t.length>0||!i(t))?(e.animations=s(t),e.animations&&e.animations.animationIn?(e.style=e.style||{},e.style.display="none"):e.style.display="block"):delete e.animations,e.template&&(e.template.type=e.template.type.toLowerCase())})}function v(e){var t=[],n=[];e.iterator(function(e,r){var i=e.animations;i&&(i.alwaysDisplay?n:t).push({elements:[r],type:e.elementType,animation:i})},!0),e.animations=t,e.everAnimations=n}function m(t,n){var r=n.stage.css("position");m.$parent.call(this),this._loader=new w,this._id=e("hds"),!t||!t.elements||t.elements.length===0?this._data=null:(this._data=o.copy(t),this._data.$container=n.stage),u.test(r)||n.stage.css("position","relative"),this.on("beforePrepareScene",E.initStyle,a.PRIORITIES.HIGHER),this.on("repeatPrepareScene",E.initStyle,a.PRIORITIES.HIGHER),this.on("sceneInitialized",v,a.PRIORITIES.HIGHER),this.on("beforeLoadData",d,a.PRIORITIES.HIGHER),this._loader.on("dataLoaded",this.dataLoadedHandler.bind(this),a.PRIORITIES.HIGHER)}var e=o.nextId,t=o.removeIdPrefix,n=o.extend,r=l.convertTime,i=o.isArray,s=S.filterAnimations,u=/fixed|absolute|relative/,f={duration:2e3},h={hideElements:function(){c(this.elements,"none"),this.elementsHidden=!0},showElements:function(){c(this.elements,""),this.elementsHidden=!1},iterator:function(e,t,n){var r=[this],i,s,o,u;while(r.length>0){i=r.pop(),s=i.element,o=i.elements;if(!t||!i.isManually){e(i,s,i.element,o),u=o?o.length:0;if(!i.isManually||!n)while(u--)s=o[u],r.push(s)}}},add:function(e){this.elements||(this.elements=[]),this.elements.push(e)}};return o.inherit(a,m),o.extend(m.prototype,{loader:function(){return this._loader},data:function(){return this._data},currentData:function(){return this._data},appendElementsToData:function(e,t){var n=this.data(e),r=-1,s=this,o;if(!t||!n)return;i(t)||(t=[t]),o=t.length,n.elements||(n.elements=[]);while(++r<o)n.elements.push(t[r]);if(n.completed||n.loading)this.emit("beforeLoadExtendedData",[n,t]),this._loader.push({id:n.id,extended:!0,elements:t},n.$container,!0,function(){n.removable||s.emit("extendedDataLoaded",[n,n.elements])})},destroy:function(){var e=this._data;return e&&e.iterator&&(this.emit("beforeRemoveData",[e,!0,!0]),e.iterator(function(e,n){n&&n.remove(),e.id&&t(e.id)}),e.removable=!0,t(e.id+"e"),this._data=null,this.emit("dataRemoved",[e,0,!0])),e&&e.$container&&(e.$container.empty(),e.$container=null),this.loader().reset(),this.clear(),e},requestCurrent:function(){var e=this._data;return e.completed?(this.prepareScene(),this.emit("targetDataLoaded",[e,0,null,null]),e):e.loading?e:this.load()},request:function(){return this._data?(this.emit("dataRequested",[0,null]),this._data.completed?this.requestCurrent():this.load()):null},load:function(){var t;return t=this._data,t&&!t.loading&&!t.completed&&(t.loading=!0,t.index=0,t.from=this._id,t.id=t.id||e("hd"),p(t),this.emit("beforeLoadData",[t,0,0]),this._loader.push(t,t.$container,!0)),t},dataLoadedHandler:function(e){if(e!==this._data||e.from!==this._id)return;e.completed=!0,e.loading=!1,this.emit("dataLoaded",[e,!0]),this.requestCurrent()},prepareScene:function(){var e=this._data;if(!e)return;if(e.initialized){this.emit("repeatPrepareScene",[e,0]);return}E.fillData(e),e.initialized=!0,this.emit("sceneInitialized",[e,0]),e.inView=!0,this.emit("beforePrepareScene",[e,0]),this.emit("afterPrepareScene",[e,0])}}),m}();r("models/DataSet",function(){return x});var T=function(){function t(n){t.$parent.call(this),this.config=n||{},this.$container=n.container||h("body"),this.stage=h('<div class="hi-stage"></div>').appendTo(this.$container),this.stageWidth=null,this.stageHeight=null,e||this.stage.css({width:"100%",height:"100%"}),this.stage.css({_originX:0,_originY:0,_scale:1})}var e=s.support.csstransforms;return o.inherit(a,t),h.extend(t.prototype,{container:function(){return this.$container},bindEngine:function(e){var t=this;e.once("ready",function(){t.resize()})},bindModel:function(e){this.model=e,this.resize(this.config.initialWidth,this.config.initialHeight)},append:function(e){return this.stage.append(e),this},appendTo:function(e,t){return e==="container"?this.$container.append(t):this.stage.append(t),this},prependTo:function(e,t){return this.stage.prepend(t),this},resize:function(e,t){var n=this.model,r=1,i=1;return e=e==null?this.stageWidth:e,t=t==null?this.stageHeight:t,n&&n.currentData()&&n.currentData().info&&(r=e/n.currentData().info.width,i=t/n.currentData().info.height),isNaN(r)&&(r=1),isNaN(i)&&(i=1),this.stageWidth=e,this.stageHeight=t,this.stage&&this.stage.css({_scaleX:r,_scaleY:i}),this},destroy:function(){return this.stage&&(this.stage.remove(),this.container=this.stage=this.model=null),this}}),t}();r("views/View",function(){return T});var N=function(){function s(e,t,n){var r=-1,i=n.length;while(++r<i)n[r](e,t)}function u(e,t){s(e,t,n)}function f(e,t){s(e,t,r)}function l(e){l.$parent.call(this),this.config(e)}var e={LOWEST:0,LOWER:1,NORMAL:2,HIGHER:3,HIGHEST:4},t=[],n=[],r=[];return l.LEVEL=e,o.inherit(a,l),o.extend(l.prototype,{LEVEL:l.LEVEL,config:function(e){this.plugins=new i,this.namedPlugins={},this.resetLevel(),this._id=o.nextId("engine"),this.started=!1,u(this,e);var t=this,n=new T(e),r=new x(e.slides||e.slide,n),s=new y(r,n);n.bindModel(r),n.bindEngine(this),this.view=n,this.options=e,this.model=r,this.controller=s,this.available=!0,s.once("controllerReady",function(){t.emit("ready")}),o.rootNamespace.instances[this._id]=this,f(this,e),this.emit("engineConfigured")},start:function(){return!this.started&&this.controller&&(this.initDefaultPlugins(),this.initPlugins(),this.started=!0,this.controller.start()),this},isPlaying:function(){return this.controller&&this.controller.isPlaying()},play:function(t,n,r){var i=this;return t=t==null?e.NORMAL:t,this.started||this.start(),t>=this.currentLevel&&this.controller&&(this.cancelTimer(),r?(this.resetLevel(),this.controller.play(n)):this.playTimer=setTimeout(function(){i.resetLevel(),i.controller.play(n)},600)),this},pause:function(t){return t=t==null?e.NORMAL:t,t>=this.currentLevel&&this.controller&&(this.cancelTimer(),this.currentLevel=t,this.controller.pause()),this},resetLevel:function(){return this.currentLevel=e.LOWEST,this},playPause:function(e){return this.isPlaying()?this.pause(e):this.play(e)},replay:function(){return this.reset().play(null,!0),this},cancelTimer:function(){return this.playTimer&&(clearTimeout(this.playTimer),this.playTimer=null),this},reset:function(){return this.pause(),this.available&&(this.controller.reset&&this.controller.reset(),this.model.reset&&this.model.reset(),this.view.reset&&this.view.reset(),this.emit("engineReset")),this},resize:function(e,t){return this.view&&this.view.resize&&this.view.resize(e,t),this},destroy:function(){return this.available&&(this.available=!1,this.pause(),this.emit("destroy",[this]),this.model.destroy&&this.model.destroy(),this.controller.destroy&&this.controller.destroy(),this.view.destroy&&this.view.destroy(),this.plugins=this.options=this.model=this.controller=this.view=null,delete o.rootNamespace.instances[this._id],this.clear()),this},next:function(e,t){return this.resetLevel(),this.controller&&this.controller.next(e,t),this},prev:function(e,t){return this.resetLevel(),this.controller&&this.controller.prev(e,t),this},skipTo:function(e,t){return this.resetLevel(),this.controller&&this.controller.switchTo(e,t),this},register:function(e,t){if(this.started&&e){if(e.init&&!1===e.init(this,this.model,this.view,this.controller,this.options))return this;e.$name&&(this.namedPlugins[e.$name]=e),e.$requiredLink&&this.makeLink([e])}return this.plugins[t?"unshift":"push"](e),this},initDefaultPlugins:function(){var e=-1,n=t.length;while(++e<n)this.register(new t[e](this.options),!0)},initPlugins:function(){var e=this.plugins,t=this.namedPlugins,n=e.head,r=this.model,i=this.view,s=this.controller,o=this.options,u=null,a,f;a=n.next;while(a!==n)f=a.value,!f||f.init&&!1===f.init(this,r,i,s,o)?e.remove(a):(f.$name&&(t[f.$name]=f),f.$requiredLink&&(u=u||[],u.push(f))),a=a.next;u&&this.makeLink(u),this.emit("pluginsInitialized",[this.plugins])},makeLink:function(e){var t=-1,n=e.length,r=this.namedPlugins,i,s,o,u;while(++t<n){o=e[t],u=o.$requiredLink,typeof u=="string"&&(u=[u]),i=-1,s=u.length;while(++i<s)typeof u[i]=="string"&&r[u[i]].link(o)}}}),l.registerDefaultPlugin=function(e,n){return t[n?"unshift":"push"](e),this},l.registerProcessor=function(e,t,i){return(i?r:n)[t?"unshift":"push"](e),this},l}();r("cores/Engine",function(){return N});var C=function(){function u(e){var t=e.currentTarget,r=e.data.trigger,i=e.data.actions,s=t.id+"#"+r,o;if(o=i[s])o.preventDefault&&e.preventDefault(),e.stopPropagation(),n[o.type].fire(o.content,o.params,o.target,o)}function f(s,o,a,f,l,c,h){var p,d,v,m,g,y,b,w,E,S,x;s.type=(s.type||"illegal").toLowerCase();if(s.type==="none")return;if(!(y=n[s.type])){o.addClass("hi-illegal-action hi-action-"+s.type);return}p=l,d=s.trigger=i[s.trigger||i["default"]]||i["default"],s.params&&(p=e({},l,s.params)),s.params=p,p.$container=f,p.$rootId=a,y.preProcess&&y.preProcess(s);if(w=y.plugins){g={},t(w)||(w=[w]),S=-1,x=w.length;while(++S<x)E=w[S],typeof E=="string"?g[E]=c[E]:E.$name&&(g[E.$name]=E)}if(v=s.plugins)for(E in v)v.hasOwnProperty(E)&&typeof v[E]=="string"&&(v[E]=c[E]);g&&(s.plugins=v?e(!1,v,g):g),s.id=o.prop("id")+"#"+d,m=h[a]=h[a]||{},m[s.id]=s,m.$triggers=m.$triggers||{},b=n[s.type].hint,o.addClass("hi-action hi-trigger-"+d+" hi-action-"+s.type).attr(b?{"data-action-type":s.type,title:(b||"").replace(r,s.content)}:{"data-action-type":s.type}),m.$triggers[d]||(m.$triggers[d]=!0,f.on(d,".hi-action",{actions:m,trigger:d},u))}function l(){this.registeredActions={},this.plugins={},this.defaultParams={},this.controller=null}var e=o.extend,t=o.isArray,n=o.rootNamespace.actions={},r=/%content%/g,i;return s.support.touch?i={"default":"tap",click:"tap",mousedown:"touchstart",mouseup:"touchend"}:i={"default":"click",tap:"click",touchstart:"mousedown",touchend:"mouseup"},o.inherit(a,l),o.extend(l.prototype,{$name:"ActionManager",init:function(e,t,n){this.controller=e,this.defaultParams={$controller:e},t.on("sceneInitialized",this.register.bind(this)),t.on("dataRemoved",this.unRegister.bind(this)),t.on("extendedDataLoaded",this.extendRegister.bind(this))},link:function(e){this.plugins[e.$name]=e},register:function(e){var t=this.plugins,n=this.registeredActions,r=this.defaultParams,i=e.id,s=e.$container;e.iterator(function(e,o){var u;(u=e.action)&&f(u,o,i,s,r,t,n)})},extendRegister:function(e,t){var n=this.plugins,r=this.registeredActions,i=this.defaultParams,s=e.id,o=e.$container,u=-1,a=t.length;while(++u<a)t[u].action&&f(t[u].action,t[u].element,s,o,i,n,r)},unRegister:function(e){var t=this.registeredActions[e.id],n=e.$container,r,i;if(t){r=t.$triggers;for(i in r)r.hasOwnProperty(i)&&n.off(i,u);delete this.registeredActions[e.id]}}}),l.registerAction=function(e,t){var r;if(typeof e=="object")if(!e.name)for(r in e)e.hasOwnProperty(r)&&l.registerAction(r,e[r]);else e.fire&&(n[e.name]=e);else typeof e=="string"&&t&&(r=t,typeof t=="function"&&(r={fire:t}),typeof r=="object"&&(n[e]=r,r.name=e))},N.registerDefaultPlugin(l),l}();r("plugins/ActionManager",function(){return C});var k=function(){function o(){var i,s;!n&&!r&&(r=!0,e.onYouTubePlayerAPIReady=function(){u(!0),e.onYouTubePlayerAPIReady=null,i.onload=null,i=null},i=t.createElement("script"),i.src="https://www.youtube.com/player_api",s=t.getElementsByTagName("script")[0],s.parentNode.insertBefore(i,s),s=null)}function u(e){var t;!n&&!r&&o();if(e===!0){n=!0,r=!1;while(s.length!==0)t=s.shift(),t&&typeof t.value=="function"&&t.value()}else if(typeof e=="function"){if(!n)return s.push(e);e()}return null}function h(){var e,r,i,s,o;!n&&!f&&(f=!0,s=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")s=null,e.onload=e.onreadystatechange=null,e=null,--c===0&&p(!0)},o=function(){if(!this.readyState||this.readyState==="loaded"||this.readyState==="complete")o=null,r.onload=r.onreadystatechange=null,r=null,--c===0&&p(!0)},e=t.createElement("script"),e.onload=e.onreadystatechange=s,e.src="http://vjs.zencdn.net/4.3/video.js",i=t.getElementsByTagName("script")[0],i.parentNode.insertBefore(e,i),r=t.createElement("link"),r.onload=r.onreadystatechange=o,r.stylesheet="text/css",r.rel="stylesheet",r.href="http://vjs.zencdn.net/4.3/video-js.css",i=t.getElementsByTagName("head")[0],i.appendChild(r),i=null)}function p(e){var t;!a&&!f&&h();if(e===!0){a=!0,f=!1;while(l.length)t=l.shift(),t&&typeof t.value=="function"&&t.value()}else if(typeof e=="function"){if(!a)return l.push(e);e()}return null}var n=!1,r=!1,s=new i,a=!1,f=!1,l=new i,c=2;return{youtube:{queue:s,load:o,ready:u,remove:function(e){e&&s.remove(e)}},html5:{queue:l,load:h,ready:p,remove:function(e){e&&l.remove(e)}}}}();r("utils/mediaHelper",function(){return k}),function(){function p(e,t,n,r){p.$parent.call(this);var i=this,o=2,u=0,a=null,c=null;n=n||{},this.playerState=-1,this.videoId=e,this.container=t,this.listeners={},this.button=null,this.finished=!1,s(this,{autoPlay:!1,autoRestart:!1,autoPauseSlide:!1,autoPlaySlideWhenPause:!1,hideControls:!1,loop:!1,autoResume:!0},n),this.prepare(),a=c=function(){o===++u&&(i.thumbnailAvailable||i.hideThumb(),i.hideVideo(),r&&(r(),r=null),a=null,c=null)},this.thumbnail=this.thumbnail||null,this.thumbnailAvailable=!!this.thumbnail,this.loadThumbnail(a),l?(this.timer=setTimeout(function(){i.playerState<0&&c()},f),this.bindListeners(a,c),this.generateTemplate()):c()}function d(e,t,n,r,i){d.$parent.call(this,e,t,n,r,i)}function v(e,t,n,r,i){v.$parent.call(this,e,t,n,r,i)}function m(e,t,n,r,i){m.$parent.call(this,e,t,n,r,i)}function g(){this._videos={}}var t=b.get("image"),n=o.formatString,r=o.forEach,i=o.isArray,s=o.extend,u=o.nextId,f=o.rootNamespace.TIMEOUT||3e3,l="postMessage"in e,c={};o.inherit(a,p),o.extend(p.prototype,{prepare:function(){},generateTemplate:function(){},bindListeners:function(e,t){},cancelListeners:function(e){},getPlayerState:function(){},seek:function(e){},play:function(){this.showVideo()},pause:function(){this.hideVideo()},stop:function(){this.pause()},excludesState:function(e){var t=this.playerState;return t>=0&&t!==e},showVideo:function(){this.template&&this.thumbnailAvailable&&(this.template.removeClass("hi-hidden"),this.hideThumb())},hideVideo:function(){this.template&&this.thumbnailAvailable&&(this.template.addClass("hi-hidden"),this.showThumb())},showThumb:function(){this.thumbnailAvailable&&(this.thumb.removeClass("hi-hidden"),this.thumbVisible=!0,this.button&&this.button.removeClass("hi-hidden"))},hideThumb:function(){this.thumb&&(this.thumb.addClass("hi-hidden"),this.thumbVisible=!1),this.button&&this.button.addClass("hi-hidden")},loadThumbnail:function(e){var n=this;t({type:"image",content:this.thumbnail},function(t,r){t=h(t),n.thumb=t.children("img").eq(0),n.thumbVisible=!0,t.addClass(r?"hi-video-thumbnail-ok":"hi-video-thumbnail-error"),e(),e=null,t=null},null,this.container),this.button=h('<div class="hi-play-video-icon"></div>').appendTo(this.container).on("tap",function(e){e.preventDefault(),n.thumbVisible&&n.play()})},invoke:function(e){var t=this.listeners[e],n=-1,r;if(t){r=t.length;while(++n<r)t[n]()}},listen:function(e,t){var n=this.listeners[e];n||(n=this.listeners[e]=[]),n.push(t)},destroy:function(){this.cancelListeners(!0),this.clear(),this.thumb&&this.thumb.remove(),this.template&&this.template.remove(),this.button&&this.button.remove(),this.playerState=-2,this.thumb=this.container=this.player=this.listeners=this.button=null}}),c.vimeo=d,d.URL="http://player.vimeo.com/video",d.TEMPLATE='<iframe id="$1" src="'+d.URL+'/$2?wmode=opaque&api=1&player_id=$1&portrait=0&loop=$3" class="hi-unique" style="width:100%;height:100%;" width="$4" height="$5" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',o.inherit(p,d),o.extend(d.prototype,{post:function(e,t){if(this.playerState<0)return;var n={method:e};t&&(n.value=t),this.template[0].contentWindow.postMessage(JSON.stringify(n),this.url)},ready:function(){var t=this;if(this.playerState===-2)return;this.post("addEventListener","play"),this.post("addEventListener","pause"),this.post("addEventListener","finish"),this.messageCallback=function(e){e=e.originalEvent;var n=e.data;typeof n=="string"&&(n=JSON.parse(e.data));if(n&&n.playerId===this.playerId)switch(n.event){case"pause":t.playerState=2,t.invoke("pause");break;case"play":t.playerState=1,t.invoke("play");break;case"finish":t.playerState=3,t.finished=!0,t.invoke("finish")}},h(e).on("message",this.messageCallback)},generateTemplate:function(){this.template=h(n(d.TEMPLATE,this.playerId=u("vimeoPlayer"),this.videoId,this.loop?"1":"0",this.width,this.height)),this.url=d.URL+"/"+this.videoId,this.container.append(this.template)},bindListeners:function(t){var n=this;this.onMessage=function(e){e=e.originalEvent;var r=e.data;if(!r)return;typeof r=="string"&&(r=JSON.parse(r)),r.playerId===this.playerId&&r.event==="ready"&&(n.playerState=0,n.cancelListeners(),n.ready(),t())},h(e).on("message",this.onMessage)},cancelListeners:function(t){clearTimeout(this.timer),h(e).off("message",this.onMessage),this.onMessage=null,t&&(this.messageCallback&&(h(e).off("message",this.messageCallback),this.messageCallback=null),this.post("removeEventListener","play"),this.post("removeEventListener","pause"),this.post("removeEventListener","finish"))},play:function(){l?this.excludesState(1)&&(this.showVideo(),this.post("play"),this.emit("play")):this.playerState!==1&&(this.template||this.generateTemplate(),this.showVideo(),this.playerState=1,this.emit("play"))},pause:function(){l?this.excludesState(2)&&(this.post("pause"),this.hideVideo(),this.emit("pause")):this.playerState!==2&&(this.template&&(this.template.remove(),this.template=null),this.hideVideo(),this.playerState=2,this.emit("pause"))},seek:function(e){l&&this.playerState>0&&this.post("seekTo",e)},getPlayerState:function(){return this.playerState}}),c.youtube=v,v.URL="http://www.youtube.com/embed",v.TEMPLATE='<iframe id="$1" src="'+v.URL+'/$2?wmode=opaque&enablejsapi=1&loop=$3" class="hi-unique" style="width:100%;height:100%;" width="$4" height="$5" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe>',o.inherit(p,v),o.extend(v.prototype,{bindListeners:function(e,t){this.ready=e,this.error=t},cancelListeners:function(e){clearTimeout(this.timer),this.onReady=this.onError=this.onStateChange=null,this.ready=this.error=null,this.ytReadyCallback&&k.youtube.remove(this.ytHandler),e&&this.player&&this.player.destroy&&this.player.destroy(),this.ytReadyCallback=null,this.ytHandler=null},onReady:function(){this.ready(),this.playerState=0,this.ready=this.error=this.ytReadyCallback=null},onError:function(){this.error?this.error():(this.pause(),this.playerState=-2,this.cancelListeners(),this.listeners={})},onStateChange:function(e){var t=e.data;if(this.playerState<0)return;switch(t){case YT.PlayerState.PLAYING:this.playerState=1,this.invoke("play");break;case YT.PlayerState.PAUSED:this.playerState=2,this.invoke("pause");break;case YT.PlayerState.ENDED:this.playerState=3,this.finished=!0,this.invoke("finish")}},generateTemplate:function(){var e=this;this.template=h(n(v.TEMPLATE,this.playerId=u("youtubePlayer"),this.videoId,this.loop?"1":"0",this.width,this.height)),this.container.append(this.template),l?(this.ytReadyCallback=function(){e.player=new YT.Player(e.template[0],{events:{onReady:e.onReady.bind(e),onError:e.onError.bind(e),onStateChange:e.onStateChange.bind(e)}})},this.ytHandler=k.youtube.ready(this.ytReadyCallback)):(this.onError(),this.playerState=0)},play:function(){l?this.excludesState(1)&&(this.player.playVideo(),this.showVideo(),this.emit("play")):this.playerState!==1&&(this.template||this.generateTemplate(),this.showVideo(),this.playerState=1,this.emit("play"))},seek:function(e){l&&this.playerState>0&&this.player.seekTo(e)},pause:function(){l?this.excludesState(2)&&(this.player.stopVideo(),this.hideVideo(),this.emit("pause")):this.playerState!==2&&(this.template&&(this.template.remove(),this.template=null),this.hideVideo(),this.playerState=2,this.emit("pause"))},getPlayerState:function(){return this.playerState}}),c.html5=m,m.TEMPLATE='<video id="$1" $4 $5 preload class="video-js vjs-default-skin vjs-big-play-centered hi-unique" width="$6" height="$7" style="width:$8;height:$9;"><source src="$2" type="video/$3"></video>',m.events={finish:"ended"},o.inherit(p,m),o.extend(m.prototype,{bindListeners:function(e,t){this.ready=e,this.error=t},cancelListeners:function(e){this.onReady=null,this.ready=null,clearTimeout(this.timer),this.html5ReadyCallback&&k.html5.remove(this.html5Handler),e&&this.player&&(this.html5ReadyCallback&&this.player.off("ready",this.html5ReadyCallback),this.onPlayerPlay&&this.player.off("play",this.onPlayerPlay),this.onPlayerPause&&this.player.off("pause",this.onPlayerPause),this.onPlayerEnded&&this.player.off("ended",this.onPlayerEnded),this.player.dispose&&this.player.dispose()),this.html5Handler=null,this.html5ReadyCallback=null},map:function(e){return m.events[e]||e},listen:function(e,t){e=this.map(e),this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(t)},seek:function(e){this.player&&this.playerState>0&&this.player.currentTime(e)},onReady:function(){var e=this;this.ready&&this.ready(),this.cancelListeners(),this.player&&this.playerState!==-2&&(this.playerState=0,this.onPlayerPlay=function(){e.playerState=1,e.invoke("play")},this.player.on("play",this.onPlayerPlay),this.onPlayerPause=function(){e.playerState=2,e.invoke("pause")},this.player.on("pause",this.onPlayerPause),this.onPlayerEnded=function(){e.playerState=3,e.finished=!0,e.invoke("ended")},this.player.on("ended",this.onPlayerEnded))},onError:function(){this.error&&this.error(),this.cancelListeners(),this.onError=this.error=null,this.listeners={},this.stop(),this.playerState=3,this.finished=!0,this.invoke("ended"),this.playerState=-2},generateTemplate:function(){var e=this,t=this.videoType||this.videoId.lastIndexOf(".");t===-1?t="video/mp4":typeof t=="number"&&(t=this.videoId.substr(t+1)),this.template=h(n(m.TEMPLATE,this.playerId=u("html5Player"),this.videoId,t,this.hideControls?"":"controls",this.loop?"loop":"",this.width,this.height,this.width?this.width+"px":"100%",this.height?this.height+"px":"100%")),this.container.append(this.template),this.html5ReadyCallback=function(){if(!e.template)return;e.player=videojs(e.template[0],{flash:{swf:"http://vjs.zencdn.net/4.3/video-js.swf?player_id="+e.playerId}},function(){e.player=this,e.onReady&&e.onReady()}),e.onError&&e.player.one("error",e.onError.bind(e))},this.html5Handler=k.html5.ready(this.html5ReadyCallback)},play:function(){this.excludesState(1)&&(this.player.play(),this.showVideo(),this.emit("play"))},pause:function(){this.excludesState(2)&&(this.player.pause(),this.hideVideo(),this.emit("pause"))},getPlayerState:function(){return this.playerState}}),o.extend(g.prototype,{onDataRemoved:function(e){var t=e.id,n;if(n=this._videos[t])r(n,function(e){e.destroy()}),delete this._videos[t]},init:function(e,t,n,i){var s=this._videos;this.engine=e,t.loader().register("videoManager",this),t.on("dataRemoved",this.onDataRemoved.bind(this)),i.on("sliderStarted",function(e){var t=s[e.id];t&&r(t,function(e){var t=e.getPlayerState();e.autoRestart&&t>0&&t!==3?e.seek(0):t===3&&(e.seek(0),e.autoPlay&&(e.playerState=2))})}),i.on("sliderEnd",function(t){if(!t)return;var n=s[t.id];n&&(r(n,function(e){e.finished=!1,e.getPlayerState()>=0&&e.stop()}),n.playing&&e.play(e.LEVEL.LOWER),n.playing=!1,n.playingList={},n.playingCount=0)})},push:function(e,t,n){function v(){s.playing=s.playing||f.isPlaying(),s.playingList[n.playerId]||(s.playingCount=(s.playingCount||0)+1,s.playingList[n.playerId]=!0,f.pause(f.LEVEL.LOWER))}function m(){s.playingList[n.playerId]&&(s.playingList[n.playerId]=!1,--s.playingCount===0&&s.playing&&a&&(s.playing=!1,f.play(f.LEVEL.LOWER)))}var s=this._videos[t],o=!l||!!n.autoPlay,u=!!n.autoResume,a=n.autoPlaySlideWhenPause,f=this.engine,c=null,h=null,p,d;s||(s=this._videos[t]=[],s.containsAutoPlayVideo=!0,s.playing=!1,s.playingList={}),s.push(n),e.animations?i(e.animations)||(e.animations=[e.animations]):e.animations=[],r(e.animations,function(e){e.showType==="in"?c=e:e.showType==="out"&&(h=e)}),l?(p=c&&c.end||"0%",d=h&&h.start||"100%"):(p=c&&c.start||"0%",d=h&&h.end||"100%"),e.animations.push({start:p,end:d,animation:function(e,t){var r=n.getPlayerState();t===0||h&&t===1?n.pause():o&&!n.finished&&(r===0||!l&&r===-1||r===2)&&n.play()}}),u&&n.autoPauseSlide&&l&&n.listen("finish",function(){n.hideVideo(),n.autoPauseSlide&&(s.playingList[n.playerId]&&--s.playingCount===0||s.playingCount===0)&&s.playing&&(s.playing=!1,s.playingList[n.playerId]=!1,f.play(f.LEVEL.LOWER))}),n.autoPauseSlide&&(n.on("play",v),n.on("pause",m),l&&(n.listen("play",v),n.listen("pause",m)))}}),N.registerDefaultPlugin(g),o.forEach(["youtube","vimeo","html5"],function(e){b.register(e+"-video",function(t,n,r,i,o){var u=o[0],a=r.style&&r.style.width||"100%",f=r.style&&r.style.height||"100%",l=new c[e](t.content,i,s({},t,{width:a,height:f}),function(){i.addClass("hi-video-component"),n(i,!0,r)});u.push(r,o[1],l)},["videoManager","rootId"])})}(),function(){function e(){this.isLoading=!1,this.loadingContainer=h('<div class="hi-simple-loading" style="display: none;"></div>')}o.extend(e.prototype,{show:function(){this.isLoading||(this.isLoading=!0,this.loadingContainer.hiAnimate("FadeIn",300))},hide:function(){this.isLoading&&(this.isLoading=!1,this.loadingContainer.hiAnimate("FadeOut",300))},init:function(e,t,n){function i(e){t.data(e)&&!t.data(e).completed&&r.show()}var r=this;n.appendTo("container",this.loadingContainer),t.on("dataRequested",i),t.on("beforeLoadExtendedData",i),t.on("dataLoaded",function(){r.isLoading&&r.hide()}),t.on("extendedDataLoaded",function(e){r.isLoading&&e.completed&&r.hide()}),t.on("dataRemoved",function(){r.loadingContainer.remove(),r.loadingContainer=null})}}),N.registerDefaultPlugin(e)}(),function(){var e=o.namespace("/templates",o.rootNamespace),t=o.namespace("/plugins",o.rootNamespace);N.registerProcessor(function(n,r){var i=r.plugins,s=r.template,o=-1,u,a;s&&(typeof s=="function"?n.template=new s(n,r):typeof s=="string"&&e[s]&&(n.template=new e[s](n,r)));if(i){a=i.length;while(++o<a)u=i[o],typeof u=="function"?u=new u(r,n):typeof u=="string"&&(u=t[u],u&&(u=new u(r,n))),typeof u=="object"&&n.register(u)}}).registerProcessor(function(e,t){t.autoPlay===!1&&e.pause()},!1,!0)}(),function(){function p(){clearTimeout(f),a&&(a.remove(),a=null,f=null)}function d(e,t,n){var r=t.style&&t.style.zIndex||0,i=n.style&&n.style.zIndex||0;return e.z=r>i?r:i,r-i}function v(t){e(l,function(e){e(t)})}function m(e){var t=0;return e.iterator(function(e){v(e),t++}),t}function g(){return{init:function(e,n){n.on("beforeLoadData",function(e){var n=m(e),r={z:0};e.style&&delete e.style.zIndex,e.elements&&i(e.elements,t(d,null,r)),e.maxZ=r.z,e.elementCounter=n},o.PRIORITIES.HIGH),n.on("beforeLoadExtendedData",function(e,t){var n=-1,r=t.length,i=e.maxZ||0;while(++n<r)t[n].style&&(t[n].style.zIndex=t[n].style.zIndex||i+n),v(t[n])})}}}var e=o.forEach,t=o.curry,n=o.toColor,r=o.toBoolean,i=o.insertionSort,s=/color/i,u=/true|false/i,a,f,l,c;l={style:function(t){var i=t.style;i&&(e(i,function(e,a){if(c[a])c[a](e,i,t);else if(s.test(a))a==="gradualColors"?i[a]=o.map(i[a].split(";"),function(e){return n(e)}):i[a]=n(e);else if(typeof e=="string"&&u.test(e))i[a]=r(e);else switch(a){case"rotate":case"scale":i["_"+a]=i[a],delete i[a];break;case"width":case"height":case"left":case"top":i[a]=parseInt(e,10);break;case"zIndex":i[a]=+e+202;break;case"backgroundImage":typeof e=="string"&&e.lastIndexOf(".")>=0?i[a]="url("+e+")":delete i[a];break;default:i[a]=e}}),i.backgroundColor&&i.backgroundOpacity!=null&&(i.backgroundColor=n(i.backgroundColor,i.backgroundOpacity)),i._force3d=!0)}},c={font:function(t,i){var s;typeof t!="string"&&(delete i.font,t.size||(t.size=16),e(t,function(e,t){switch(t){case"family":i.fontFamily=e;break;case"size":i.fontSize=e+"px";break;case"color":i.color=n(e);break;case"leftMargin":i.paddingLeft=e;break;case"topMargin":i.paddingTop=e;break;case"rightMargin":i.paddingRight=e;break;case"bottomMargin":i.paddingBottom=e;break;case"letterSpace":i.letterSpacing=e;break;case"align":e!=="null"&&(i.textAlign=e.toLowerCase());break;case"bold":r(e)&&(i.fontWeight=700);break;default:i[t]=e}}),t.hasOwnProperty("leading")&&(i.lineHeight=2*(+t.leading||0)+(+t.size||0)),(s=t.backgroundOpacity)===0?i.backgroundColor="transparent":s===1?i.backgroundColor=n(t.backgroundColor):s&&(i.backgroundColor=n(t.backgroundColor,s)),i.lineHeight||(a||(a=h('<span class="hi-tester">M</span>').appendTo("body"),a.css("font-size",i.fontSize),clearTimeout(f),f=setTimeout(p,6e4)),i.lineHeight=a.width()*1.5))},shadow:function(e,t,r){var i=r.template.type==="text"?"textShadow":"boxShadow",s;if(typeof e!="string"){delete t.shadow;if(e.offsetX||e.offsetY||e.blur||e.alpha)s=n(e.color),s="rgba"+s.slice(s.indexOf("("),s.length-1)+","+(e.alpha||1)+")",t[i]=(e.offsetX||0)+"px "+(e.offsetY||0)+"px "+(e.blur||0)+"px "+s}},gradient:function(e,t){typeof e!="string"&&(delete t.gradient,t._gradient=e,e.from=n(e.from),e.to=n(e.to))}},N.registerDefaultPlugin(g)}(),function(){var e=l.convertTime;h.fn.hiAnimate=function(t,n,r,i){return this.each(function(){n=l.convertTime(n==null?"1d":n,null,"ms").value,typeof r=="object"&&(i=r,r=null),i=i||{},r&&(i.easing=r);var s=h.data(this,"hiAnimation"),u={elements:[h(this)],animation:o.copy(t)},a=i.playStart||"0%",f=i.playEnd||"100%",c,p;s?s.stop(!0,!0):(s=m.instance(),h.data(this,"hiAnimation",s)),s.setDuration(e(i.start||0,n,"ms").value+n),s.add(o.extend(u,i)),s.once("end",function(){s.reset(!0)},o.PRIORITIES.LOWER),i.timeScale!=null&&s.setTimeScale(i.timeScale);if(i.events){c=i.events;for(p in c)c.hasOwnProperty(p)&&typeof c[p]=="function"&&s.on(p,c[p])}if(i.onceEvents){c=i.onceEvents;for(p in c)c.hasOwnProperty(p)&&typeof c[p]=="function"&&s.once(p,c[p])}s.setPhase(a,f).play()})},h.fn.hiStop=function(e,t){return this.each(function(){var n=h.data(this,"hiAnimation");n&&n.stop(e,t)})}}();var L=function(){function n(e){var n=this;n.parent="body",n.resizeDuration=300,n.hidable=!1,n.showable=!0,n.ipad=s.system.ipad,n.$document=h(t),n.animate=m.instance(),h(function(){n.init(e)})}return o.extend(n.prototype,{init:function(t){var n=o.extend(this,t),r=n.overlay=h("<div class='hi-light-box-overlay' style='position:absolute;z-index:999;background-color:black;display:none;'></div>").css("opacity",.85),i=n.screen=h("<div class='hi-light-box-screen' style='position:absolute;z-index:999;overflow:hidden;display:none;'></div>").on("mousedown",function(e){e.target===this&&n.hide()}),s=n.scene=h("<div class='hi-light-box-scene' style='z-index:2;position:absolute;top:50%;left:50%;'></div>"),u=n.close=h("<div class='hi-light-box-a' style='outline:none;display:block;width:100px;height:100px;position:absolute;right:0;top:0;overflow:hidden;'><div class='hi-light-box-close' style='cursor:pointer;color:gray;z-index:2;position:absolute;width:200px;height:200px;background-color: rgba(255, 255, 255, 0.1);font-weight: bolder;font-family: serif;border-radius: 100%;box-sizing: border-box;right: -100px;top: -106px;'><span style='position: absolute;width: 100px;height: 100px;left: 33px;bottom: -12px;font-size: 60px;padding: 0;line-height: 100%;'></span></div></div>").on("tap",function(){n.hide()}).css({userSelect:"none",userDrag:"none"}),a=n.parent=h(n.parent),f=n._loading=h('<div class="hi-light-box-loading"><div class="hi-light-box-loading-animate" id="hi-light-box-loading-01"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-02"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-03"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-04"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-05"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-06"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-07"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-08"></div></div>');u.find(".hi-light-box-close").hover(function(){h(this).css("color","red")},function(){h(this).css("color","gray")}),n.$window=h(e),i.append(s).append(u).append(f),a.append(r).append(i)},overlayResize:function(){var n,r,i=this,s=h(i.parent),o=t.body,u=t.documentElement,a=Math.max(u.clientWidth,o.clientWidth,u.scrollWidth,o.scrollWidth),f=Math.max(u.clientHeight,o.clientHeight,u.scrollHeight,o.scrollHeight),l=s.offset().left,c=s.offset().top,p=h(e).width(),d=h(e).height(),v=Math.max(u.scrollLeft,o.scrollLeft),m=Math.max(u.scrollTop,o.scrollTop);return s[0].nodeName.toLowerCase()==="body"&&(l=0,c=0),i.ipad&&(r=e.innerWidth,n=e.innerHeight,r>n?a>1024?(p=a,d=n):(p=r,d=n):a>768?(p=a,d=n):(p=r,d=n)),i.screen.css({width:p,height:d,left:-l+v,top:-c+m}),i.overlay.css({width:a,height:f,left:-l,top:-c}),i},hide:function(){var e=this,t=e.plugin;return e.hidable&&(e.$document.off("keydown.hiLightbox"),e.hidable=!1,e.showable=!0,e.$window.off("resize.hiLightbox"),t&&t.hide&&t.hide(),e.animate.reset(!0).add({elements:t.container,easing:t.outEasing||"swing",animation:o.randomGet(t.outEffect||["MoveOutToTop"]),params:{defaultSize:50}}),e.animate.on("ratioChanged",function(){e._loading.css("opacity",0),e.overlay.css("opacity",0)}),e.animate.once("end",function(){e.overlay.hide().css("opacity",.85),e._loading.hide().css("opacity",""),e.screen.hide(),e.animate.reset(!0)}),e.animate.setDuration(t.outDuration||300).play()),e},sceneResize:function(e){var t=this,n,r,i=t.plugin,s=t.scene,o=Math.ceil,u=t.screen.width(),a=t.screen.height(),f=i.minWidth||200,l=i.minHeight||200,c=i.resizeDelta[0]||0,h=i.resizeDelta[1]||0,p=(i.maxWidth||480)+c,d=(i.maxHeight||240)+h,v=i.maxWidth||480,m=i.maxHeight||240;return u=u<200?200:u,a=a<200?200:a,p>u||d>a?(p/d>u/a?(p=o(u-c-40),d=o(p*m/v)):(d=o(a-h-40),p=o(d*v/m)),p<d?p<f&&(p=o(f),d=o(p*m/v)):d<l&&(d=o(l),p=o(d*v/m))):(p=o(i.maxWidth),d=o(i.maxHeight)),n=.5*(u-p-c/2),r=.5*(a-d-h/2),n<20&&(n=20),r<20&&(r=20),e?(t.animate.add({elements:s,animation:{width:["@",p],height:["@",d],left:["@",n],top:["@",r]}}),t.animate.play()):s.width(p).height(d).css({left:n,top:r}),t},resize:function(e){var t=this;return t.animate.reset(!0).setDuration(t.resizeDuration).once("end",function(){e&&(e(),t.callback=null)}),t.overlayResize().sceneResize(!0),t},show:function(e){var t=this,n=t.plugin;e&&(t.callback=e);if(t.showable){t.$document.off("keydown.hiLightbox").one("keydown.hiLightbox",function(e){e.keyCode===27&&t.hide()}),t.showable=!1,t.overlayResize().sceneResize(),t._loading.hide();var r=n.container.css({clip:"auto",display:"none",opacity:"",_transform:"",_origin:"",perspective:""}).css("clip","")[0].style;r.removeProperty?r.removeProperty("clip"):r.removeAttribute("clip"),t.animate.reset(!0).add({elements:n.container,easing:n.inEasing||"swing",animation:o.randomGet(n.inEffect||["MoveInFromTop"]),params:{defaultSize:50},destroy:function(e){var t=e[0].css("clip","auto").css("clip","")[0].style;t.removeProperty?t.removeProperty("clip"):t.removeAttribute("clip")}}),t.animate.once("end",function(){t.callback&&(t.callback(),t.callback=null),t.animate.reset(!0),n.sizeFit&&t.$window.on("resize.hiLightbox",function(){t.show()})}),t.animate.setDuration(n.inDuration||300).play()}else t.resize(t.callback)},popUp:function(e){var t=this;t.plugin!==e&&(t.plugin=e),t.overlay.show(),t.screen.show(),t._loading.show(),t.hidable=!0,t.resize(0),t.screen.css({minWidth:e.minWidth+e.resizeDelta[0]+20||0,minHeight:e.minHeight+e.resizeDelta[1]+20||0}),t.scene.find(".hi-light-box-active").removeClass("hi-light-box-active").hide(),t.scene.append(e.container.addClass("hi-light-box-active"))}}),new n}();r("plugins/Lightbox",function(){return L}),function(){function n(){this.resizeDelta=[0,80],this.sizeFit=!0,this.minHeight=200,this.minWidth=200,this.maxWidth=480,this.maxHeight=270,this._animate=m.instance(),this.effectArray=["BlockFadeIn","FadeIn","ScaleIn"],this.touch=s.support.touch,this.firefox=s.browser.firefox,this.init()}o.extend(n.prototype,{init:function(){var e=this,t=e.container=h("<div class='hi-slide-box-container' style='width:100%;height:100%;left:0;top:0;position:absolute;'></div>"),n=e.loading=h('<div class="hi-light-box-loading"><div class="hi-light-box-loading-animate" id="hi-light-box-loading-01"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-02"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-03"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-04"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-05"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-06"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-07"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-08"></div></div>'),r=h("<a href='javascript:void(0)'><div id='hi-slide-box-close' class='hi-slide-box-close-button hi-slide-box-data' style='z-index:2;position:absolute;width:30px;height:30px;right:-15px;top:-15px;'></div></a>").on("tap",function(){L.hide()}).hover(function(){r.find(".hi-slide-box-data")[0].style.backgroundPosition="30px 30px"},function(){r.find(".hi-slide-box-data")[0].style.backgroundPosition="30px 0px"}),i=e.$imgWrapper=h("<div class='hi-slide-box-imageWrapper' style='position:absolute;width:100%;height:100%;left:0;top:0;z-index:1;'></div>"),s=e.controls=h("<div id='hi-slide-box-controls' style='position: absolute;background-color:rgb(255,255,255);border:6px solid white;top:100%;left:-6px;width:100%;height: 40px;overflow: hidden;'></div>"),o=e.input=h("<input id='hi-slide-box-input' type='text' style='position:absolute;border:1px solid rgb(114, 114, 114);text-align:center;border-radius:0;width:60px;height:16px;top:12px;left:50%;padding:0;margin: 0 0 0 -30px;'>"),u=e.first=h("<a href='javascript:void(0)'><div class='hi-slide-box-data hi-slide-box-first-button' style='position:absolute;width:30px;height:30px;top:6px;left:50%;margin-left:-100px;'></div></a>").on("tap",function(){e.index===0?e.shake():e.skipTo(0)}).hover(function(){u.find(".hi-slide-box-data")[0].style.backgroundPosition="90px 30px"},function(){u.find(".hi-slide-box-data")[0].style.backgroundPosition="90px 0"}),a=e.last=h("<a href='javascript:void(0)'><div class='hi-slide-box-data hi-slide-box-last-button' style='position:absolute;width:30px;height:30px;top:6px;left:50%;margin-left:72px;'></div></a>").on("tap",function(){e.index===e.length-1?e.shake():e.skipTo(e.length-1)}).hover(function(){a.find(".hi-slide-box-data")[0].style.backgroundPosition="60px 30px"},function(){a.find(".hi-slide-box-data")[0].style.backgroundPosition="60px 0"}),f=e.dataWrapper=h("<div class='hi-slide-box-slider-box-dataWrapper' style='background-color:white;border:6px solid white;position:absolute;width:100%;height:100%;left:-6px;;top:-6px;overflow:hidden;'></div>").on("swipeleft",function(){e.next()}).on("swiperight",function(){e.prev()}),l=h("<a href='javascript:void(0)'><div class='hi-slide-box-data hi-slide-box-next-button' style='position:absolute;height: 30px;width:30px;top:6px;left:50%;margin-left:37px;'></div></a>").on("tap",function(){e.next()}).hover(function(){l.find(".hi-slide-box-data")[0].style.backgroundPosition="120px 30px"},function(){l.find(".hi-slide-box-data")[0].style.backgroundPosition="120px 0"}),c=h("<a href='javascript:void(0)'><div class='hi-slide-box-data hi-slide-box-prev-button' style='position:absolute;height:30px;width:30px;left:50%;top:6px;margin-left:-65px;'></div></a>").on("tap",function(){e.prev()}).hover(function(){c.find(".hi-slide-box-data")[0].style.backgroundPosition="0 30px"},function(){c.find(".hi-slide-box-data")[0].style.backgroundPosition="0 0"});o.on("touchstart",function(){o.keypress(function(e){e.keyCode===13&&(o.trigger("blur"),o.trigger("touchstart"))}),o[0].setSelectionRange(0,9999)}),o.on("tap",function(){o.keypress(function(e){e.keyCode===13&&(o.trigger("blur"),o.trigger("tap"))}),o[0].select()}),o.on("blur",function(){o.off("keypress");var t=o.val();t===""?o.val(e.index+1+" / "+e.length):(t=parseInt(t,10)-1,e.skipTo(t))}),e.$img=h("<img style='position:absolute;width:100%;height:100%;left:0;top:0;'/>").appendTo(i),e.dataWrapper.append(i),s.append(u).append(c).append(o).append(l).append(a),t.append(f).append(n).append(r).append(s)},config:function(e){var n=this;n.container.hide(),n.index=-2,n.$img[0].src="",n.dataArray=e,n.length=e.length,n.skipTo(0),n.$doc=h(t).on("keyup.hiSlidebox",function(e){if(e.altKey||e.ctrlKey||e.shiftKey)return;e.keyCode==39&&n.next(),e.keyCode==37&&n.prev()})},shake:function(){this._animate.reset(),this._animate.add([{duration:100,elements:this.$img,loop:-1,steps:[{left:["@","+=1"]},{left:["@","-=1"]},{left:["@","-=1"]},{left:["@","+=1"]}],destroy:this.destroy.bind(this)}]),this._animate.setDuration(200).play()},destroy:function(){this.$img.css({position:"absolute",display:"",opacity:"1",width:"100%",height:"100%",left:0,top:0,_transform:""})},hide:function(){this.$doc.off("keyup.hiSlidebox")},skipTo:function(t){var n=this,r,i=new Image,s=n.dataArray,u=n.length,a=n.index;n.image&&(n.image.onload=n.image.onerror=null),n.image=i,n._animate.reset();if(a!==t){if(t>=u||t<0||e.isNaN(t)){n.input.val(a+1+" / "+u),n.shake();return}n.loading[0].style.display="block",n.index=t,n.input.val(t+1+" / "+u),r=s[t],i.onload=i.onerror=function(){var e=i.width||25,t=i.height||25;clearTimeout(n.loadTimeout),i.onload=i.onerror=null,e<200?(n.maxWidth=200,n.$imgWrapper.css({left:"50%",width:e,marginLeft:Math.floor(-e/2)})):(n.maxWidth=e,n.$imgWrapper.css({left:0,width:"100%",marginLeft:""})),t<200?(n.maxHeight=200,n.$imgWrapper.css({top:"50%",height:t,marginTop:Math.floor(-t/2)})):(n.maxHeight=t,n.$imgWrapper.css({top:0,height:"100%",marginTop:""})),L.show(function(){n._animate.add({elements:n.$img.css({opacity:1,_transform:""}),animation:[o.randomGet(n.effectArray),function(e,t){}],params:{defaultSize:50},destroy:n.destroy.bind(n)}),n._animate.on("end",function(){n._animate.reset()}),n._animate.setDuration(1e3).play(),n.loading[0].style.display="none"})},i.src=r,n.$img.hide().attr("src",r)}else n.input.val(t+1+" / "+u),n.shake()},prev:function(){this.index-1<0?this.shake():this.skipTo(this.index-1)},next:function(){this.index+1>=this.length?this.shake():this.skipTo(this.index+1)}});var r;C.registerAction("slide-box",{hint:"Pop Up Slide Box",preProcess:function(e){e.content=(e.content||"").split(";")},fire:function(e){r||(r=new n),r.config(e),L.popUp(r)}})}(),function(){function e(e){function s(){n=h('<div class="hi-progress-spin"></div>'),r=h("<canvas></canvas>").appendTo(n)[0],i=r.getContext("2d"),n.css({right:10,top:10,position:"absolute",margin:0,padding:0,height:38,width:38,backgroundColor:"transparent",zIndex:500,opacity:0,overflow:"hidden"}),t=!0,r.width=r.height=38,r.style.width=r.style.height="38px"}var t=!1,n,r,i;return e=e&&e.slide||{},!e.pluginsConfig||!o.toBoolean(e.pluginsConfig.enableProgressBar)?{}:{init:function(e,o,u,a){t||s(),u.appendTo("container",n),a.on("sliderStarted",function(){n&&n.stop(!0).fadeTo("slow",1)}),a.slider().on("sliderEnd",function(){n&&n.stop(!0).fadeTo("slow",0)}),a.slider().animation.on("ratioChanged",function(e){i&&(i.clearRect(0,0,38,38),e>0&&(i.save(),i.strokeStyle="rgba(255,255,255,1)",i.shadowBlur=3,i.shadowOffsetX=1,i.shadowOffsetY=1,i.shadowColor="rgba(41,41,41,1)",i.fillStyle="rgba(255,255,255,1)",i.lineWidth=3,i.textAlign="center",i.textBaseline="middle",i.beginPath(),i.arc(19,19,15,-Math.PI/2,-Math.PI/2+e*2*Math.PI,!1),i.stroke(),i.fillText(parseInt(e*100,10)+"%",19,19),i.restore()))}),e.once("destroy",function(){n&&(n.remove(),n=r=i=null)})}}}s.support.canvas&&N.registerDefaultPlugin(e)}(),function(){function e(){this.minHeight=0,this.minWidth=0,this.resizeDelta=[0,0],this.sizeFit=!0,this.maxWidth=800,this.maxHeight=450,this.init()}o.extend(e.prototype,{init:function(){var e=this,t=e.loading=h('<div class="hi-light-box-loading"><div class="hi-light-box-loading-animate" id="hi-light-box-loading-01"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-02"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-03"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-04"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-05"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-06"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-07"></div><div class="hi-light-box-loading-animate" id="hi-light-box-loading-08"></div></div>'),n=e.close=h("<div class='hi-video-close' style='z-index:2;position:absolute;width:30px;height:30px;right:-15px;top:-15px;'></div>").hover(function(){this.style.backgroundPosition="30px 30px"},function(){this.style.backgroundPosition="30px 0px"}).on("tap",function(){L.hide()}),r=e.container=h("<div class='hi-video-player-container' style='background-color:black;box-shadow:10px 10px 10px black;border:4px solid whitesmoke;width:100%;height:100%;left:0;top:0;position:absolute;'></div>");e.$video=h("<video id='myVideo' class='hi-unique' style='position:absolute;width:100%;height:100%;left:0;top:0;display:none;' controls><source class='video-source'></video>"),r.append(e.$video).append(t).append(n)},config:function(e,t){var n,r=this,i,s,o=r.$video,u=o[0],a=r.iframe,f=r.loading,l=t.target.toLowerCase();r.container.hide(),f.show(),L.show(function(){r.close.show();if(l==="html5"){var t=e[0].split(".");t="video/"+t[t.length-1],o.addClass("lightBoxData").show(),u.canPlayType(t)===""?f.hide():(o.find(".video-source").attr("src",e),s=function(){i=setTimeout(s,0),u.readyState===4&&(clearTimeout(i),f.hide(),r.maxWidth=u.videoWidth,r.maxHeight=u.videoHeight,L.show(function(){u.play()}))},u.load(),i=setTimeout(s,0))}else l==="youtube"&&(n="http://www.youtube.com/embed/"+e+"?autoplay=1&wmode=transparent"),l==="vimeo"&&(n="http://player.vimeo.com/video/"+e+"?autoplay=1&wmode=transparent&portrait=0"),a||(a=r.iframe=h("<iframe class='hi-unique' style='width:100%;height:100%;left:0;top:0;position:absolute;display:none;border:0;background-color:black;' width='800' height='450' webkitAllowFullScreen mozallowfullscreen allowFullScreen allowtransparency></iframe>").appendTo(r.container)),a.attr("src",n),a.addClass("lightBoxData")[0].style.display="block",f.fadeOut()})},hide:function(){this.$video[0].pause(),this.iframe&&(this.iframe.remove(),this.iframe=null)}});var t;C.registerAction("video-box",{hint:"Pop Up Video Player",preProcess:function(e){e.content=(e.content||"").split(";")},fire:function(n,r){t||(t=new e),t.close.hide(),L.popUp(t),t.config(n,r)}})}(),function(){function r(){this.resizeDelta=[0,0],this.maxWidth=700,this.maxHeight=350,this.sizeFit=!0,this.minHeight=350,this.minWidth=700,this.originWidth=332,this.originHeight=340,this.showAnimate=m.instance(),this.hideAnimate=m.instance(),this.clipAnimate=m.instance().setDuration(500),this.touch=s.support.touch,this.firefox=s.browser.firefox,this.container=h("<div></div>").css({position:"absolute",width:"700px",height:"350px",backgroundColor:"rgb(247, 247, 247)",borderRadius:"5px"}),this.firefox=s.browser.firefox,this.$document=h(t),this.inEasing="easeOutBack"}o.extend(r.prototype,{init:function(t){this.container.empty();var n=this,r,i,s,o,u,a,f,l,c,p,d,v,m,g=12,y=44,b,w=0,E=0,S=[],x=n.liArray=[],T=[],N=n.container,C=n.leftContainer=h("<div class='hi-paypal-box-left hi-msg-box-no-select'></div>").css("margin","16px 8px 0 32px").appendTo(N),k=n.rightContainer=h("<div class='hi-paypal-box-right'></div>").css("margin","16px 32px 0 8px").appendTo(N),A=h("<div></div>").css({fontFamily:"Arial,sans-serif",textRendering:"optimizeLegibility"}).appendTo(k),O=n.close=h("<div class='hi-msg-box-close'></div>").hover(function(){this.style.backgroundPosition="30px 30px"},function(){this.style.backgroundPosition="30px 0px"}).on("tap",function(){L.hide()}).appendTo(N),M=h("<div></div>").css({position:"relative",overflow:"hidden",paddingRight:"10px",height:"105px"}),_=h("<div>"+t.productDescription+"</div>").css({lineHeight:"15px",fontSize:"13px",color:"rgb(51, 51, 51)"}),D=h("<div class='hi-paypal-box-body-scroll-container'></div>"),P=h("<div class='hi-paypal-box-body-scroll'></div>"),H=Math.ceil,B=n.$document,j=n.srcs=t.imageURL,F=j.length,I=n.$gallery=h("<div></div>").css({height:"250px",position:"relative"}).appendTo(C),q=n.$galleryLoading=h("<div class='hi-simple-loading'></div>").appendTo(I),R=n.$galleryImage=h("<img src='"+(j[0]||"")+"' />").css({maxHeight:"250px",minHeight:"25px",minWidth:"25px",maxWidth:"310px",display:"none",position:"absolute"}).on("swipeleft",function(e){e.preventDefault(),n.next()}).on("swiperight",function(e){e.preventDefault(),n.prev()}),U=n.firefox?"DOMMouseScroll":"mousewheel",z=h("<div class='hi-paypal-box-thumbnail-wrap'></div>").appendTo(C.append("<p></p>")),W=n.$thumbnail=h("<ul>").css({listStyle:"none",margin:"2px",height:"46px",padding:"0"}).appendTo(z),X=n.markId="hi-paypal-box-mark"+Math.floor(Math.random()*1e4),V=n.markImageId="hi-paypal-box-mark-image"+Math.floor(Math.random()*1e4),$=n.$origin=h("<div style='position:absolute;overflow:hidden;width:332px;height:340px;top:0;z-index:3;border:5px solid rgba(0,0,0,0.56);background-color:rgba(255,255,255,0.88);'></div>").hide().appendTo(k),J=n.$mark=h("<div class='hi-paypal-box-mark'></div>").appendTo(I).css("opacity",0),K=n.galleryCoverId="hi-paypal-box-gallery-cover"+Math.floor(Math.random()*1e4),Q=n.$galleryCover=h("<div id='"+K+"'></div>").css({position:"absolute",zIndex:"1",backgroundColor:"white",opacity:"0"}).appendTo(I),G=270,Y;t.currency==="$"?c="USD":t.currency===""?c="EUR":t.currency===""&&(c="GBP"),A.append("<span style='font-size:18px;line-height:1.2;font-family:Arial,sans-serif;word-break:break-all;max-height:70px;display:block;overflow:hidden;'>"+t.productName+"</span>"+"<p style='margin:6px 0 0 0;font-size:17px;white-space:nowrap'><span style='font-size:15px;color:#888888;padding:0 9px 0 0;'>Price:</span><span style='font-size:17px;font-family:Arial,sans-serif;color:#b12704;'>"+t.currency+t.price+"</span></p>"+"<p style='margin:2px 0 5px 0;font-size:14px;color:rgb(23, 153, 117);'>In stock.</p>"),n.$markImage=h("<img id='"+V+"'>").css("position","absolute").appendTo(J),n.$originImage=h("<img style='position:absolute;'>").appendTo($),n.$originLoading=h("<div class='hi-simple-loading'></div>").css("zIndex","1").appendTo($).hide(),h("<div id='"+X+"'  style='position:absolute;width:100%;height:100%;left:0;top:0;z-index:2;'></div>").appendTo(J),n.imageWidth=n.imageHeight=25,n.isHided=!0,n.container.css({opacity:0,visibility:"hidden",display:""}),A.append(M.append(_).append(D.append(P))).append('<label for="fliphtml5-paypal-quantity" style="font-style:italic;font-size:14px;font-weight:bold;">Quantity:</label><input type="text" id="fliphtml5-paypal-quantity" style="outline:none;margin:8px;width:42px;border: 1px groove rgb(177, 177, 177);text-align:center;color:black;font-weight:bold;font-size:15px;background:rgb(223, 223, 223);" value="1"><span id="hi-paypal-message" style="font-size: 12px;font-style: italic;color: red;display:none;">Not enough in stock.</span><br><span style="margin:0;font-size:13px;color:rgb(23, 153, 117);font-style:italic;">Shipping cost '+(t.shippingCost==="included"?"included.":"not included.")+"<br>Delivery time: "+t.deliveryTime+(parseFloat(t.deliveryTime)<=1?" day":" days")+".</span><br>");var Z=A.find("input"),et=A.find("#hi-paypal-message");Z.on("keyup",function(){parseInt(Z.val(),10)>parseInt(t.quantity,10)?(Z.css("border-color","red"),et.show()):(et.hide(),Z.css("border-color","rgb(177, 177, 177)"))}),h("<div class='flipHtml5-paypal-src' style='margin-top:-14px;cursor:pointer;width:150px;height:30px;float:right;'></div>").appendTo(A).on("click",function(){parseInt(Z.val(),10)>parseInt(t.quantity,10)||e.open("http://www.paypal.com/cgi-bin/webscr?cmd=_xclick&business="+t.clientEmail+"&item_name="+t.productName+"&amount="+t.price+"&currency_code="+c+"&quantity="+A.find("input").val()+"&notify_url="+e.location.href)}).css("_scale","1.02").hover(function(){h(this).css("_scale","1")},function(){h(this).css("_scale","1.02")}).on("mousedown",function(){h(this).css("_scale","0.98")}).on("mouseup",function(){h(this).css("_scale","1")});var tt='<div class="hi-paypal-share ',nt='"style="display:inline-block;cursor:pointer;margin-right:5px;height:20px;width:20px;border:1px solid #ccc;"data-index="',rt='"title="',it='"></div>',st='<div style="margin-top:7px;display:inline-block;">',ot=["Facebook","Twitter","Google","More","Contact seller"],ut=["https://www.facebook.com/sharer/sharer.php?u=","https://www.twitter.com/share?url=","https://plus.google.com/share?url=","http://www.addthis.com/bookmark.php?v=15&winname=addthis&s=more&url=","mailto:"+t.clientEmail+"?subject="+t.productName+");"];["hi-paypal-fb","hi-paypal-tw","hi-paypal-gg","hi-paypal-more","hi-paypal-mail"].forEach(function(e,t){st+=tt+e+nt+t+rt+ot[t]+it}),A.append(st+"</div>"),A.find(".hi-paypal-share").on("click",function(){this.getAttribute("data-index")==="4"?e.open(ut[4],"emailWindow"):e.open(ut[this.getAttribute("data-index")]+e.location.href)}),n.clipAnimate.add(function(e,t){E!==1-t.toFixed(2)&&(E=1-t.toFixed(2),$.css("opacity",E),J.css("opacity",E),Q.css("opacity",E/2))}),n.clipAnimate.on("end",function(e,t){t||($[0].style.display="none")}),n.maxWidth=n.minWidth=700;if(F===1||F===0)f=new Image,z.hide(),I.height(318).prepend(R.css({maxHeight:318})),q.css("display","block"),f.onload=f.onerror=function(){var e=R.width(),t=R.height();f.onload=f.onerror=null,n.$galleryLoading.css("display","none"),R.css({marginLeft:H((I.width()-e)/2),marginTop:Math.floor((I.height()-t)/2),display:"block"}),Q.css({marginLeft:H((I.width()-e)/2),marginTop:Math.floor((I.height()-t)/2)}).width(e).height(t)},f.src=j[0];else{p=function(e){e.preventDefault(),n.skipTo(x.indexOf(this))};for(r=0;l=j[r];r++)l&&l!==""&&(s=h("<li class='hi-paypal-box-thumbnail-li'></li>").on("tap",p),i=h("<div class='hi-simple-loading'></div>").css("position","relative").appendTo(s),o=h("<img class='hi-paypal-box-thumbnail-img' src ='"+l+"' />").css({opacity:0,visibility:"hidden"}),W.append(s.append(o)),T.push(i),S.push(o),x.push(s[0]));n.nowIndex=[],W.width(F*(y+g)),F*(y+g)-g-2>G?(z.css("cursor","all-scroll"),b=Math.floor((G+g)/(y+g)),z.on("mousedown touchstart",function(e){e.preventDefault();var t=e.pageX||e.originalEvent.touches[0].pageX,i,s=parseFloat(W.css("transition","none").css("marginLeft"));w=0,h("body").css("cursor","all-scroll"),B.on("mousemove.hiMessageBoxThumbnail touchmove.hiMessageBoxThumbnail",function(e){e.preventDefault();var s=e.pageX||e.originalEvent.touches[0].pageX,o=parseFloat(W.css("marginLeft"));Y=w=o+s-t,w>2&&(s>t&&(w=o+.5),Y=2),w<G-F*(y+g)+13&&(s<t&&(w=o-1.2),Y=G-F*(y+g)+13),t=s,W.css("marginLeft",H(w)),i=H(Math.abs(Y)/(y+g)),i>F-b&&(i=F-b),i<0&&(i=0),n.nowIndex=[];for(r=0;r<b;r++)n.nowIndex.push(i+r)}).on("mouseup touchend",function(e){e.preventDefault(),w=H(w),W.css("transition","all .3s"),B.off("mousemove.hiMessageBoxThumbnail touchmove.hiMessageBoxThumbnail"),h("body").css("cursor","auto"),w>2&&W.css("marginLeft","2px"),w<G-F*(y+g)+13&&W.css("marginLeft",G-F*(y+g)+13)})}),u=h("<div class='hi-paypal-box-thumbnail-prev'><</div>").on("tap",function(){n.prev()}),a=h("<div class='hi-paypal-box-thumbnail-next'>></div>").on("tap",function(){n.next()}),z.before(u).after(a),W.css("transition","all .5s")):F===5?(b=F,z.css("marginLeft",20)):(b=F,z.css("marginLeft",20),W.css("marginLeft",Math.floor((G-(y+g)*F+g+2)/2)));for(r=0;r<b;r++)n.nowIndex.push(r);n.skipTo(0),h(S).each(function(e){var t=S[e],n=new Image;n.onload=n.onerror=function(){T[e].hide(),t.css({opacity:1,visibility:"visible"}),n.width>n.height?t.css({maxWidth:"auto",maxHeight:"40px"}):t.css({maxWidth:"40px",maxHeight:"auto"}),t.css({marginLeft:H((t.parent().width()-t.width())/2),marginTop:H((t.parent().height()-t.height())/2)})},n.src=t[0].src})}(v=_.height())>(d=M.height())?(d-=4,D.css("_gradient",{from:"rgba(204, 204, 204, 0.8)",to:"rgb(255, 255, 255)",angle:0}).show(),P.css("_gradient",{from:"rgb(255, 255, 255)",to:"rgb(71, 71, 71)",angle:0}),P.height(H(d/v*d)).on("mousedown",function(e){var t=parseFloat(P.css("_translateY")||0),n=e.pageY;e.preventDefault(),B.on("mousemove.hiMessagebox",function(e){var r=P[0].offsetHeight,i=t+e.pageY-n;i<=0&&(i=0),i>=d-r&&(i=d-r),P.css("_translateY",i),_.css("_translateY",-i/(d-r)*(v-d))}).on("mouseup",function(){B.off("mousemove.hiMessagebox")})}).on("touchstart",function(e){var t=parseFloat(P.css("_translateY")||0),n=e.originalEvent.touches[0].pageY;e.preventDefault(),B.on("touchmove.hiMessagebox",function(r){r.preventDefault();var i=P[0].offsetHeight,s=t+e.originalEvent.touches[0].pageY-n;s<=0&&(s=0),s>=d-i&&(s=d-i),P.css("_translateY",s),_.css("_translateY",-s/(d-i)*(v-d))})}).on("touchend",function(){B.off("touchmove.hiMessagebox")}),M.hover(function(){M.on(U,function(e){e.preventDefault();var t=P[0].offsetHeight,n=-parseFloat(_.css("_translateY")||0)+(e.originalEvent.detail?e.originalEvent.detail*(40/3):-e.originalEvent.wheelDelta/3);n<=0&&(n=0),n>=v-d&&(n=v-d),_.css("_translateY",-n),P.css("_translateY",n/(v-d)*(d-t))})},function(){M.off(U)}),_.on("touchstart",function(e){var t=parseFloat(_.css("_translateY")||0),n=e.originalEvent.touches[0].pageY;e.preventDefault(),B.on("touchmove.hiMessagebox",function(e){e.preventDefault();var r=P[0].offsetHeight,i=t+e.originalEvent.touches[0].pageY-n;i>=0&&(i=0),i<=d-v&&(i=d-v),_.css("_translateY",i),P.css("_translateY",i/(d-v)*(d-r))})}).on("touchend",function(){B.off("touchmove.hiMessagebox")})):D.hide(),n.show()},show:function(e){var t=this,n=t.galleryCoverId,r=t.markId;t.container.css({display:"none",opacity:"",visibility:""}),L.sceneResize(),L.show(function(){e&&e(),t.close.show(),t.$galleryCover.on("touchstart.hiMessageboxHd mousedown.hiMessageboxHd",function(e){e.preventDefault(),t.isHided&&(t.isHided=!1,t.hd(e)),t.$document.off("touchend.hiMessageboxHd mouseup.hiMessageboxHd").one("touchend.hiMessageboxHd mouseup.hiMessageboxHd",function(){t.$document.off("touchmove.hiMessageboxHd1 mousemove.hiMessageboxHd"),t.isHided||(t.isHided=!0,t.clipAnimate.pause().setInverse(!1).play())})}),t.$document.on("mousemove.hiMessageboxHd touchmove.hiMessageboxHd",function(e){(e.target.id===n||e.target.id===r)&&t.isHided&&(t.isHided=!1,t.hd(e))})})},hd:function(e){var t=this,n=new Image,r=t.$galleryImage,i=t.clipAnimate,s=t.$mark,o=t.$origin,u=t.$galleryCover,a=t.$markImage.attr("src",r.attr("src")),f=t.$originImage.attr("src",r.attr("src")),l=s[0].style,c=a[0].style,h=f[0].style,p=t.$originLoading.show();u.css("opacity",.5),n.onload=n.onerror=function(){n.onload=n.onerror=null,p.hide();var s,o,u,d=t.markId,v=t.markImageId,m=t.$document,g=t.$gallery.offset().top,y=t.$gallery.offset().left,b=r[0].offsetLeft,w=r[0].offsetTop,E,S,x,T,N,C,k,L,A=Math.floor,O=t.originWidth,M=t.originHeight,_=n.width||25,D=n.height||25,P=t.galleryCoverId,H=r.width(),B=r.height(),j=_/H,F=D/B;f.width(_).height(D),a.width(H).height(B),r.width(H).height(B),s=A(O/_*H),o=A(M/D*B),O>_?(s=H,f.css("marginLeft",(O-_)/2)):f.css("marginLeft",""),M>D?(o=B,f.css("marginTop",(M-D)/2)):f.css("marginTop",""),N=b+H-s-2,C=w+B-o-2,x=y+s/2,T=g+o/2,E=A((e.pageX||e.originalEvent.touches[0].pageX)-x),S=A((e.pageY||e.originalEvent.touches[0].pageY)-T),E<b&&(E=b),E>N&&(E=N),S<w&&(S=w),S>C&&(S=C),l.width=s+"px",l.height=o+"px",l.left=E+"px",l.top=S+"px",c.left=A(b-E)-1+"px",c.top=A(w-S)-1+"px",h.left=A((b-E)*j)+"px",h.top=A((w-S)*F)+"px",m.on("mousemove.hiMessageboxHd1 touchmove.hiMessageboxHd1",function(e){e.preventDefault(),u=e.target.id,E=A((e.pageX||e.originalEvent.touches[0].pageX)-x),S=A((e.pageY||e.originalEvent.touches[0].pageY)-T),E<b&&(E=b),E>N&&(E=N),S<w&&(S=w),S>C&&(S=C),E!==k&&(l.left=E+"px",c.left=A(b-E)-1+"px",h.left=A((b-E)*j)+"px",k=E),S!==L&&(l.top=S+"px",c.top=A(w-S)-1+"px",h.top=A((w-S)*F)+"px",L=S),e.type==="mousemove"&&u!==d&&u!==v&&u!==P&&(m.off("touchmove.hiMessageboxHd1 mousemove.hiMessageboxHd1"),t.isHided||(t.isHided=!0,i.pause().setInverse(!1).play()))})},n.src=r[0].src,o[0].style.display="block",i.pause().setInverse(!0).play()},hide:function(){this.$document.off("mousemove.hiMessageboxHd touchmove.hiMessageboxHd")},skipTo:function(e){var t=this,r,i,s,o=t.srcs,u=Math.ceil,a=t.liArray,f=t.$galleryImage,l=t.$thumbnail,c=o.length,p=t.$gallery,d=270,v=t.hideAnimate,m=t.showAnimate,g=t.$galleryCover,y=44,b=12,w=t.$mark;if(e===n||isNaN(e))return;e<0&&(e=0),e>c-1&&(e=c-1);if(e===t.index)return;s=t.$galleryImage=f.clone().css({width:"auto",height:"auto",display:"none"}).attr("src",o[e]).prependTo(p),h(a[t.index||0]).css("outline-color",""),h(a[e]).css("outline-color","#317ee7"),t.nowIndex.indexOf(e)<0&&(e>t.index?(e===c-1?i=d-(e+1)*(y+b)+13:i=d-(e+1)*(y+b)-13,t.nowIndex.splice(0,1),t.nowIndex.push(e)):(e===0?i=2:i=-e*(y+b)+26,t.nowIndex.pop(),t.nowIndex.splice(0,0,e)),l.css("margin-left",i)),v.reset(!0).add({elements:f,animation:"FadeOut",destroy:function(e){e[0].css({display:"none",opacity:""}).remove()}}),v.on("end",function(){v.reset()}),v.setDuration(500).play(),clearTimeout(t.galleryLoadingTimeout),t.galleryLoadingTimeout=setTimeout(function(){t.$galleryLoading.css("display","block")},200),t.image&&(t.image.onload=t.image.onerror=null),r=t.image=new Image,r.onload=r.onerror=function(){clearTimeout(t.galleryLoadingTimeout);var e=s.width(),n=s.height();r.onload=r.onerror=null,t.$galleryLoading.css("display","none"),f.show(),s.width(e).height(n),s.css({marginLeft:u((p.width()-e)/2),marginTop:Math.floor((p.height()-n)/2)}),g.css({marginLeft:u((p.width()-e)/2),marginTop:Math.floor((p.height()-n)/2)}).width(e).height(n),w.css("max-width",e),w.css("max-height",n),m.reset(!0).add({elements:s.css({opacity:1,visibility:"visible"}),animation:"FadeIn",destroy:function(e){e[0].css({display:"",opacity:1})}}),m.on("end",function(){m.reset()}),m.setDuration(500).play()},r.src=o[e],t.index=e},next:function(){this.skipTo(this.index+1)},prev:function(){this.skipTo(this.index-1)}});var i;C.registerAction("paypal-box",{hint:"Pop Up Paypal Box",preProcess:function(e){e.params.imageURL=(e.params.imageURL||"").split(";"),e.params.imageURL.length===1&&e.params.imageURL[0]===""&&(e.params.imageURL=[]),e.params.productDescription=e.params.productDescription.replace(/\/\^r\$\//g,"<br>")},fire:function(e,t,n,s){i&&h(i.container).remove(),i=new r,L.scene.find(".hi-paypal-box-container").remove(),L.popUp(i),i.init(t,s)}})}(),function(){function e(){this.resizeDelta=[0,0],this.sizeFit=!0,this.minHeight=114,this.minWidth=308,this.maxWidth=308,this.maxHeight=114,this.init()}o.extend(e.prototype,{init:function(){var e=this,t=e.loading=h("<div class='hi-audio-loading'></div>"),n=e.close=h("<div class='hi-audio-close'></div>").hover(function(){this.style.backgroundPosition="30px 30px"},function(){this.style.backgroundPosition="30px 0px"}).on("tap",function(){L.hide()}),r=e.erroring=h("<div class='hi-audio-error'></div>"),i=h("<div class='hi-loaded-progress'><div class='hi-loaded-progress-bg' style='position:absolute;left:0;top:0;height:100%;width:100%;'></div></div>"),s=h("<div class='hi-loaded-progress-fg' style='position:absolute;left:0;top:0;height:100%;width:0'></div>").appendTo(i),o=e.playedProgress=h("<div class='hi-played-progress' title='00:00'></div>"),u=h("<div class='hi-played-progress-fg'><div class='hi-audio-play-progress-button'></div></div>").css("transition","all .2s").appendTo(o),a=e.currentTimeContainer=h("<div class='hi-audio-current-time-container'>00:00</div>"),f=e.audio=h("<audio class='hi-unique' preload='metadata'><source class='audio-source' type='audio/mp3'></audio>").on("progress",function(){if(e.totalTime&&f.readyState===4){var t=f.buffered.end(0)/e.totalTime*100;s.css({width:t+"%"})}}).on("timeupdate",function(){var t=e.currentTime=f.currentTime;u.css("width",t/e.totalTime*89+11+"%"),a.html(e.formatTime(t))}).on("playing",function(){l.find("div")[0].className="hi-audio-pause"}).on("pause",function(){l.find("div")[0].className="hi-audio-play"}).on("volumechange",function(){var t=f.muted?0:f.volume;v.width()===0&&(e.volumeDirection="width"),v.height()===0&&(e.volumeDirection="height"),f.muted?c[0].className="hi-audio-sound-muted":c[0].className="hi-audio-sound",v.css(e.volumeDirection,t*73+27+"%"),e.volume=f.volume}).on("ended",function(){e.next()})[0],l=e.pauseButton=h("<a href='javascript:void(0);'><div class='hi-audio-play' title='Play/Pause'></div></a>").on("tap",function(){f.paused?f.play():f.pause()}),c=h("<div class='hi-audio-sound-muted' style='width:100%;height:100%;'></div>"),p=e.soundButton=h("<div class='hi-audio-sound-button' title='Volume' style='cursor:pointer;'></div>").on("tap",function(){e.totalTime&&(f.muted?(f.muted=!1,c[0].className="hi-audio-sound"):(f.muted=!0,c[0].className="hi-audio-sound-muted"))}),d=e.volumeBar=h("<div class='hi-audio-volume-bar-container'><div class='hi-audio-volume-bar-background-color'></div></div>"),v=e.volumeBarForegroundColor=h("<div class='hi-audio-volumeBar-foreground-color' style='position:absolute;left:0;bottom:0;'><div class='hi-audio-volume-bar-fg-bg'></div><div class='hi-audio-volume-button'></div></div>").css("transition","all .2s").appendTo(d),m=e.title=h("<div class='hi-audio-title'></div>").hover(function(){m[0].style.color="black"},function(){m[0].style.color="gray"}),g=e.container=h("<div class='hi-audio-container'></div>"),y=e.AudioBg=h("<div class='hi-audio-bg' style='width:100%;height:100%;'></div>");e.titleSpan=h("<span class='hi-audio-title-span'>Audio player</span>").appendTo(m),e.volume=.5,e.volumeDirection="width",e.nextButton=h("<a href='javascript:void(0);'><div class='hi-audio-next' title='Next'></div></a>").on("tap",function(){e.next()}),e.prevButton=h("<a href='javascript:void(0);'><div class='hi-audio-prev' title='Prev'></div></a>").on("tap",function(){e.prev()}),c.appendTo(p),g.append(y).append(l).append(e.nextButton).append(e.prevButton).append(i).append(o).append(a).append(m).append(n).append(p).append(d).append(r).append(t).append(f),e.draggable(o.on("hi-drag",function(t,n){e.totalTime&&(f.currentTime=n*e.totalTime)}),"width",!0).draggable(d.on("hi-drag",function(e,t){f.muted=!1,f.volume=t}),"height"),e._mousemove(o.on("hi-mousemove",function(t,n){e.totalTime&&(o[0].title=o.find(".hi-audio-play-progress-button")[0].title=e.formatTime(e.totalTime*n))}),"width")._mousemove(d.on("hi-mousemove",function(e,t){d[0].title=d.find(".hi-audio-volume-button")[0].title=Math.round(t*100)}))},config:function(e){var t=this;t.content=e,t.active=-1,t.container.hide(),t.skipTo(0)},titleRolling:function(e,t){function i(){t.css("_transform","translateX("+ --n+"px)"),n<=-t[0].offsetWidth&&(n=e.width()),r.titleTimeout=setTimeout(i,50)}clearTimeout(this.titleTimeout);var n=0,r=this;this.titleTimeout=setTimeout(i,50)},_mousemove:function(e,t){var n=t==="width",r,i;return e.mouseenter(function(){e.on("mousemove",function(t){n?(i=e.width(),r=t.pageX-e.offset().left):(i=e.height(),r=i-t.pageY+e.offset().top),r<0&&(r=0),r>i&&(r=i),e.trigger("hi-mousemove",[r/i])})}),e.mouseleave(function(){e.off("mousemove.hiAudioPlayer")}),this},next:function(){this.skipTo(this.active+1)},prev:function(){this.skipTo(this.active-1)},skipTo:function(e){e=parseInt(e,10);var t=this,r=t.active,i=t.content,s;e>=i.length&&(e=0),e<0&&(e=i.length-1),e!==r&&(t.active=e,s=i[e],!s||s===n||s===""?t.next():t.load(s))},draggable:function(e,n,r){var i=this,s=h(t),o=i.audio,u=h(o);return e.on("mousedown",function(a){var f,l=a.button,c=o.paused;r&&o.pause();if(!t.implementation.hasFeature("MouseEvents","2.0"))switch(event.button){case 0:case 1:case 3:case 5:case 7:l=0;break;case 2:case 6:l=2;break;case 4:l=1}l===0&&(u.off("ended"),n==="width"&&(f=e.width()),n==="height"&&(f=e.height()),i.setProgress(a,f,e,n),s.on("mousemove.hiAudioPlayer",function(t){i.setProgress(t,f,e,n)}),s.one("mouseup",function(){c||r&&o.play(),s.off("mousemove.hiAudioPlayer"),u.on("ended",function(){i.next()})}))}),this},setProgress:function(e,t,n,r){var i,s=n.offset(),o;r==="width"&&(o=s.left,i=e.pageX-o),r==="height"&&(o=s.top,i=t-e.pageY+o),i<0&&(i=0),i>t&&(i=t),i!==this.percent&&(n.trigger("hi-drag",[i/t]),this.percent=i)},formatTime:function(e){var t=parseInt(e,10),n=Math.floor(t/60),r=t%60;return n<10&&(n="0"+n),r<10&&(r="0"+r),n+":"+r},load:function(e){function o(){var u=e.split(".")[1];n.canPlayType("audio/"+u)===""?(i.show(),r.hide()):(s=setTimeout(o,50),n.readyState===4&&(i.hide(),r.hide(),clearTimeout(s),t.totalTime=n.duration,t.volume&&(n.volume=t.volume),h(n).trigger("progress"),n.play()))}var t=this,n=t.audio,r=t.loading,i=t.erroring,s;L.show(function(){t.close.show()}),t.currentFile!==e?(h(n).find(".audio-source").attr("src",e),t.currentFile=e,n.load(),o()):n.play()},hide:function(){this.audio.pause()}});var r;C.registerAction("audio-box",{hint:"Pop Up Audio Player",preProcess:function(e){e.content=(e.content||"").split(";")},fire:function(t){r||(r=new e),r.close.hide(),L.popUp(r),r.config(t)}})}(),function(){function e(){this.resizeDelta=[0,0],this.maxWidth=700,this.maxHeight=350,this.sizeFit=!0,this.minHeight=350,this.minWidth=700,this.originWidth=400,this.originHeight=400,this.showAnimate=m.instance(),this.hideAnimate=m.instance(),this.clipAnimate=m.instance().setDuration(500),this.touch=s.support.touch,this.firefox=s.browser.firefox,this.container=h("<div class='hi-msg-box-container'></div>"),this.firefox=s.browser.firefox,this.$document=h(t)}o.extend(e.prototype,{init:function(e,t){this.container.empty();var n=this,r,i,s,u,a,f,l,c,p,d,v,m,g,y,b,w,E=15,S=46,x,T=0,N=0,C=[],k=n.liArray=[],A=[],O=o.toColor,M=e.style,_=n.container.css({_gradient:{from:O(M.gradient.from,M.opacity),to:O(M.gradient.to,M.opacity),angle:M.gradient.angle},backgroundColor:O(M.backgroundColor,M.opacity)}),D=n.leftContainer=h("<div class='hi-msg-box-left hi-msg-box-no-select'></div>"),P=n.rightContainer=h("<div class='hi-msg-box-right'></div>"),H=h("<div class='hi-msg-box-text-wrap'></div>").appendTo(P),B=n.close=h("<div class='hi-msg-box-close'></div>").hover(function(){this.style.backgroundPosition="30px 30px"},function(){this.style.backgroundPosition="30px 0px"}).on("tap",function(){L.hide()}).appendTo(_),j=e.body.content,F=h("<div class='hi-msg-box-body-wrap'></div>"),I=h("<div class='hi-msg-box-body'>"+j+"</div>"),q=h("<div class='hi-msg-box-body-scroll-container'></div>"),R=h("<div class='hi-msg-box-body-scroll'></div>"),U=e.title.content,z=e.more,W=Math.ceil,X=n.$document,V=O(z.backgroundColor),$=O(z.color),J=z.content,K=z.link,Q=h("<div class='hi-msg-box-title'><span style='display:block;' title='"+U+"'>"+U+"</span></div>"),G=n.srcs=e.image.content,Y=G.length,Z=n.$gallery=h("<div class='hi-msg-box-gallery'></div>").appendTo(D),et=n.$galleryLoading=h("<div class='hi-simple-loading'></div>").css({position:"relative"}).appendTo(Z),tt=n.$galleryImage=h("<img class='hi-msg-box-gallery-img' src='"+G[0]+"' />").hide().on("swipeleft",function(e){e.preventDefault(),n.next()}).on("swiperight",function(e){e.preventDefault(),n.prev()}),nt=o.changeColor,rt=e.animations||t.animations||["MoveInFromTop","MoveOutToTop"],it=n.firefox?"DOMMouseScroll":"mousewheel",st=h("<div class='hi-msg-box-thumbnail-wrap'></div>").appendTo(D),ot=n.$thumbnail=h("<ul class='hi-msg-box-thumbnail'></ul>").appendTo(st),ut=n.markId="hi-msg-box-mark"+Math.floor(Math.random()*1e4),at=n.markImageId="hi-msg-box-mark-image"+Math.floor(Math.random()*1e4),ft=n.$origin=h("<div class='hi-msg-box-origin'></div>").hide().appendTo(P),lt=n.$mark=h("<div class='hi-msg-box-mark'></div>").appendTo(Z),ct=n.galleryCoverId="hi-msg-box-gallery-cover"+Math.floor(Math.random()*1e4),ht=n.$galleryCover=h("<div id='"+ct+"' class='hi-msg-box-gallery-cover'></div>").appendTo(Z),pt=256,dt;n.$markImage=h("<img id='"+at+"' class='hi-msg-box-mark-image'>").appendTo(lt),n.$originImage=h("<img class='hi-msg-box-origin-image'>").appendTo(ft),n.$originLoading=h("<div class='hi-simple-loading'></div>").css("zIndex","1").appendTo(ft).hide(),h("<div id='"+ut+"'  style='position:absolute;width:100%;height:100%;left:0;top:0;z-index:2;'></div>").appendTo(lt),n.imageWidth=n.imageHeight=25,n.isHided=!0,rt[0].showType.toLowerCase()==="in"?(v=rt[0],m=rt[1]):(v=e.animations[1],m=rt[0]),n.inEffect=v.animation?[v.animation]:"",n.inDuration=v.duration||500,n.inEasing=v.easing||"easeInQuad",n.outEffect=m.animation?[m.animation]:"",n.outDuration=m.duration||500,n.outEasing=m.easing||"easeInQuad",n.container.css({opacity:0,visibility:"hidden",display:""}),U&&U!==""&&(Q.css({color:O(e.title.color),fontFamily:e.title.fontFamily}),H.append(Q)),j&&j!==""&&(F.css({color:O(e.body.color),fontFamily:e.body.fontFamily}),H.append(F.append(I).append(q.append(R)))),K&&K.lastIndexOf("http:")<0&&(K="http://"+K),p=h("<a target='_blank' style='outline:none;'><div class='hi-msg-box-button-wrap' style='border: 1px solid "+nt(V,-20)+";border-top-color:"+nt(V,-40)+";background-color:"+V+";font-family:"+z.fontFamily+";color:"+$+";'></div></a>").attr({href:K||"#",target:K?"_blank":"_self"}).appendTo(H),d=p.find(".hi-msg-box-button-wrap"),h("<span class='hi-msg-box-button-span'>"+z.content+"</span>").appendTo(d),d.css({_gradient:{from:nt(V,50),to:nt(V,-20),angle:270}}),n.touch&&!n.firefox?d.on("touchstart",function(){h(this).css({color:"rgba(0, 0, 0, 0.49)",_gradient:""})}).on("touchend",function(e){e.preventDefault(),h(this).css({_gradient:{from:nt(V,50),to:nt(V,-20),angle:270},color:$})}):d.hover(function(){h(this).css({_gradient:{from:nt(V,80),to:V,angle:270},color:nt($,-50)})},function(){h(this).css({_gradient:{from:nt(V,50),to:nt(V,-20),angle:270},color:$})}).on("mousedown",function(){var e=h(this);e.css({color:"rgba(0, 0, 0, 0.49)",_gradient:""}),X.one("mouseup",function(){e.css({_gradient:{from:nt(V,50),to:nt(V,-20),angle:270},color:$})})}),n.clipAnimate.add(function(e,t){N!==1-t.toFixed(2)&&(N=1-t.toFixed(2),ft.css("opacity",N),lt.css("opacity",N),ht.css("opacity",N/2))}),n.clipAnimate.on("end",function(e,t){t||(ft[0].style.display="none")}),n.maxWidth=n.minWidth=700;if(Y===1)l=new Image,e.image.position.toLowerCase()==="right"?(ft.css("left","-40px"),_.append(P.css("border-left-width","48px")).append(D.css("border-width","16px 32px"))):_.append(D.css("border-width","16px 32px")).append(P.css("border-right-width","48px")),st.hide(),Z.height(318).prepend(tt.css({maxHeight:318})),et.css("display","block"),n.show(function(){l.onload=l.onerror=function(){var e=tt.width(),t=tt.height();tt.show().width(e).height(t),l.onload=l.onerror=null,n.$galleryLoading.css("display","none"),_.width(700-(286-e)),D.width(e),Z.width(e),tt.css({marginLeft:W((Z.width()-e)/2),marginTop:Math.floor((Z.height()-t)/2)}),ht.css({marginLeft:W((Z.width()-e)/2),marginTop:Math.floor((Z.height()-t)/2)}).width(e).height(t),n.maxWidth=n.minWidth=_.width()},l.src=G[0]});else if(Y){e.image.position.toLowerCase()==="right"?(ft.css("left","-40px"),_.append(P.css("border-left-width","48px")).append(D.css("border-width","16px 32px"))):_.append(D.css("border-width","16px 32px")).append(P.css("border-right-width","48px")),g=function(e){e.preventDefault(),n.skipTo(k.indexOf(this))};for(r=0;c=G[r];r++)c&&c!==""&&(s=h("<li class='hi-msg-box-thumbnail-li'></li>").on("tap",g),i=h("<div class='hi-simple-loading'></div>").css("position","relative").appendTo(s),u=h("<img class='hi-msg-box-thumbnail-img hi-msg-box-hidden' src ='"+c+"' />"),ot.append(s.append(u)),A.push(i),C.push(u),k.push(s[0]));n.nowIndex=[],ot.width(Y*(S+E)),Y*(S+E)>pt?(st.css("cursor","all-scroll"),ot.width(Y*(S+E)),x=Math.floor(pt/(S+E))-1,st.on("mousedown touchstart",function(e){e.preventDefault();var t=e.pageX||e.originalEvent.touches[0].pageX,i,s=parseFloat(ot.css("transition","none").css("marginLeft"));T=0,h("body").css("cursor","all-scroll"),X.on("mousemove.hiMessageBoxThumbnail touchmove.hiMessageBoxThumbnail",function(e){e.preventDefault();var s=e.pageX||e.originalEvent.touches[0].pageX,o=parseFloat(ot.css("marginLeft"));dt=T=o+s-t,T>0&&(s>t&&(T=o+1.2),dt=0),T<pt-Y*61+13&&(s<t&&(T=o-1.2),dt=pt-Y*61+13),t=s,ot.css("marginLeft",W(T)),i=W(Math.abs(dt)/(S+E)),i>Y-x&&(i=Y-x),i<0&&(i=0),n.nowIndex=[];for(r=0;r<x;r++)n.nowIndex.push(i+r)}).on("mouseup touchend",function(e){e.preventDefault(),T=W(T),ot.css("transition","all .3s"),X.off("mousemove.hiMessageBoxThumbnail touchmove.hiMessageBoxThumbnail"),h("body").css("cursor","auto"),T>0&&ot.css("marginLeft",0),T<pt-Y*61+13&&ot.css("marginLeft",pt-Y*61+13)})}),ot.find(".hi-msg-box-thumbnail-li").css("margin-right",E),a=h("<div class='hi-msg-box-thumbnail-prev'><</div>").css("margin-left","-18px").on("tap",function(){n.prev()}),f=h("<div class='hi-msg-box-thumbnail-next'>></div>").css("margin-left","259px").on("tap",function(){n.next()}),st.append(a).append(f)):(st.css("cursor","auto"),x=Y,ot.css("marginLeft",Math.floor((pt-S*Y)/Y/2)).width(pt).find(".hi-msg-box-thumbnail-li").css({marginRight:Math.floor((pt-S*Y)/Y)})),w=function(){h(C).each(function(e){var t=C[e],n=new Image;A[e].hide(),n.onload=n.onerror=function(){t.removeClass("hi-msg-box-hidden"),n.width>n.height?t.css({maxWidth:"auto",maxHeight:"40px"}):t.css({maxWidth:"40px",maxHeight:"auto"}),t.css({marginLeft:W((t.parent().width()-t.width())/2),marginTop:W((t.parent().height()-t.height())/2)})},n.src=t[0].src}),n.skipTo(0)};for(r=0;r<x;r++)n.nowIndex.push(r)}else _.append(P),Q.css("text-align","center"),P.css({left:0,width:"604px",height:"350px",borderWidth:"16px 48px"}),I.css("text-indent","32px"),d.css("left",(H.width()-d.width())/2);H.css({marginTop:W((318-H.height())/2)}),(b=I.height())>(y=F.height())?(y-=4,q.css("_gradient",{from:"rgba(204, 204, 204, 0.8)",to:"rgb(255, 255, 255)",angle:0}).show(),R.css("_gradient",{from:"rgb(255, 255, 255)",to:"rgb(71, 71, 71)",angle:0}),R.height(W(y/b*y)).on("mousedown",function(e){var t=parseFloat(R.css("_translateY")||0),n=e.pageY;e.preventDefault(),X.on("mousemove.hiMessagebox",function(e){var r=R[0].offsetHeight,i=t+e.pageY-n;i<=0&&(i=0),i>=y-r&&(i=y-r),R.css("_translateY",i),I.css("_translateY",-i/(y-r)*(b-y))}).on("mouseup",function(){X.off("mousemove.hiMessagebox")})}).on("touchstart",function(e){var t=parseFloat(R.css("_translateY")||0),n=e.originalEvent.touches[0].pageY;e.preventDefault(),X.on("touchmove.hiMessagebox",function(r){r.preventDefault();var i=R[0].offsetHeight,s=t+e.originalEvent.touches[0].pageY-n;s<=0&&(s=0),s>=y-i&&(s=y-i),R.css("_translateY",s),I.css("_translateY",-s/(y-i)*(b-y))})}).on("touchend",function(){X.off("touchmove.hiMessagebox")}),F.hover(function(){F.on(it,function(e){e.preventDefault();var t=R[0].offsetHeight,n=-parseFloat(I.css("_translateY")||0)+(e.originalEvent.detail?e.originalEvent.detail*(40/3):-e.originalEvent.wheelDelta/3);n<=0&&(n=0),n>=b-y&&(n=b-y),I.css("_translateY",-n),R.css("_translateY",n/(b-y)*(y-t))})},function(){F.off(it)}),I.on("touchstart",function(e){var t=parseFloat(I.css("_translateY")||0),n=e.originalEvent.touches[0].pageY;e.preventDefault(),X.on("touchmove.hiMessagebox",function(e){e.preventDefault();var r=R[0].offsetHeight,i=t+e.originalEvent.touches[0].pageY-n;i>=0&&(i=0),i<=y-b&&(i=y-b),I.css("_translateY",i),R.css("_translateY",i/(y-b)*(y-r))})}).on("touchend",function(){X.off("touchmove.hiMessagebox")})):q.hide(),Y!==1&&n.show(w)},show:function(e){var t=this,n=t.galleryCoverId,r=t.markId;t.container.css({display:"none",opacity:"",visibility:""}),L.sceneResize(),L.show(function(){e&&e(),t.close.show(),t.$galleryCover.on("touchstart.hiMessageboxHd",function(e){e.preventDefault(),t.isHided&&(t.isHided=!1,t.hd(e)),t.$document.on("touchend.hiMessageboxHd",function(){t.$document.off("touchmove.hiMessageboxHd1 touchend.hiMessageboxHd"),t.isHided||(t.isHided=!0,t.clipAnimate.pause().setInverse(!1).play())})}),t.$document.on("mousemove.hiMessageboxHd ",function(e){(e.target.id===n||e.target.id===r)&&t.isHided&&(t.isHided=!1,t.hd(e))})})},hd:function(e){var t=this,n=new Image,r=t.$galleryImage,i=t.clipAnimate,s=t.$mark,o=t.$origin,u=t.$galleryCover,a=t.$markImage.attr("src",r.attr("src")),f=t.$originImage.attr("src",r.attr("src")),l=s[0].style,c=a[0].style,h=f[0].style,p=t.$originLoading.show();u.css("opacity",.5),n.onload=n.onerror=function(){n.onload=n.onerror=null,p.hide();var s,o,u,d=t.markId,v=t.markImageId,m=t.$document,g=t.container,y=g.offset().top,b=g.offset().left,w=r[0].offsetLeft,E=r[0].offsetTop,S,x,T,N,C,k,L,A,O=Math.floor,M=t.originWidth,_=t.originHeight,D=n.width||25,P=n.height||25,H=t.galleryCoverId,B=r.width(),j=r.height(),F=D/B,I=P/j;f.width(D).height(P),a.width(B).height(j),r.width(B).height(j),s=O(M/D*B),o=O(_/P*j),M>D?(s=B,f.css("marginLeft",(M-D)/2)):f.css("marginLeft",""),_>P?(o=j,f.css("marginTop",(_-P)/2)):f.css("marginTop",""),C=w+B-s-2,k=E+j-o-2,T=b+s/2,N=y+o/2,S=O((e.pageX||e.originalEvent.touches[0].pageX)-T),x=O((e.pageY||e.originalEvent.touches[0].pageY)-N),S<w&&(S=w),S>C&&(S=C),x<E&&(x=E),x>k&&(x=k),l.width=s+"px",l.height=o+"px",l.left=S+"px",l.top=x+"px",c.left=O(w-S)-1+"px",c.top=O(E-x)-1+"px",h.left=O((w-S)*F)+"px",h.top=O((E-x)*I)+"px",m.on("mousemove.hiMessageboxHd1 touchmove.hiMessageboxHd1",function(e){e.preventDefault(),u=e.target.id,S=O((e.pageX||e.originalEvent.touches[0].pageX)-T),x=O((e.pageY||e.originalEvent.touches[0].pageY)-N),S<w&&(S=w),S>C&&(S=C),x<E&&(x=E),x>k&&(x=k),S!==L&&(l.left=S+"px",c.left=O(w-S)-1+"px",h.left=O((w-S)*F)+"px",L=S),x!==A&&(l.top=x+"px",c.top=O(E-x)-1+"px",h.top=O((E-x)*I)+"px",A=x),e.type==="mousemove"&&u!==d&&u!==v&&u!==H&&(m.off("touchmove.hiMessageboxHd1 mousemove.hiMessageboxHd1"),t.isHided||(t.isHided=!0,i.pause().setInverse(!1).play()))})},n.src=r[0].src,o[0].style.display="block",i.pause().setInverse(!0).play()},hide:function(){this.$document.off("mousemove.hiMessageboxHd touchmove.hiMessageboxHd")},skipTo:function(e){var t=this,r,i,s=t.srcs,o=Math.ceil,u=t.liArray,a=t.$galleryImage,f=t.$thumbnail,l=s.length,c=t.$gallery,p=256,d=t.hideAnimate,v=t.showAnimate,m=t.$galleryCover,g,y=t.$mark;if(e===n||isNaN(e))return;e<0&&(e=0),e>l-1&&(e=l-1);if(e===t.index)return;g=t.$galleryImage=a.clone().css({width:"auto",height:"auto"}).attr("src",s[e]).prependTo(c),h(u[t.index||0]).removeClass("hi-msg-box-outline"),h(u[e]).addClass("hi-msg-box-outline"),t.nowIndex.indexOf(e)<0&&(e>t.index?(e===l-1?i=p-(e+1)*61+13:i=p-(e+1)*61-31,t.nowIndex.splice(0,1),t.nowIndex.push(e)):(e===0?i=0:i=-e*61+43,t.nowIndex.pop(),t.nowIndex.splice(0,0,e)),f.css("margin-left",i)),d.reset(!0).add({elements:a,animation:"FadeOut",destroy:function(e){e[0].css({display:"none",opacity:""}).remove()}}),d.on("end",function(){d.reset()}),d.setDuration(500).play(),t.$galleryLoading.css("display","block"),t.image&&(t.image.onload=t.image.onerror=null),r=t.image=new Image,r.onload=r.onerror=function(){var e=g.width(),n=g.height();r.onload=r.onerror=null,t.$galleryLoading.css("display","none"),g.width(e).height(n),g.css({marginLeft:o((c.width()-e)/2),marginTop:Math.floor((c.height()-n)/2)}),m.css({marginLeft:o((c.width()-e)/2),marginTop:Math.floor((c.height()-n)/2)}).width(e).height(n),y.css("max-width",e),y.css("max-height",n),v.reset(!0).add({elements:g.removeClass("hi-msg-box-hidden").css({display:"none",opacity:1}),animation:"FadeIn",destroy:function(e){e[0].css({display:"",opacity:1})}}),v.on("end",function(){v.reset()}),v.setDuration(500).play()},r.src=s[e],t.index=e},next:function(){this.skipTo(this.index+1)},prev:function(){this.skipTo(this.index-1)}});var r;C.registerAction("message-box",{hint:"Pop Up Message Box",preProcess:function(e){e.params.image.content=(e.params.image.content||"").split(";"),e.params.image.content.length===1&&e.params.image.content[0]===""&&(e.params.image.content=[]),e.params.title.content=e.params.title.content.replace(/\/\^r\$\//g,"<br />"),e.params.body.content=e.params.body.content.replace(/\/\^r\$\//g,"<br />")},fire:function(t,n,i,s){r=new e,L.scene.find(".hi-msg-box-container").remove(),L.popUp(r),r.init(n,s)}})}(),function(){function i(){return"defs"+n.toString()+r++}function s(e,t,n,r){this.init(e,t,n,r)}function u(e,t){function n(){this.init.apply(this,arguments)}return n.prototype=o.extend(o.createObject(e.prototype),t),n}var e=Math.round,n=Date.now(),r=1;s.prototype={constructor:s,g:null,svg:null,defs:null,params:null,data:null,style:null,extendedStyle:null,container:null,width:null,height:null,originalHeight:null,originalWidth:null,offsetX:0,offsetY:0,textX:0,textY:0,sx:0,sy:0,baseWidth:null,baseHeight:null,enableText:!0,init:function(e,n,r,i){this.container=e,this.svg=t.createElementNS("http://www.w3.org/2000/svg","svg"),this.g=t.createElementNS("http://www.w3.org/2000/svg","g"),this.svg.appendChild(this.g),this.style=n||{},this.extendedStyle=i,this.params=r||{},this.offsetX=0,this.offsetY=0,this.initStyle(),this.initShape(),this.draw(),this.drawShadow(),this.drawText()},transformPoints:function(){function u(e,r,i,s){return r*t+i+s*n}if(!this.data)return;var e=this.data,t=this.sx,n=this.sy,r,i,s;o.isArray(e)||(e=[e]);for(r=0,i=e.length;r<i;++r){s=e[r];if(typeof s=="string")e[r]=s.replace(/(-?(?:\d*\.|)\d+)(,\s*-?|\s+-?|-)((?:\d*\.|)\d+)/gi,u);else if(typeof s=="number")e[r]=s*(r%2?t:n);else{if(s===!1)break;s.x=t*s.x,s.y=n*s.y}}return e},draw:function(){this.sx=this.width/this.baseWidth,this.sy=this.height/this.baseHeight,this.transformPoints(),this.renderShape();for(var e in this.style)this.g.style[e]=this.style[e];this.svg.setAttribute("width",this.width+"px"),this.svg.setAttribute("height",this.height+"px");var n=t.createElement("div");n.style.cssText="opacity:0;height:0;position:absolute;left:0;top:0;",t.body.appendChild(n),n.appendChild(this.svg);var r=this.g.getBoundingClientRect(),i=this.style.strokeWidth/2,s=Math.max(0,-r.left)+i,o=Math.max(0,-r.top)+i,u=Math.ceil(r.width+2*i),a=Math.ceil(r.height+2*i);this.svg.setAttribute("width",u+"px"),this.svg.setAttribute("height",a+"px"),this.width=u,this.height=a,this.extendedStyle.width=u,this.extendedStyle.height=a,this.offsetX=s,this.offsetY=o,this.fixPosition(),this.container.append(this.svg),t.body.removeChild(n),n=null},fixPosition:function(){this.extendedStyle.left-=this.offsetX,this.extendedStyle.top-=this.offsetY,this.textX+=this.offsetX,this.textY+=this.offsetY,this.g.setAttribute("transform","translate("+this.offsetX+","+this.offsetY+")")},initStyle:function(){this.width=this.style.width,this.height=this.style.height,this.originalWidth=this.width,this.originalHeight=this.height,this.baseWidth=this.width,this.baseHeight=this.height,delete this.style.width,delete this.style.height;if(o.isArray(this.style.fill)){this.defs||(this.defs=t.createElementNS("http://www.w3.org/2000/svg","defs"),this.svg.appendChild(this.defs));var e=this.style.fill,n=this.defs,r=t.createElementNS("http://www.w3.org/2000/svg","linearGradient"),s=100/(e.length-1),u=-1,a=e.length,f=i(),l;this.style.fill="url(#"+f+")",r.setAttribute("id",f),r.setAttribute("x1","0%"),r.setAttribute("y1","0%"),r.setAttribute("x2","0%"),r.setAttribute("y2","100%"),this.svg.appendChild(n),n.appendChild(r);while(++u<a)l=t.createElementNS("http://www.w3.org/2000/svg","stop"),l.setAttribute("offset",Math.round(s*u)+"%"),l.setAttribute("stop-color",e[u]),r.appendChild(l),l=null}},initShape:function(){},renderShape:function(){},drawText:function(){if(this.params.content&&this.enableText){var e=h("<p>"+this.params.content+"</p>"),n=t.createElement("div");this.container.append(n),e.css({visibility:"hidden",position:"absolute"}).css(this.extendedStyle).css({width:this.originalWidth,height:"auto",wordBreak:"break-word"}).appendTo(t.body);var r=e.height(),i=0;r<this.originalHeight&&(i=(this.originalHeight-r)/2),e[0].style.cssText="word-break:break-word;position: relative; top:"+i+"px;padding:0;margin:0;",n.style.cssText="position:absolute;left:"+this.textX+"px;top:"+this.textY+"px;width:"+this.originalWidth+"px;height:"+this.originalHeight+"px;overflow:hidden;z-index:2;",e.appendTo(n)}},drawShadow:function(){if(this.extendedStyle&&this.extendedStyle.boxShadow){var e=this.extendedStyle.boxShadow;delete this.extendedStyle.boxShadow;if("webkitFilter"in this.container[0].style)this.extendedStyle.webkitFilter="drop-shadow("+e+")";else{this.defs||(this.defs=t.createElementNS("http://www.w3.org/2000/svg","defs"),this.svg.appendChild(this.defs)),e=e.split(" ",4);var n=this.defs,r=e[0],s=e[1],o=e[2],u=e[3],a=t.createElementNS("http://www.w3.org/2000/svg","filter"),f=t.createElementNS("http://www.w3.org/2000/svg","feGaussianBlur"),l=t.createElementNS("http://www.w3.org/2000/svg","feOffset"),c=t.createElementNS("http://www.w3.org/2000/svg","feFlood"),h=t.createElementNS("http://www.w3.org/2000/svg","feComposite"),p=t.createElementNS("http://www.w3.org/2000/svg","feMerge"),d=t.createElementNS("http://www.w3.org/2000/svg","feMergeNode"),v=t.createElementNS("http://www.w3.org/2000/svg","feMergeNode"),m=i(),g=i();n.appendChild(a),p.appendChild(v),p.appendChild(d),a.appendChild(f),a.appendChild(l),a.appendChild(c),a.appendChild(h),a.appendChild(p),a.setAttribute("id",m),f.setAttribute("in","SourceAlpha"),f.setAttribute("stdDeviation",parseFloat(o)),l.setAttribute("dx",parseInt(r,10)),l.setAttribute("dy",parseInt(s,10)),l.setAttribute("result",g),c.setAttribute("flood-color",u),h.setAttribute("in2",g),h.setAttribute("operator","in"),d.setAttribute("in","SourceGraphic"),this.extendedStyle.filter="url(#"+m+")"}}}};var a=u(s,{renderShape:function(){var e=t.createElementNS("http://www.w3.org/2000/svg","polygon");e.setAttribute("points",this.data.join(",")),this.g.appendChild(e)}}),f=u(s,{renderShape:function(){var e;o.isArray(this.data)||(this.data=[this.data]);for(var n=0,r=this.data,i=r.length;n<i;++n)e=t.createElementNS("http://www.w3.org/2000/svg","path"),e.setAttribute("d",r[n]),this.g.appendChild(e)}}),l={line:u(s,{enableText:!1,renderShape:function(){var n=this.params.content.split(";"),r=+n[0],i=+n[1],s=+n[2],o=+n[3],u=Math.min(r,s),a=Math.min(i,o);r=e(r-u),s=e(s-u),i=e(i-a),o=e(o-a),this.data=[r,i,s,o];var f=this.data,l=t.createElementNS("http://www.w3.org/2000/svg","line");l.setAttribute("x1",f[0]),l.setAttribute("y1",f[1]),l.setAttribute("x2",f[2]),l.setAttribute("y2",f[3]),this.g.appendChild(l)}}),arrowline:u(s,{enableText:!1,renderShape:function(){var n=this.params.content.split(";"),r=+n[0],i=+n[1],s=+n[2],o=+n[3],u=Math.min(r,s),a=Math.min(i,o),f=s-r,l=o-i,c=f===0?Math.PI/2:Math.atan(l/f),h=l*c>=0&&(l!==0||f>0)?c:Math.PI+c,p=Math.sin(h),d=Math.cos(h),v=Math.sqrt(f*f+l*l),m=Math.min(2*this.style.strokeWidth,v/3),g,y,b=m/v-1,w=b*m*d,E=b*m*p,S=45*Math.PI/180,x=e(w*Math.cos(S)-E*Math.sin(S)),T=e(w*Math.cos(-S)-E*Math.sin(-S)),N=e(E*Math.cos(S)+w*Math.sin(S)),C=e(E*Math.cos(-S)+w*Math.sin(-S));r-=u,s-=u,i-=a,o-=a,g=s+Math.min(x,T),g<0&&(this.offsetX-=g),y=o+Math.min(N,C),y<0&&(this.offsetY-=y),this.data=[r,i,s,o,s,o,s+x,o+N,s,o,s+T,o+C];var k=this.data,L;for(var A=0,O=k.length;A+3<O;A+=4)L=t.createElementNS("http://www.w3.org/2000/svg","line"),L.setAttribute("x1",k[A]),L.setAttribute("y1",k[A+1]),L.setAttribute("x2",k[A+2]),L.setAttribute("y2",k[A+3]),this.g.appendChild(L)}}),ellipse:u(s,{renderShape:function(){this.data=[this.width/2,this.height/2];var e=t.createElementNS("http://www.w3.org/2000/svg","ellipse");e.setAttribute("cx",this.data[0]),e.setAttribute("cy",this.data[1]),e.setAttribute("rx",this.data[0]),e.setAttribute("ry",this.data[1]),this.g.appendChild(e)}}),triangle:u(a,{initShape:function(){this.data=["0 "+this.height,this.width+" "+this.height,this.width/2+" "+0]}}),prismatic:u(a,{initShape:function(){this.data=["0 "+this.height/2,this.width/2+" "+this.height,this.width+" "+this.height/2,this.width/2+" "+0]}}),trapezoid:u(a,{initShape:function(){this.data=["0 "+this.height,this.width+" "+this.height,.75*this.width+" "+0,.25*this.width+" "+0]}}),parallelogram:u(a,{initShape:function(){this.data=["0 "+this.height,.75*this.width+" "+this.height,this.width+" "+0,.25*this.width+" "+0]}}),hexagon:u(a,{angle:null,initShape:function(){var t=this.angle==null?this.width/4:e(this.height/2*Math.tan(this.angle*Math.PI/180));this.data=["0 "+this.height/2,t+" "+0,this.width-t+" "+0,this.width+" "+this.height/2,this.width-t+" "+this.height,t+" "+this.height]}}),pentagon:u(a,{initShape:function(){this.data=["0 "+e(this.height/3),this.width/2+" "+0,this.width+" "+e(this.height/3),.8*this.width+" "+this.height,.2*this.width+" "+this.height]}}),flowchart:u(s,{renderShape:function(){var n=this.width/6,r=e(n),i=this.height;this.data=[0,0,r,i,r,0,e(4*n),i,e(5*n),0,r,i];var s;for(var o=0,u=this.data,a=u.length;o+3<a;o+=4)s=t.createElementNS("http://www.w3.org/2000/svg","rect"),s.setAttribute("x",u[o]),s.setAttribute("y",u[o+1]),s.setAttribute("width",u[o+2]),s.setAttribute("height",u[o+3]),this.g.appendChild(s)}}),dovetailed:u(a,{angle:30,initShape:function(){var t=e(this.height*Math.tan(this.angle*Math.PI/180));this.data=["0 0",this.width-t+" "+0,this.width+" "+this.height/2,this.width-t+" "+this.height,"0 "+this.height,t+" "+this.height/2]}}),rectangle:u(s,{renderShape:function(){this.data=[0,0,this.width,this.height];var e=t.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("x",this.data[0]),e.setAttribute("y",this.data[1]),e.setAttribute("width",this.data[2]),e.setAttribute("height",this.data[3]),this.g.appendChild(e)}}),hightlightarea:u(s,{renderShape:function(){this.data=[0,0,this.width,this.height];var e=t.createElementNS("http://www.w3.org/2000/svg","rect");e.setAttribute("x",this.data[0]),e.setAttribute("y",this.data[1]),e.setAttribute("width",this.data[2]),e.setAttribute("height",this.data[3]),this.g.appendChild(e)}}),cross:u(a,{crossWidth:40,initShape:function(){var e=Math.min(this.crossWidth,this.width/2),t=(this.width-e)/2,n=(this.height-e)/2;this.data=["0 "+(n+e),"0 "+n,t+" "+n,t+" "+0,t+e+" "+0,t+e+" "+n,this.width+" "+n,this.width+" "+(n+e),t+e+" "+(n+e),t+e+" "+this.height,t+" "+this.height,t+" "+(this.height-n)]}}),arrow:u(a,{arrowWidth:60,arrowTailHeight:40,initShape:function(){var t=Math.min(this.arrowTailHeight,this.height/2),n=e(Math.min(this.arrowWidth,2*this.width/3)),r=(this.height-t)/2;this.data=["0 "+(r+t),"0 "+r,this.width-n+" "+r,this.width-n+" "+0,this.width+" "+this.height/2,this.width-n+" "+this.height,this.width-n+" "+(r+t)]}}),virtualend:u(s,{arrowWidth:60,arrowTailHeight:40,renderShape:function(){var n=Math.min(this.arrowTailHeight,this.height/2),r=Math.min(this.arrowWidth,2*this.width/3),i=e((this.width-r)/36),s=(this.width-r)/12,o=(this.height-n)/2,u=this.data=[[2*s+" "+(o+n),2*s+" "+o,this.width-r+" "+o,this.width-r+" "+0,this.width+" "+this.height/2,this.width-r+" "+this.height,this.width-r+" "+(o+n)].join(","),0,o,i,n,2*i,o,s,n],a=t.createElementNS("http://www.w3.org/2000/svg","polygon");a.setAttribute("points",this.data[0]),this.g.appendChild(a);for(var f=1,l=u.length;f+3<l;f+=4)a=t.createElementNS("http://www.w3.org/2000/svg","rect"),a.setAttribute("x",u[f]),a.setAttribute("y",u[f+1]),a.setAttribute("width",u[f+2]),a.setAttribute("height",u[f+3]),this.g.appendChild(a)}}),cylinder:u(f,{cylinderWidth:60,initShape:function(){var e=Math.min(this.cylinderWidth,this.height/2)/2,t="M 0 "+e+" A "+this.width/2+" "+e+", 0, 0, 1, "+this.width+" "+e+" L "+this.width+" "+(this.height-e)+" A "+this.width/2+" "+e+", 0, 0, 1, "+0+" "+(this.height-e)+" Z",n="M 0 "+e+" A "+this.width/2+" "+e+", 0, 0, 0, "+this.width+" "+e+" A "+this.width/2+" "+e+", 0, 0, 1, "+0+" "+e;this.data=[t,n]}}),textflowchart:u(f,{initShape:function(){var t=this.height/15,n=this.width/4;this.data=["M 0 0 L "+this.width+" "+0+" L "+this.width+" "+(this.height-e(3*t))+" Q "+(this.width-n)+" "+(this.height-e(3*t))+", "+n*2+" "+(this.height-e(1.2*t))+" T "+0+" "+(this.height-t)+" Z "]}}),rectangulardialogbox:u(a,{initShape:function(){var e=this.params.params.split(";"),t=[0,0,this.width,0,this.width,this.height,0,this.height],n=this.extendedStyle.left,r=this.extendedStyle.top,i=+e[0]-n,s=+e[1]-r;o.forEach(e,function(e,t,o){t%2?(e-=r,s=Math.min(s,+e)):(e-=n,i=Math.min(i,+e)),o[t]=Math.floor(+e)}),s=Math.max(0,-s),i=Math.max(0,-i),this.offsetX+=i,this.offsetY+=s,t.splice(2*(this.getInsertionIndex(e)+1),0,e),this.data=t},getInsertionIndex:function(e){return e[0]===0&&e[4]===0?3:e[1]===0&&e[5]===0?0:e[0]===this.width&&e[4]===this.width?1:2}}),roundedrectangulardialogbox:u(f,{positionMap:[0,8,7,6,1,0,5,2,3,4],cornerMap:{1:!0,3:!0,7:!0,9:!0},initShape:function(){var e=this.params.params.split(";"),t=Math.min(this.width/8,10),n=[["M",t,0],["L",this.width-t,0],["A",t,t,"0 0 1",this.width,t],["L",this.width,this.height-t],["A",t,t,"0 0 1",this.width-t,this.height],["L",t,this.height],["A",t,t,"0 0 1",0,this.height-t],["L",0,t],["A",t,t,"0 0 1",t,0],["Z"]],r=this.extendedStyle.left,i=this.extendedStyle.top,s=+e[0]-r,u=+e[1]-i;o.forEach(e,function(e,t,n){t%2?(e-=i,u=Math.min(u,+e)):(e-=r,s=Math.min(s,+e)),n[t]=Math.floor(+e)}),u=Math.max(0,-u),s=Math.max(0,-s),this.offsetX+=s,this.offsetY+=u,this.fixData(e,n,t),this.data=o.map(n,function(e){return e.join(" ")}).join(" ")},fixData:function(e,t,n){var r=this.getArea(e[0],e[1],n),i=this.getArea(e[4],e[5],n);if(r===i){var s=this.cornerMap[r];s?t.splice(this.positionMap[r],0,["A",n,n,"0 0 1",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]):t.splice(this.positionMap[r],0,["L",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]])}else switch(r){case 1:t.splice(0,1,["M",e[4],e[5]]),t.splice(8,1,["A",n,n,"0 0 1",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]),i!==r+3&&t.splice(1,2);break;case 2:t.splice(7,1,[["L",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]]);break;case 3:t.splice(6,i!==2?2:1,["A",n,n,"0 0 1",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]);break;case 4:t.splice(1,1,["L",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]);break;case 6:t.splice(5,1,["L",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]);break;case 7:t.splice(2,i!==8?2:1,["A",n,n,"0 0 1",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]);break;case 8:t.splice(3,1,["L",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]]);break;case 9:t.splice(4,i+3!==r?2:1,["A",n,n,"0 0 1",e[0],e[1]],["L",e[2],e[3]],["L",e[4],e[5]])}},getArea:function(e,t,n){var r;return e<=n?r=0:e<=this.width-n?r=3:r=6,t<=n?r+=1:t<=this.height-n?r+=2:r+=3,r}}),ovaldialogbox:u(f,{initShape:function(){var e=this.params.params.split(";"),t=this.extendedStyle.left,n=this.extendedStyle.top,r=+e[0]-t,i=+e[1]-n;o.forEach(e,function(e,s,o){s%2?(e-=n,i=Math.min(i,+e)):(e-=t,r=Math.min(r,+e)),o[s]=Math.floor(+e)}),i=Math.max(0,-i),r=Math.max(0,-r),this.offsetX+=r,this.offsetY+=i,this.data=["M"+e[0]+" "+e[1],"A"+this.width/2+" "+this.height/2+" 0 1 0 "+e[4]+" "+e[5],"L"+e[2]+" "+e[3],"Z"].join(" ")}}),clouddialogbox:u(s,{data:"M42.128,47.696c0,0-7.188,0.875-11.438-0.688c-2.563-0.941-4.188-3.563-4.188-3.563s-9.439,1.243-13.939,0.43S4.812,40.563,3,38.813s-2.948-4.77-2.999-8.244c-0.05-3.438,1.123-6.746,2.938-8.438c3.688-3.438,7.938-4.938,7.938-4.938s-0.53-1.672,0.467-3.674c0.908-1.826,1.902-3.023,5.347-4.514c4.188-1.813,7.563-0.5,9.188-0.125s4.188,2.438,4.188,2.438s5.5-11,21.437-11.313c15.938-0.313,21.348,11.016,21.811,11.877c1.314,2.438,1.375,5.688,1.375,5.688s7.5,2.75,9.564,7.188c2.063,4.438,1.188,7.872,0.438,9.938c-2.75,7.563-8.941,8.617-8.941,8.617s-1.061,2.884-5.936,5.071c-4.938,2.125-12.176,1.813-12.176,1.813s-1.643,6.071-7.764,5.974C43.752,56.074,42.128,47.696,42.128,47.696z",initShape:function(){this.baseWidth=88,this.baseHeight=58;var e=this.params.params.split(";"),t=this.extendedStyle.left,n=this.extendedStyle.top,r=+e[0]-t,i=+e[1]-n,s=Math.max(this.width,this.height)/25;o.forEach(e,function(e,s,o){s%2?(e-=n,i=Math.min(i,+e)):(e-=t,r=Math.min(r,+e)),o[s]=Math.floor(+e)}),i=Math.max(0,-i+s),r=Math.max(0,-r+s),this.offsetX+=r,this.offsetY+=i,this.data=[this.data,!1,s,e[0],e[1],e[2],e[3]]},renderShape:function(){var e=this.data,n=t.createElementNS("http://www.w3.org/2000/svg","path"),r=t.createElementNS("http://www.w3.org/2000/svg","circle"),i=t.createElementNS("http://www.w3.org/2000/svg","circle");n.setAttribute("d",e[0]),r.setAttribute("r",3*e[2]/5),r.setAttribute("cx",e[3]),r.setAttribute("cy",e[4]),i.setAttribute("r",e[2]),i.setAttribute("cx",e[5]),i.setAttribute("cy",e[6]),this.g.appendChild(n),this.g.appendChild(r),this.g.appendChild(i)}})},c={gradualColors:["fill","rgba(255,255,255,0.5)",{hightlightarea:"rgba(255,255,0,0.5)"}],borderWidth:["strokeWidth",1],borderColor:["stroke","black"]};for(var p in l)l.hasOwnProperty(p)&&b.register(p,function(e){return function(t,n,r,i){var s=r.style||{},o={};for(var u in c)c.hasOwnProperty(u)&&(o[c[u][0]]=s[u]==null?c[u][2]&&c[u][2][e]!=null?c[u][2][e]:c[u][1]:s[u],delete s[u]);o.width=s.width||100,o.height=s.height||100,i.addClass("hi-shape-component"),t.content&&(t.content=t.content.replace(/\/\^r\$\//g,"\n"));var a=new l[e](i,o,t,s);r.style=s,n(i,!0,r)}}(p))}(),function(){function u(){}function a(e,t,n,r){this.radius=+e,this.canvas=n,this.context=r,this.render=a.prototype.render,this.color=t}function f(){this.spots={},this.cachedSpot={},this.dataRemovedCallback=this.removeHotSpots.bind(this)}var e={},n=2500,r="rgba(128, 128, 255, 0.8)",i="circle";o.extend(u.prototype,{resize:function(e,t){},setStyle:function(e,t){},render:function(e){}}),b.register("hotspot",function(t,r,o,u){var a=e[t.content=t.content||i]||e[i],f;if(a){s.support.canvas&&(o.hotSpot=a(o,u)),u.attr("data-hotspot-type",t.content);if(o.hotSpot){o.animations=o.animations||[],f=o.hotSpot,o.animations.push({easing:"swing",loop:-1,duration:n,start:o.animations.animationIn&&o.animations.animationIn.start||0,end:o.animations.animationOut&&o.animations.animationOut.end||"100%",animation:function(e,t,n){f.render(n(t))}}),r(u,!0,o),u=null;return}}r(u,!1,o),u=null}),o.inherit(u,a),o.extend(a.prototype,{setStyle:function(e,t){this[e]=t},render:function(e){var t=this.context,n=this.color,r=this.radius/7,i=this.radius/7+this.radius*e*2/7,s=this.canvas.width/2,o=this.canvas.height/2;t.clearRect(0,0,s*2,o*2),t.save(),t.fillStyle=n,t.beginPath(),t.arc(s,o,r,0,Math.PI*2,!1),t.fill(),t.beginPath(),t.arc(s,o,i,0,Math.PI*2,!1),t.lineWidth=this.radius*e/10,t.globalAlpha=1-e,t.strokeStyle=n,t.stroke(),t.closePath(),t.restore()}}),e.circle=function(e,n){var i=t.createElement("canvas"),s=i.getContext("2d");return i.width=e.style.width,i.height=e.style.height,i.style.width="100%",i.style.height="100%",n.append(i),new a(e.style.hotSpotRadius||Math.min(i.width,i.height),e.style.hotSpotColor||r,i,s)},o.extend(f.prototype,{init:function(e,t){t.on("dataRemoved",this.dataRemovedCallback)},removeHotSpots:function(e){var t=e.id;this.spots[t]&&delete this.spots[t]}}),s.support.canvas&&N.registerDefaultPlugin(f)}(),function(){function p(e,n){t&&(n._sound=e[0].children("audio")[0])&&(n._canplay=h.data(n._sound,"canplay"),n._canplay&&(n._sound.pause(),n._sound.currentTime=0,n._sound.volume=1))}function d(e,n){t&&(n._sound=e[0].children("audio")[0])}function v(e,n){t&&n._sound&&n._sound.pause()}function g(t){e[t]=e[t]||[];var r=e[t].pop();return r||(r=h(n(f,o.nextId("audio"),t,t.slice(t.lastIndexOf(".")+1)||"mp3"))[0],r._src=t),r._available=!1,r}function y(t){t._available=!0,t._time=Date.now(),e[t._src].push(t),a||(a=setTimeout(w,c))}function w(){var t=Date.now(),n=0,r,i,s,o;for(r in e)if(e.hasOwnProperty(r)){n++,s=-1,o=e[r].length;while(++s<o)i=e[r][s],i._available&&i._time!=null&&t-i._time>=c&&(h(i).remove(),i=null,e[r].splice(s,1),o--,s--),o||(delete e[r],n--)}clearTimeout(a),a=null,n&&(a=setTimeout(w,c))}function E(){this._sounds={}}var e={},t=s.support.audio,n=o.formatString,r=o.forEach,i=Math.max,u=Math.min,a=null,f='<audio id="$1" controls preload="true"><source src="$2" type="audio/$3"> </source></audio>',l=o.rootNamespace.TIMEOUT||3e3,c=15e4;b.register("sound",function(e,n,r,i,s){function f(){u&&u.off("canplay"),clearTimeout(o),n(i,!1,r)}var o,u,a;t?(o=setTimeout(f,l),u=h(g(e.content)).appendTo(i),s[0].push(r,s[1],u),u[0].readyState===4?(u.data("canplay",!0),clearTimeout(o),n(i,t,r)):(u.one("canplay",function(){h(this).data("canplay",!0),clearTimeout(o),n(i,t,r)}).one("error",f),u[0]&&u[0].load&&u[0].load()),r.animations&&(a=r.animations.animationIn,a&&r.animations.immediatelyShow&&(a.animation="SoundBasicIn"),a=r.animations.animationOut,a&&r.animations.immediatelyHidden&&(a.animation="SoundBasicOut"))):n(i,!1,r)},["soundManager","rootId"]),m.register("SoundFadeIn",{init:p,animation:t?function(e,t,n){this._sound&&(t===0?this._sound.pause():this._sound.paused&&this._sound.play(),this._sound.volume=i(0,u(1,n(t))))}:o.noop,destroy:v},"sound"),m.register("SoundFadeOut",{init:d,animation:t?function(e,t,n){this._sound&&(t===1?this._sound.pause():this._sound.paused&&this._sound.play(),this._sound.volume=i(0,u(1,n(1-t))))}:o.noop,destroy:v},"sound"),m.register("SoundBasicIn",{init:d,animation:t?function(e,t){this._sound&&(t===0?this._sound.pause():this._sound.paused&&this._sound.play())}:o.noop,destroy:v},"sound"),m.register("SoundBasicOut",{init:d,animation:t?function(e,t){this._sound&&(t===1?this._sound.pause():this._sound.paused&&this._sound.play())}:o.noop,destroy:v},"sound"),o.extend(E.prototype,{onBeforeRemoveData:function(e){var t=e.id,n;if(n=this._sounds[t])r(n,function(e){e.detach(),e.off("canplay"),e.off("error"),e=e[0],e&&(!e.paused&&e.pause&&e.pause(),y(e))}),delete this._sounds[t]},init:function(e,t,n,i){var s=this._sounds;t.loader().register("soundManager",this),t.on("beforeRemoveData",this.onBeforeRemoveData.bind(this)),i.on("sliderEnd",function(e){if(!e)return;var t=s[e.id];t&&r(t,function(e){e=e[0],e&&!e.paused&&e.pause&&e.pause()})})},push:function(e,t,n){var r=this._sounds[t];r||(r=this._sounds[t]=[]),r.push(n)}}),t&&N.registerDefaultPlugin(E)}(),function(){function e(e,t,n){var r=/url\((.*)\)$/.exec(t.style.backgroundImage),i=m.instance().setDuration(200),o,u,a;r?r=r[1]:r="",o=e.append('<img style="left:0;top:0;width:100%;height:100%;position:absolute;" src="'+r+'">').find("img");if(s.browser.ie>5&&s.browser.ie<9)return;return n==="paypalprice"&&(a=3e4,u=[{_rotate:[0,360]}],e.hover(function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",1.05],_scaleY:["@",1.05]}]}),i.play()},function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",1],_scaleY:["@",1]}]}),i.play()})),n==="paypaldiscount"&&(a=8e3,u=[{_scale:[1,1.1]},{_scale:[1.1,1]},{_scale:[1,1.1]},{_scale:[1.1,1]},{_scale:[1,1.15]},{_scale:[1.15,1]}],e.hover(function(){i.reset(),i.add({elements:e,loop:2,steps:[{_rotate:[0,-5]},{_rotate:[-5,0]},{_rotate:[0,5]},{_rotate:[5,0]}]}),i.setDuration(500).play()},function(){e.css("_rotate",0),i.reset()})),n==="paypalbuy"&&(e.hover(function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",1.05],_scaleY:["@",1.05]}]}),i.play()},function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",1],_scaleY:["@",1]}]}),i.play()}),e.on("mousedown",function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",.95],_scaleY:["@",.95]}]}),i.setDuration(100).play()}).on("mouseup",function(){i.reset(),i.add({elements:e,animation:[{_scaleX:["@",1],_scaleY:["@",1]}]}),i.play()})),n!=="paypalbuy"&&(t.animations=t.animations||[],t.animations.push({elements:o,loop:-1,easing:"linear",duration:a,start:t.animations.animationIn&&t.animations.animationIn.start||0,end:t.animations.animationOut&&t.animations.animationOut.end||"100%",animation:[{loop:1,steps:u}]})),o}b.register("button",function(e,n,r,i){function y(){s.reset().add({elements:i,easing:"swing",animation:{backgroundColor:a,color:f}}),s.play(),i.removeClass("active")}var s=new m.instance,u=r.style,a=u.backgroundColor,f=u.color,l=o.toColor(o.increaseColor(o.parseColor(a),[20,20,20])),c="grey",p=o.toColor(o.increaseColor(o.parseColor(a),[-20,-20,-20])),d,v,g;s.setDuration(150),i.html('<div class="hi-btn-link">'+e.content+"</div>"),i.css("text-align","center").css("line-height",u.height?(u.lineHeight=u.height)+"px":u.lineHeight||1),i.hover(function(){s.reset().add({elements:i,easing:"swing",animation:{backgroundColor:l,color:f}}),s.play(),h(this).removeClass("active")},function(){s.reset().add({elements:i,easing:"swing",animation:{backgroundColor:a,color:f}}),s.play(),h(this).removeClass("active")}).on("mousedown touchstart",function(){h(t).off("mouseup touchend touchcancel mouseleave",y).one("mouseup touchend touchcancel mouseleave",y),s.reset().add({elements:i,easing:"linear",animation:{backgroundColor:p,color:c}}),s.play(),h(this).addClass("active")});if(u){delete u.boxShadow,u.textAlign="center",u.userSelect="none";if(d=u.backgroundImage){delete u.backgroundImage,d=d.slice(4,-1),v=new Image,g=h('<img data-src="'+d+'"/>'),v.onload=function(){v.onload=v.onerror=null,p=l=a="transparent",delete u.backgroundColor,i.append(h('<div class="hi-btn-background"></div>').css("width",u.width?u.width+1:"100%").css("height",u.height?u.height+1:"100%").append(g)).append('<div class="hi-btn-cover"></div>'),i.addClass("hi-img-btn"),v=g=null,n(i,!0,r)},v.onerror=function(){v.onload=v.onerror=null,g[0].src="",v=g=null,n(i,!1,r)},v.src=g[0].src=d;return}}n(i,!0,r)}),o.forEach(["paypaldiscount","paypalprice","paypalbuy"],function(t){b.register(t,function(n,r,i,s){var o=i.style,u="",a="",f,l="",c=parseInt(o.fontSize,10),h=Math.ceil(c*3/10),p=o.paypalPrice;p&&t==="paypalprice"&&(u=p.substring(p.length-1),p=p.substring(0,p.length-1).split("."),l=p[0],a=p[1]||"");switch(t){case"paypalprice":f=e(s,i,t),s.append('<div style="text-shadow:1px 1px 1px black;text-rendering:optimizeLegibility;position:relative;top:0;margin:0;white-space:nowrap;text-align:center;padding-top:'+Math.floor(o.height*.2)+'px;"><div style="font-size:'+h+"px;font-weight:normal;display:block;line-height:"+Math.floor(o.height*.15)+"px;height:"+Math.floor(o.height*.15)+'px;">'+n.content+"</div>"+'<div style="line-height:'+Math.floor(o.height*.2)+'px;">'+l+'<sup style="font-size:'+Math.floor(c*4/7)+'px;">'+a+"</sup>"+u+"</div></div>");break;case"paypaldiscount":f=e(s,i,t),s.append('<div style="text-shadow:1px 1px 1px black;text-rendering:optimizeLegibility;position:relative;top:0;height:100%;white-space:nowrap;text-align:center;line-height:'+o.height+'px;">'+p+'%<span style="margin-left:6px;font-size:'+parseInt(c,10)/2+'px;">OFF</span></div>');break;case"paypalbuy":f=e(s,i,t),s.append('<span style="text-shadow:1px 1px 1px black;position:relative;float:left;line-height:'+o.height+"px;margin-left:"+o.width*.25+"px;white-space:nowrap;width: "+o.width*.75+'px;text-align: center;">'+n.content+"</span>")}i.style.backgroundImage&&delete i.style.backgroundImage,r(s,!0,i)})}),b.register("paypalstar",function(e,t,n,r){var i=0,o=n.style,u="",a,f=/url\((.*)\)$/.exec(o.backgroundImage)[1].split(";"),l=parseInt(n.template.content,10),c,h,p,d,v,m,g=o.width,y=o.height;delete o.backgroundImage;while(i++<5)i<=l?a=f[0]:a=f[1],u+="<img style='float:left;width:20%;height:100%;' src='"+a+"';>";s.support.canvas&&(u+='<canvas width="'+g+'" height="'+y+'" style="position:absolute;left:0;top:0;'+"width:"+g+"px;height:"+y+'px;"></canvas>'),c=r.append(u).find("canvas")[0],c?(p=new Image,d=new Image,h=function(){var e=-1,i=Math.round(g*.5),s=c.cloneNode().getContext("2d"),o=s.createLinearGradient(0,0,i,0),u=c.cloneNode().getContext("2d");while(e++<5)u.drawImage(p,0,0,p.width,p.height,e*g/5,0,g/5,y);o.addColorStop(0,"rgba(255,255,230,0)"),o.addColorStop(.1,"rgba(255,255,230,0.1)"),o.addColorStop(.5,"rgba(255,255,230,0.7)"),o.addColorStop(.9,"rgba(255,255,230,0.1)"),o.addColorStop(1,"rgba(255,255,230,0)"),s.save(),s.fillStyle=o,s.rotate(15*Math.PI/180),s.translate(Math.atan(Math.PI*15/180)*y,0),s.fillRect(0,-i,i,y+2*i),s.restore();var a=5*g,f=-g,l="destination-in",h="source-over",d=0,v=c.getContext("2d");n.animations.push({elements:c,duration:4e3,loop:-1,start:n.animations.animationIn&&n.animations.animationIn.start||0,end:n.animations.animationOut&&n.animations.animationOut.end||"100%",easing:"linear",animation:function(e,t){v.clearRect(d,d,g,y),v.globalCompositeOperation=h,v.drawImage(s.canvas,f+a*t,d),v.globalCompositeOperation=l,v.drawImage(u.canvas,d,d)}}),t(r,!0,n)},p.onload=function(){p.onload=null,v=!0,v&&m&&h()},d.onload=function(){d.onload=null,m=!0,v&&m&&h()},p.onerror=d.onerror=function(){this.onerror=null,t(r,!0,n)},p.src=f[0],d.src=f[1]):t(r,!0,n)}),b.register("paypalproductbox",function(e,n,r,i){var u=r.style,a=u.width,f=u.height,l=u.frameWidth,c="px";u.borderWidth&&(u.outline=u.borderWidth+"px solid "+o.toColor(u.borderColor,u.borderOpacity),delete u.borderOpacity,delete u.borderStyle,delete u.borderColor,delete u.borderWidth),u.frameWidth&&(u.borderWidth=l,u.borderColor=u.frameColor,u.borderOpacity=u.frameOpacity,u.borderStyle="solid",delete u.frameWidth,delete u.frameOpacity,delete u.frameColor),u.boxShadow&&delete u.boxShadow;var h=t.createElement("img");h.style.width=a+c,h.style.height=f+c,i.append(h);var p=t.createElement("div"),d=200;o.extend(p.style,{position:"absolute",overflow:"hidden",width:d+c,border:"1px solid #317ee7",backgroundColor:"white",borderRadius:"100%",height:d+c,display:"none"});var v=t.createElement("img"),m=3;o.extend(v.style,{position:"absolute",display:"none",width:a*m+c,height:f*m+c,border:"2px solid #ccc",borderRadius:"3px",boxShadow:"0 0 3px black"}),v.onload=v.onerror=function(){v.style.display="block"},v.src=e.content,p.appendChild(v),i.append(p);var g=i.parent(".hi-stage").parent();i.on("mouseover touchstart",function(e){var t=i.offset(),n=t.left+l,r=n+a,s=t.top+l,o=t.left+l+d/2,u=t.top+l+d/2,c=s+f,h="mouse",y=p.style,b=v.style;!e.pageX&&evetn.originalEvent.touches&&(h="touch");if(e.type.indexOf(h)<0)return;g.off(h+"move.hq").on(h+"move.hq",function(e){var t=e.pageX||e.originalEvent.touches[0].pageX,i=e.pageY||e.originalEvent.touches[0].pageY;t>n&&t<r&&i>s&&i<c?(e.preventDefault(),b.left=(n-t)*m+d/2+"px",b.top=(s-i)*m+d/2+"px",y.left=t-o+"px",y.top=i-u+"px",y.display="block"):y.display="none"}),g.off("touchend.hq").on("touchend.hq",function(){p.style.display="none",g.off("touchmove.hq mousemove.hq")})}),i.on("mouseout touchend",function(){p.style.display="none",g.off("touchmove.hq mousemove.hq")});if(s.support.canvas){var y=t.createElement("canvas");y.width=a,y.height=f,y.style.width=a+"px",y.style.height=f+"px",y.style.position="absolute",y.style.left=0,y.style.top=0,i.append(y),h.onload=function(){var e=Math.round(a*.5),t=y.cloneNode().getContext("2d"),s=t.createLinearGradient(0,0,e,0),o=y.cloneNode().getContext("2d");o.drawImage(h,0,0,h.naturalWidth,h.naturalHeight,0,0,a,f),s.addColorStop(0,"rgba(255,255,230,0)"),s.addColorStop(.1,"rgba(255,255,230,0.1)"),s.addColorStop(.5,"rgba(255,255,230,0.7)"),s.addColorStop(.9,"rgba(255,255,230,0.1)"),s.addColorStop(1,"rgba(255,255,230,0)"),t.save(),t.fillStyle=s,t.rotate(15*Math.PI/180),t.translate(Math.atan(Math.PI*15/180)*f,0),t.fillRect(0,-e,e,f+2*e),t.restore();var u=5*a,l=-a,c="destination-in",p="source-over",d=0,v=y.getContext("2d");r.animations.push({elements:y,duration:4e3,loop:-1,start:r.animations.animationIn&&r.animations.animationIn.start||0,end:r.animations.animationOut&&r.animations.animationOut.end||"100%",easing:"linear",animation:function(e,n){v.clearRect(d,d,a,f),v.globalCompositeOperation=p,v.drawImage(t.canvas,l+u*n,d),v.globalCompositeOperation=c,v.drawImage(o.canvas,d,d)}}),n(i,!0,r)},h.onerror=function(){n(i,!0,r)}}else n(i,!0,r);h.src=e.content})}(),function(){var t=/^http(?:s)?:\/\/.*$/i;C.registerAction({openurl:{hint:"Go To %content%",preProcess:function(e){t.test(e.content)||(e.content="http://"+e.content)},fire:function(t,n){var r=n.target||"_blank";if(!t)return;e.open(t,r,"")}},calljs:{hint:"Run JavaScript Code",fire:function(e,t,n){var r=new Function(e);r.apply(t.context||n)}},slideto:{hint:"Go To Slide %content",fire:function(e,t){var n=t.$controller;if(typeof e=="string")switch(e.charAt(0)){case"+":n.next(+e.substr(1));break;case"-":n.prev(+e.substr(1));break;default:n.skipTo(+e)}else typeof e=="number"&&n.skipTo(e)}},playpause:function(e,t){e=e||0;var n=t.$controller;switch(e){case 0:n.playPause();break;case 1:n.pause();break;case 2:n.play()}},callback:function(e,t,n,r){e(n,t,r)}})}(),hiSlider2f.timeStamp="Tue, 29 Apr 2014 10:08:52 GMT",o.namespace(".cores",o.rootNamespace).Engine=N,o.namespace("hiSlider2f").version="1.1.0b",e.hiSlider2=e.hiSliderNextGen=e.hiSlider2f,typeof e.define=="function"&&e.define.amd&&(e.define("hiSlider",[],function(){return o.rootNamespace}),o.rootNamespace.define=e.define,o.rootNamespace.require=e.require),e.jQuery.fn.hiSlider2f=e.hiJQuery.fn.hiSlider2f=function(e){return jQuery(this).each(function(){var t=jQuery(this),n;n=new N(o.extend(e,{container:t})),t.data("hiSlider2f",n),n.start()})},e.jQuery.fn.destroyHiSlider2f=e.hiJQuery.fn.destroyHiSlider2f=function(){return jQuery(this).each(function(){var e=jQuery(this).data("hiSlider2f");e&&e.destroy&&(e.destroy(),e=null),jQuery(this).data("hiSlider2f",null)})},e.hiSliderFactory=function(e){return new N(e)}})(window,document),function(e,t,n){(function(){var n=e.hiSlider2,r=n.utils,i=n.client.browser.ie,s=i>5&&i<9,o=r.extend,u=n.registerAnimation,a=function(e,t){t===1&&e[0].css("_origin","50%")},f=function(e){e[0].css("visibility","visible")},l={init:function(e){e[0].css({visibility:"hidden",display:""}),this.add({init:f})}},c=function(e,t){t===1&&e[0].css("display","")},h={init:function(e,t){t.aoDisplay=e[0].css("display")},animation:function(e,t){t===1?e[0].css("display","none"):e[0].css("display",this.aoDisplay)}},p={init:function(e){e[0].css("display","none")}},d=function(e){e[0][0].style.display=""};u("NoneIn",l),u("NoneOut",h),u("AlwaysDisplay",l),o(r,{simpleRegister:function(e,t,n){var r=0,i,s;while((i=e[r])&&(s=t[r]))u(s,[l,a].concat(n[s])),u(i,[h,a,{animation:n[s],inverse:!0}]),r++},multiRegister:function(e,t,n){var r=0,i,s;while((i=e[r])&&(s=t[r]))u(s,[h].concat(n[s])),u(i,[c,{animation:n[s],inverse:!0,destroy:d}]),r++},canvasRegister:function(e,t,n){var r=0,i,s;while((i=e[r])&&(s=t[r]))u(s,[l,c].concat(n[s]).concat([p])),u(i,[{animation:n[s],inverse:!0}]),r++},inverseRegister:function(e,t){var n=0,r=e.length;while(n<r)u(t[n],{animation:e[n],inverse:!0}),n++},inRegister:function(e,t){var n=0,r=t.length,i=function(e,t){t===1&&e[0].css("display","")};while(n<r)u(e[n],[{animation:t[n],inverse:!0},i]),n++},classify:function(e,t){var r,i=e.length,s=n.transitions,o=s[t]=s[t]||[];while(r=e[--i])o.push(r)},hiCloneNode:function(e){var t=hiJQuery(e),n=e instanceof hiJQuery,r=t[0].cloneNode(!1);return t.children().not(".hi-unique").clone().appendTo(r),n?hiJQuery(r):r},fix2d:function(e,n,i){var s,u,a,f,l,c,h,p,d,v,m,g=t.createElement("div"),y=hiJQuery(i),b=n.d3,w=i.offsetWidth,E=i.offsetHeight,S=[],x=n.row<0?r.defaultSize(E,n.defaultSize):n.row,T=n.col<0?r.defaultSize(w,n.defaultSize):n.col,N=r.parseIntLength(T,parseInt(w,10)),C=r.parseIntLength(x,parseInt(E,10)),k=0,L=r.getSequenceFn(n.sequence),A=r.getDirectionFn(n.hor||"left"),O=r.getDirectionFn(n.ver||"up"),M=r.hiCloneNode;g.className=i.className+" hi-effect "+e,g.id=(i.id||"hi")+"-clone",o(g.style,{zIndex:i.style.zIndex,backgroundColor:"",position:"absolute",display:"none",padding:"0px",margin:"0px",overflow:n.overflow,border:"0px",width:w+"px",height:E+"px",left:i.offsetLeft+"px",top:i.offsetTop+"px"}),L.getSequenceSet&&L.getSequenceSet(x,T);for(u=0;u<x;u++){f=O(u,x),l=f==0?C[f]:C[f]-C[f-1],h=f==0?0:C[f-1];for(s=0;s<T;s++)a=A(s,T),c=a==0?N[0]:N[a]-N[a-1],p=a==0?0:N[a-1],v=t.createElement("div"),v.id=a.toString()+f,v.className=e,o(v.style,{overflow:"hidden",position:"absolute",width:c+"px",height:l+"px",left:p+"px",top:h+"px",zIndex:"1"}),d=M(y).addClass("hi-clone").appendTo(v).css({width:y.width()+"px",height:y.height()+"px",visibility:"visible",position:"absolute",margin:"0",left:-p+"px",top:-h+"px"}),b&&hiJQuery(v).css({perspective:"1000px",transform:"translateZ(0px)"}),g.appendChild(v),m=L.getSequence(s,u,x,T),m>k&&(k=m),S.push({clip:[0,c,l,0],i:a,j:f,image:hiJQuery(d).find("img"),clone:d[0],block:v,width:c,height:l,left:p,top:h,sequence:m})}return S.maxSequence=k,S.container=g,S},dataWrapper:function(e,t,n,i){var s,o=t.css({visibility:"hidden",display:""})[0];return n.row=parseInt(n.row,10),n.col=parseInt(n.col,10),i?s=r.fix3d(e,n,o,i):s=r.fix2d(e,n,o),t.css({display:"none",visibility:"visible"}).after(s.container),s},addAnimations:function(e,t,n,r,i){var s=0,o,u,a,f=parseInt(e.delay||100,10)/100,l=t.maxSequence===0?1:t.maxSequence,c=Math.pow,h=0,p,d=t.container,v=function(e,t,r){e=e[0],t===0||t===1?d.style.display="none":(i.css("display","none"),d.style.display=""),u=e.sequence*p,a=0,h=0,t>=u&&(t>u+f?(a=1,h=1):(a=(t-u)/f,h=r(a))),n(e,h,e.index,a)};if(f<0||l===1||f>1)f=1;p=(1-f)/l,e.cross||(c=function(){}),e.$element&&e.$element.after(d);while(o=t[s])o.index=s,o.cross=c(-1,s),r.add({elements:[o],animation:v}),s++},changeColor:function(t,n,r){var i,o,u,a,f;t=hiJQuery.trim(t),n=Math.ceil(n);if(/#[^#]/.test(t))t.length==4?(i=t.slice(1,2),i=parseInt(i+i,16),o=t.slice(2,3),o=parseInt(o+o,16),u=t.slice(3),u=parseInt(u+u,16),a=255):(i=parseInt(t.slice(1,3),16),o=parseInt(t.slice(3,5),16),u=parseInt(t.slice(5,7),16),a=parseInt(t.slice(7),10),a=e.isNaN(a)?255:a);else if(/0x[^0x]/.test(t))i=parseInt(t.slice(2,4),16),o=parseInt(t.slice(4,6),16),u=parseInt(t.slice(6,8),16),a=255;else if(/rgb[^a]/.test(t))f=t.slice(4,t.length-1).split(","),i=parseInt(f[0],10),o=parseInt(f[1],10),u=parseInt(f[2],10),a=255;else{if(!/^rgba/.test(t))return t;f=t.slice(5,t.length-1).split(","),i=parseInt(f[0],10),o=parseInt(f[1],10),u=parseInt(f[2],10),a=parseFloat(f[3])*255}return r&&(a=r*255),a===0?"transparent":(i+=n,i=i<0?0:i,u+=n,u=u<0?0:u,o+=n,o=o<0?0:o,s?t="rgb("+i+","+o+","+u+")":t="rgba("+i+","+o+","+u+","+a/255+")",t)},randomGet:function(e){return e[Math.floor(Math.random()*e.length)]},parseIntLength:function(e,t){var n=[],r=t%e,i=(t-r)/e,s=0,o=0;while(o<e)o<r?s=s+i+1:s+=i,n.push(s),o++;return n},defaultSize:function(e,t){var n=t||25,r;return e<=0?r=1:r=Math.ceil(e/n),r},getDirectionFn:function(e){var t=["up","down","left","right"];e=="random"&&(e=r.randomGet(t));switch(e){case"up":case"left":return function(e,t){return t-e-1};default:return function(e){return e}}},getSequenceFn:function(e){var t,n=0,i,s=0,o=r.sequenceFn;if(e=="randomSequence"){for(t in o)o.hasOwnProperty(t)&&n++;i=Math.floor(Math.random()*n);for(t in o){if(o.hasOwnProperty(t)&&s==i)return o[t];s++}}return o[e]||{getSequence:function(){return 0}}},sequenceFn:{Row:{getSequence:function(e,t,n,r){return t*r+e}},Col:{getSequence:function(e,t,n){return e*n+t}},Diagonal:{getSequence:function(e,t){return e+t}},Random:{getSequence:function(e,t,n,r){var i=Math.random()*4;return i>3?e+t:i>2?r-e-1+t:i>1?n-t-1+e:n-t-1+r-e-1}},RowCross:{getSequence:function(e,t,n,r){return t%2==0?t*r+e:t*r+(r-e-1)}},ColCross:{getSequence:function(e,t,n){return e%2==0?e*n+t:e*n+(n-t-1)}},SquareIn:{getSequenceSet:function(e,t,n){var r=e*t,i=0,s=0,o=0,u=0,a=this,f=[],l=[];while(o<r){i=u;for(s=u;s<t-u;++s)f[o++]=i*t+s;s=t-u-1;for(i=u+1;i<e-u;++i)f[o++]=i*t+s;i=e-u-1;if(e>1)for(s=t-u-2;s>=u;--s)f[o++]=i*t+s;s=u;if(t>1)for(i=e-u-2;i>u;--i)f[o++]=i*t+s;u++}n=="SquareOut"&&f.reverse();for(i=0;i<f.length;i++)l[f[i]]=i;return a.indexes=l,l},getSequence:function(e,t,n,r){var i=this;return i.indexes[t*r+e]}},SquareOut:{getSequenceSet:function(e,t){var n=this,i=r.getSequenceFn("SquareIn");n.indexes=i.getSequenceSet(e,t,"SquareOut")},getSequence:function(e,t,n,r){var i=this;return i.indexes[t*r+e]}},EdgeToMiddleDiagonal:{getSequence:function(e,t,n,r){var i=(r+n)/2,s=e+t,o=0;return s>i?o=r+n-t-e:o=e+t,o}},MiddleToEdgeDiagonal:{getSequence:function(e,t,n,r){return Math.ceil(Math.abs((r-1+n-1)/2-e-t))}},RowSeparate:{getSequence:function(e,t,n,r){return t%2==0?e%2==0?e*2:(r-e-1)*2+1:e%2==1?e*2:(r-e)*2-1}},ColSeparate:{getSequence:function(e,t,n){return e%2==0?t%2==0?t*2:(n-t-1)*2+1:t%2==1?t*2:(n-t)*2-1}},DiagonalSeparate:{getSequence:function(e,t,n,r){return e%2==0?t%2==0?(t+e)*2:(n-t+r-e-2)*2+1:t%2==1?(t+e)*2:(n-t+r-e)*2-1}}}})})(e.hiJQuery),function(){var t=e.hiSlider2,n=t.utils,r=n.extend,i={init:function(e){var t=Math.random()>.5?-Math.round(Math.random()*75+45):Math.round(Math.random()*75+45),n=Math.random()>.5?-Math.round(Math.random()*200+50):Math.round(Math.random()*200+50),r=Math.random()>.5?-Math.round(Math.random()*200+50):Math.round(Math.random()*200+50),i=e[0],s=parseInt(i.css("_rotate"),10)+t,o=parseInt(i.css("left"),10)+n,u=parseInt(i.css("top"),10)+r,a=Math.round(Math.random()*100)+"%",f=Math.round(Math.random()*100)+"%";e[0].css("_origin",a+" "+f),this.add(function(e,i,a){i=a(i),e[0].css({left:o-n*i,top:u-r*i,_rotate:s-t*i})})}},s=["FadeIn","ZoomIn","ScaleIn","MoveInFromTop","MoveInFromLeft","MoveInFromRight","MoveInFromBottom","FlexInFromLeft","FlexInFromRight","FlexInFromTop","FlexInFromBottom","SwingInFromLeft","SwingInFromRight","SwingInFromTop","SwingInFromBottom","RandomRotateIn","RandomZoomIn","SkewInFromLeft","SkewInFromRight","ExtendInFromLeft","ExtendInFromRight","ExtendInFromBottom","ExtendInFromTop"],o=["FadeOut","ZoomOut","ScaleOut","MoveOutToTop","MoveOutToLeft","MoveOutToRight","MoveOutToBottom","FlexOutToLeft","FlexOutToRight","FlexOutToTop","FlexOutToBottom","SwingOutToLeft","SwingOutToRight","SwingOutToTop","SwingOutToBottom","RandomRotateOut","RandomZoomOut","SkewOutToLeft","SkewOutToRight","ExtendOutToLeft","ExtendOutToRight","ExtendOutToBottom","ExtendOutToTop"],u={ZoomIn:[{init:function(e){var t=parseFloat(e[0].css("_scale"));t&&this.add(function(e,n,r){e[0].css("_scale",t*r(n))})}}],SwingInFromTop:[{init:function(e){e[0].css("_origin","50% 0%"),this.add(function(e,t,n){t=n(t),e[0].css({_rotateX:90*(1-t),_perspective:400+600*t})})}}],SwingInFromRight:[{init:function(e){e[0].css("_origin","100% 50%"),this.add(function(e,t,n){t=n(t),e[0].css({_rotateY:90*(1-t),_perspective:400+600*t})})}}],SwingInFromBottom:[{init:function(e){e[0].css("_origin","50% 100%"),this.add(function(e,t,n){t=n(t),e[0].css({_rotateX:-90*(1-t),_perspective:400+600*t})})}}],SwingInFromLeft:[{init:function(e){e[0].css("_origin","0% 50%"),this.add(function(e,t,n){t=n(t),e[0].css({_rotateY:-90*(1-t),_perspective:400+600*t})})}}],ExtendInFromTop:[{init:function(e){var t=e[0].css({_transform:"none"})[0],n=t.offsetWidth,r=t.offsetHeight;this.add(function(e,t,i){t=i(t),e[0][0].style.clip="rect(0px, "+n+"px, "+t*r+"px, 0px)"})}}],ExtendInFromRight:[{init:function(e){var t=e[0].css({_transform:"none"})[0],n=t.offsetWidth,r=t.offsetHeight;this.add(function(e,t,i){t=i(t),e[0][0].style.clip="rect(0px, "+n+"px, "+r+"px, "+(n-n*t)+"px)"})}}],ExtendInFromBottom:[{init:function(e){var t=e[0].css({_transform:"none"})[0],n=t.offsetWidth,r=t.offsetHeight;this.add(function(e,t,i){t=i(t),e[0][0].style.clip="rect("+(r-t*r)+"px, "+n+"px, "+r+"px, 0px)"})}}],ExtendInFromLeft:[{init:function(e){var t=e[0].css({_transform:""})[0],n=t.offsetWidth,r=t.offsetHeight;this.add(function(e,t,i){t=i(t),e[0][0].style.clip="rect(0px, "+n*t+"px, "+r+"px, "+"0px)"})}}],FadeIn:[{init:function(e){var t=parseFloat(e[0].css("opacity"));t&&this.add(function(e,n){e[0].css("opacity",t*n)})}}]};r(u,{ScaleIn:u.FadeIn.concat([{init:function(e){var t=parseFloat(e[0].css("_scale")),n=t*2;t&&this.add(function(e,r,i){e[0].css("_scale",n-t*i(r))})}}]),MoveInFromTop:u.FadeIn.concat([{init:function(e){var t=e[0],n=t.height(),r=-n*1.382;this.add(function(e,t,n){t=n(t),e[0].css({_translateY:r*(1-t)})})}}]),MoveInFromRight:u.FadeIn.concat([{init:function(e){var t=e[0],n=t.width(),r=n*1.382;this.add(function(e,t,n){t=n(t),e[0].css({_translateX:r*(1-t)})})}}]),MoveInFromBottom:u.FadeIn.concat([{init:function(e){var t=e[0],n=t.height(),r=n*1.382;this.add(function(e,t,n){t=n(t),e[0].css({_translateY:r*(1-t)})})}}]),MoveInFromLeft:u.FadeIn.concat([{init:function(e){var t=e[0],n=t.width(),r=-n*1.382;this.add(function(e,t,n){t=n(t),e[0].css({_translateX:r*(1-t)})})}}]),RandomZoomIn:u.ZoomIn.concat([i])}),r(u,{RandomRotateIn:u.ScaleIn.concat([i]),SkewInFromLeft:u.MoveInFromLeft.concat([{init:function(e){var t=parseFloat(e[0].css("_scaleY"));e[0].css("_origin","100% 50%"),this.add(function(e,n,r){n=r(n),e[0].css({_skewX:45*(1-n),_scaleY:t*n})})}}]),SkewInFromRight:u.MoveInFromRight.concat([{init:function(e){var t=parseFloat(e[0].css("_scaleY"));e[0].css("_origin","100% 50%"),this.add(function(e,n,r){n=r(n),e[0].css({_skewX:-45*(1-n),_scaleY:t*n})})}}]),FlexInFromTop:u.MoveInFromTop.concat([{init:function(e){var t=parseInt(e[0].css("_scaleY"),10);e[0].css("_origin","50% 100%"),this.add(function(e,n,r){n=r(n),e[0].css({_scaleY:t*(2-n)})})}}]),FlexInFromRight:u.MoveInFromRight.concat([{init:function(e){var t=parseInt(e[0].css("_scaleX"),10);e[0].css("_origin","0% 50%"),this.add(function(e,n,r){n=r(n),e[0].css({_scaleX:t*(2-n)})})}}]),FlexInFromBottom:u.MoveInFromBottom.concat([{init:function(e){var t=parseInt(e[0].css("_scaleY"),10);e[0].css("_origin","50% 100%"),this.add(function(e,n,r){n=r(n),e[0].css({_scaleY:t*(2-n)})})}}]),FlexInFromLeft:u.MoveInFromLeft.concat([{init:function(e){var t=parseInt(e[0].css("_scaleX"),10);e[0].css("_origin","0% 50%"),this.add(function(e,n,r){n=r(n),e[0].css({_scaleX:t*(2-n)})})}}])}),n.simpleRegister(o,s,u)}(),function(){var t=e.hiSlider2,n=t.utils,r=n.extend,i=t.client.browser,s=n.dataWrapper,o=n.addAnimations,u=n.randomGet,a=["BlockFadeOut","BlockZoomOut","ShuffleOut","SliceOut","SmoothOut","SliceOutToTop","SliceOutToRight","SliceOutToBottom","SliceOutToLeft","SliceOutVerCross","SliceOutHorCross","BlindOutVer","BlindOutHor","BlindFadeOutToTop","BlindFadeOutToRight","BlindFadeOutToBottom","BlindFadeOutToLeft","BlurOut","GrayOut"],f=["BlockFadeIn","BlockZoomIn","ShuffleIn","SliceIn","SmoothIn","SliceInFromTop","SliceInFromRight","SliceInFromBottom","SliceInFromLeft","SliceInVerCross","SliceInHorCross","BlindInVer","BlindInHor","BlindFadeInFromTop","BlindFadeInFromRight","BlindFadeInFromBottom","BlindFadeInFromLeft","BlurIn","GrayIn"],l=function(){this.cancel&&this.cancel(),hiJQuery(this.container).remove()},c={BlockFadeOut:{prepare:function(e,t,n){var i=r({},{row:-1,col:-1,delay:40,sequence:"randomSequence",d3:!0},this.$params),u=s("blockFadeOut",n[0],i),a=function(e,t,n,r){hiJQuery(e.block).css("opacity",1-r)};o(i,u,a,this,n[0]),this.container=u.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l},BlockZoomOut:{prepare:function(e,t,n){var i=r({},{row:-1,col:-1,delay:50,sequence:"randomSequence"},this.$params),u=s("blockFadeOut",n[0],i),a,f,l,c=function(e,t){a=e.clip,f=e.width*t/2,l=e.height*t/2,e.block.style.clip="rect("+(a[0]+l)+"px,"+(a[1]-f)+"px,"+(a[2]-l)+"px,"+(a[3]+f)+"px)"};o(i,u,c,this,n[0]),this.container=u.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l},BlurOut:{prepare:function(e,t,n){var u=r({},{row:1,col:1,sequence:"randomSequence",delay:50,d3:!0},this.$params),a=s("blurOut",n[0],u),f=i.ie>6&&i.ie<9,l=0,c,h,p=function(e,t,n,r){var i=0;r<=.6?i=r/.6:i=1,f?e.clone[0].filters.item("DXImageTransform.Microsoft.BasicImage").opacity=1-i:e.clone.style.opacity=1-i,r>=.6?i=(r-.6)/.4:i=0,e.ie?e.blurClone[0].filters.item("DXImageTransform.Microsoft.BasicImage").opacity=1-i:e.blurClone.css("opacity",1-i)};while(c=a[l])h=hiJQuery(c.clone).css("transform","translateZ(0px)").clone().prependTo(hiJQuery(c.block)).addClass("hi-blur"),f&&(h.css({left:"-=11px",top:"-=11px"}),c.clone.style.filter="progid:DXImageTransform.Microsoft.BasicImage(opacity=1);"),c.blurClone=h,l++;o(u,a,p,this,n[0]),this.container=a.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l},GrayOut:{prepare:function(e,t,n){var u=r({},{row:1,col:1,sequence:"randomSequence",delay:50,d3:!0},this.$params),a=s("GrayOut",n[0],u),f=i.ie>6&&i.ie<9,l=0,c,h,p=function(e,t,n,r){var i=0;r<=.6?i=r/.6:i=1,f?e.clone[0].filters.item("DXImageTransform.Microsoft.BasicImage").opacity=1-i:e.clone.style.opacity=1-i,r>=.6?i=(r-.6)/.4:i=0,f?e.blurClone[0].filters.item("DXImageTransform.Microsoft.BasicImage").opacity=1-i:e.blurClone.css("opacity",1-i)};while(c=a[l])h=hiJQuery(c.clone).css({transform:"translateZ(0px)",opacity:0}).clone().prependTo(hiJQuery(c.block)).addClass("hi-grayscale"),c.clone.style.filter="progid:DXImageTransform.Microsoft.BasicImage(opacity=1);",c.blurClone=h,l++;o(u,a,p,this,n[0]),this.container=a.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l},ShuffleOut:{prepare:function(t,n,i){var u=this.params=r({},{row:3,col:5,sequence:"randomSequence",d3:!0},this.$params),a=i[0].css("display",""),f=a[0],l=f.offsetWidth,c=f.offsetHeight,h=a.offset(),p=h.left>l/2?l/2:h.left,d=h.top>c/2?c/2:h.top,v=hiJQuery(e).width(),m=hiJQuery(e).height(),g=s("shuffleOut",a,u),y=v>p*2+l?p*2+l:v,b=m>d*2+c?d*2+c:m,w=0,E,S=function(e,t,n,r){hiJQuery(e.block).css("opacity",1-r),e.block.style.left=e.left+e.tarleft*t+"px",e.block.style.top=e.top+e.tartop*t+"px"};while(E=g[w])E.tarleft=Math.random()*(y-E.width)-p-E.left,E.tartop=Math.random()*(b-E.height)-d-E.top,w++;o(u,g,S,this,i[0]),this.container=g.container,this.cancel=n.defaultPrepare("img",i,t)},destroy:l},SliceOut:{prepare:function(e,t,n){var i=r({},{elements:10,delay:50,direction:"random",cross:"random",overflow:"hidden",sequence:"randomSequence",range:10},this.$params),a=i.range,f=i.hor==="right"||i.ver==="up"?-a*10:a*10,l,c,h,p;i.direction=="random"&&(i.direction=u(["vertical","horizontal"])),i.cross=="random"&&(i.cross=u([!0,!1])),i.cross=i.cross==="true",i.direction=="vertical"?(i.row=1,i.col=parseInt(i.elements,10)):(i.row=parseInt(i.elements,10),i.col=1),l=s("sliceOut",n[0],i),i.direction=="vertical"?c=function(e,t,n,r){i.cross?h=f*e.cross:h=f,hiJQuery(e.block).css("opacity",1-r),e.block.style.top=h*t+"%"}:c=function(e,t,n,r){i.cross?p=f*e.cross:p=f,hiJQuery(e.block).css("opacity",1-r),e.block.style.left=p*t+"%"},o(i,l,c,this,n[0]),this.container=l.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l},SmoothOut:{prepare:function(e,t,n){var i=r({},{elements:10,delay:60,sequence:"randomSequence",direction:"random",cross:"random",type:"random"},this.$params),a,f,l,c,h,p;i.direction=="random"&&(i.direction=u(["vertical","horizontal"])),i.direction=="horizontal"?(i.row=parseInt(i.elements,10),i.col=1):(i.row=1,i.col=parseInt(i.elements,10)),i.type=="random"&&(i.type=u(["height","width"])),i.cross=="random"&&(i.cross=u(["true","false"])),i.type=="height"?a=function(e,t,n){i.cross=="true"&&n%2==0?(f=e.clip[0],c=e.clip[2]-e.height*t):(f=e.clip[0]+e.height*t,c=e.clip[2]),e.block.style.clip="rect("+f+"px "+e.clip[1]+"px "+c+"px "+e.clip[3]+"px)"}:a=function(e,t,n){i.cross=="true"&&n%2==0?(l=e.clip[1],h=e.clip[3]+e.width*t):(l=e.clip[1]-e.width*t,h=e.clip[3]),e.block.style.clip="rect("+e.clip[0]+"px "+l+"px "+e.clip[2]+"px "+h+"px)"},p=s("smoothOut",n[0],i),o(i,p,a,this,n[0]),this.container=p.container,this.cancel=t.defaultPrepare("img",n,e)},destroy:l}};r(c,{BlindFadeOutToTop:r({},c.BlockFadeOut,{params:{row:-1,col:1,sequence:"Diagonal"}}),BlindFadeOutToRight:r({},c.BlockFadeOut,{params:{row:1,col:-1,sequence:"Diagonal",hor:"right"}}),BlindFadeOutToBottom:r({},c.BlockFadeOut,{params:{row:-1,col:1,sequence:"Diagonal",ver:"down"}}),BlindFadeOutToLeft:r({},c.BlockFadeOut,{params:{row:1,col:-1,sequence:"Diagonal"}}),SliceOutToTop:r({},c.SliceOut,{params:{elements:-1,direction:"vertical",sequence:"Diagonal",cross:"false",overflow:"visible",ver:"up"}}),SliceOutToBottom:r({},c.SliceOut,{params:{elements:-1,direction:"vertical",sequence:"Diagonal",cross:"false",overflow:"visible"}}),SliceOutToLeft:r({},c.SliceOut,{params:{elements:-1,direction:"horizontal",sequence:"Diagonal",cross:"false",overflow:"visible",hor:"left"}}),SliceOutToRight:r({},c.SliceOut,{params:{elements:-1,direction:"horizontal",sequence:"Diagonal",cross:"false",overflow:"visible"}}),SliceOutVerCross:r({},c.SliceOut,{params:{elements:-1,direction:"vertical",sequence:"Diagonal",cross:"true",overflow:"visible"}}),SliceOutHorCross:r({},c.SliceOut,{params:{elements:-1,direction:"horizontal",sequence:"Diagonal",cross:"true",overflow:"visible"}}),BlindOutVer:r({},c.SmoothOut,{params:{elements:-1,sequence:"Diagonal",direction:"vertical",type:"width",cross:"false"}}),BlindOutHor:r({},c.SmoothOut,{params:{elements:-1,sequence:"Diagonal",direction:"horizontal",type:"height",cross:"false"}})}),n.multiRegister(f,a,c)}(e.hiJQuery),function(){var n=e.hiSlider2,r=n.utils,i=n.client.support.canvas,s=["CircleOut","ShineOut","ShineOutRandom","ShineOutVer","ShineOutHor","ScanOut"],o=["CircleIn","ShineIn","ShineInRandom","ShineInVer","ShineInHor","ScanIn"],u={ShineIn:{init:function(e){if(!i||e[0].find("img").length===0&&e[0][0].nodeName.toLowerCase()!=="img")this.add("FadeIn");else{var s,o,u=0,a,f,l,c,h,p,d,v,m=this,g=20,y=.3,b=m.params?m.params.shape.toLowerCase()||"random":"random",w=e[0],E=w[0],S=parseFloat(w.css("opacity")||1),x=E.nodeName.toLowerCase()==="img",T=x?E:w.find("img")[0],N=x?0:T.offsetLeft,C=x?0:T.offsetTop,k=E.offsetWidth,L=E.offsetHeight,A=E.offsetLeft,O=E.offsetTop,M=k/2,_=L/2,D=n.eases.easeOutQuad,P=m.image2=new Image,H=this.canvas=hiJQuery("<canvas>",{id:"hi-shineIn-canvas",style:"position:absolute;width:"+k+"px;height:"+L+"px;left:0;top:0;opacity:"+parseFloat(w.css("opacity")||1)+";z-index:1"})[0],B=H.cloneNode(!1),j=H.getContext("2d"),F=B.getContext("2d"),I=.33333333333333337,q=1-I,R=[],U=M-_,z=0,W=g,X="255,255,255",V=.65,$=this.container=t.createElement("div"),J=$.style,K=Math.floor,Q=Math.random;H.width=k,H.height=L,B.width=k,B.height=L,$.className="hi-shineIn-container",J.position="absolute",J.zIndex=E.style.zIndex,J.opacity=parseFloat(w.css("opacity")||1),J.width=k+"px",J.height=L+"px",J.left=A+"px",J.top=O+"px",$.appendChild(H),w.after($),F.lineWidth=1,b=="random"&&(b=r.randomGet(["hor","ver"]));for(h=0;h<g;h++)p=K(Q()*g)+1,p>z&&(z=p),p<W&&(W=p),R.push({x:K(Q()*k),y:K(Q()*L),r:K(Q()*U+_),s:p,radii:0});z==1?d=0:d=1/z,P.onload=function(){P.onload=P.onerror=null,s=P.width,o=P.height,m.add&&m.add({easing:"easeOutQuad",animation:function(e,t,n){t===0&&t===1?$.style.display="none":(E.style.display="none",$.style.display=""),j.clearRect(0,0,k,L),F.clearRect(0,0,k,L),F.globalCompositeOperation="source-over",F.globalAlpha=1,t>I&&(F.fillStyle="rgba("+X+","+D((t-I)/q)+")",F.fillRect(0,0,k,L));for(h=0;h<g;h++)v=R[h],a=(v.s-W)*d,t>=a&&(u=n((t-a)/(1-a)),f=K(v.r*u),f!==v.radii&&(v.radii=f,l=v.x-f,c=f<<1,F.fillStyle="rgba("+X+","+u/2+")",F.strokeStyle="rgba("+X+","+u+")",b==="ver"?(F.fillRect(0,l,k,c),F.beginPath(),F.moveTo(0,l+.5),F.lineTo(k,l+.5),F.moveTo(0,l+c+.5),F.lineTo(k,l+c+.5),F.stroke(),F.closePath()):(F.fillRect(l,0,c,L),F.beginPath(),F.moveTo(l+.5,0),F.lineTo(l+.5,L),F.moveTo(l+c+.5,0),F.lineTo(l+c+.5,L),F.stroke(),F.closePath())));u=0,y>0&&(j.globalCompositeOperation="lighter",t>=V&&(u=D((t-V)/(1-V))),j.globalAlpha=y*(1-u),j.drawImage(F.canvas,0,0)),F.globalCompositeOperation="source-atop",F.drawImage(T,0,0,s,o,N,C,k,L),j.globalCompositeOperation="lighter",j.globalAlpha=S,j.drawImage(F.canvas,0,0)}})},P.src=T.src}},destroy:function(){this.image2&&(this.image2.onload=null),this.container&&hiJQuery(this.container).remove()}},CircleIn:{init:function(e){if(!n.client.support.canvas||e[0].find("img").length===0&&e[0][0].nodeName.toLowerCase()!=="img")this.add("FadeIn");else{var i,s,o,u,a,f=.5,l=this,c=e[0],h=c[0],p=-1,d=h.offsetWidth,v=h.offsetHeight,m=d/2,g=v/2,y=h.nodeName.toLowerCase()==="img",b=y?h:c.find("img")[0],w=y?0:b.offsetLeft,E=y?0:b.offsetTop,S=l.img=new Image,x=this.container=t.createElement("div"),T=t.createElement("canvas"),N=T.getContext("2d"),C=Math.PI*2,k,L,A=T.style,O=Math.ceil(Math.sqrt(d*d+v*v)),M=p===-1?r.defaultSize(O,50):p,_=r.parseIntLength(M,O),D=x.style;T.width=d,T.height=v,x.className="hi-circleIn",D.position="absolute",D.opacity=c.css("opacity"),D.zIndex=h.style.zIndex,D.width=d+"px",D.height=v+"px",D.left=h.offsetLeft+"px",D.top=h.offsetTop+"px",A.position="absolute",A.left=0,A.top=0,A.width=d+"px",A.height=v+"px",x.appendChild(T),k=T.cloneNode(!1),L=k.getContext("2d"),S.onload=function(){o=S.width,u=S.height,S.onload=null,l.add&&l.add(function(e,t){t===0||t===1?x.style.display="none":(c.css("display","none"),x.style.display=""),i=0,N.clearRect(0,0,d,v);while(i<M)L.clearRect(0,0,d,v),L.save(),s=i/M*(1-f),O=s+f,a=0,t>=s&&(t>O?a=1:a=(t-s)/f),L.globalAlpha=a,L.beginPath(),L.arc(m,g,_[i]/2,0,C,!1),L.closePath(),L.clip(),L.drawImage(b,0,0,o,u,w,E,d,v),N.drawImage(L.canvas,0,0),L.restore(),i++})},S.src=b.src,c.after(x)}},destroy:function(){this.img&&(this.img.onload=null),this.container&&hiJQuery(this.container).remove()}},ScanIn:{init:function(e){if(!n.client.support.canvas||e[0].find("img").length===0&&e[0][0].nodeName.toLowerCase()!=="img")this.add("FadeIn");else{var r,i,s,o,u,a,f=.75,l=this,c=Math.ceil(Math.random()*20),h=e[0],p=h[0],d=p.offsetWidth,v=p.offsetHeight,m=d/2,g=v/2,y=p.nodeName.toLowerCase()==="img",b=y?p:h.find("img")[0],w=y?0:b.offsetLeft,E=y?0:b.offsetTop,S=l.img=new Image,x=this.container=t.createElement("div"),T=t.createElement("canvas"),N=T.getContext("2d"),C,k,L=T.style,A=Math.ceil(Math.sqrt(d*d+v*v)),O=Math.PI*2/c,M=x.style;T.width=d,T.height=v,x.className="hi-scanIn",M.position="absolute",M.opacity=h.css("opacity"),M.zIndex=p.style.zIndex,M.width=d+"px",M.height=v+"px",M.left=p.offsetLeft+"px",M.top=p.offsetTop+"px",L.position="absolute",L.left=0,L.top=0,L.width=d+"px",L.height=v+"px",x.appendChild(T),C=T.cloneNode(!1),k=C.getContext("2d"),S.onload=function(){S.onload=null,o=S.width,u=S.height,l.add&&l.add(function(e,t){t===0||t===1?x.style.display="none":(h.css("display","none"),x.style.display=""),r=0,N.clearRect(0,0,d,v);while(r<c)k.clearRect(0,0,d,v),k.save(),i=r/c*(1-f),s=i+f,a=0,t>=i&&(t>s?a=1:a=(t-i)/f),k.beginPath(),k.moveTo(m,g),k.arc(m,g,A/2,r*O,(r+a)*O,!1),k.lineTo(m,g),k.closePath(),k.clip(),k.drawImage(b,0,0,o,u,w,E,d,v),N.drawImage(k.canvas,0,0),k.restore(),r++})},S.src=b.src,h.after(x)}},destroy:function(){this.img&&(this.img.onload=null),this.container&&hiJQuery(this.container).remove()}}};r.extend(u,{ShineInVer:r.extend({},u.ShineIn,{params:{shape:"Ver"}}),ShineInHor:r.extend({},u.ShineIn,{params:{shape:"Hor"}}),ShineInRandom:r.extend({},u.ShineIn,{params:{shape:"Random"}})}),r.canvasRegister(s,o,u)}(e.hiJQuery)}(window,document);